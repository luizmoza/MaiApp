<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Gerencial</title>

<!-- Jquery -->
<script type="text/javascript">
/*! jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.2",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+rb(o[l]);w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return lb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=mb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=nb(b);function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++)gb(a,b[d],c);return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sb(tb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;
return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)
}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});
//# sourceMappingURL=jquery.min.map	
</script>

<!-- Jquery -->
<script type="text/javascript">
/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);
i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);
return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;
if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};
f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));
return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});	
</script>

<!-- Touch -->
<script type="text/javascript" > 
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);
</script>

<!-- Pivot.js -->
<script type="text/javascript">
(function(){var t,e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return -1},n=[].slice,r=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var i,l,o,s,u,c,d,h,p,f,g,v,m,$,b,C,y,_,w,A,x,S,T;return l=function(t,e,n){var r,a,i,l;for(t+="",i=(a=t.split("."))[0],l=a.length>1?n+a[1]:"",r=/(\d+)(\d{3})/;r.test(i);)i=i.replace(r,"$1"+e+"$2");return i+l},_=(g=function(e){var n;return n={digitsAfterDecimal:2,scaler:1,thousandsSep:",",decimalSep:".",prefix:"",suffix:""},e=t.extend({},n,e),function(t){var n;return isNaN(t)||!isFinite(t)?"":(n=l((e.scaler*t).toFixed(e.digitsAfterDecimal),e.thousandsSep,e.decimalSep),""+e.prefix+n+e.suffix)}})(),w=g({digitsAfterDecimal:0}),A=g({digitsAfterDecimal:1,scaler:100,suffix:"%"}),(o={count:function(t){return null==t&&(t=w),function(){return function(e,n,r){return{count:0,push:function(){return this.count++},value:function(){return this.count},format:t}}}},uniques:function(t,n){return null==n&&(n=w),function(r){var a;return a=r[0],function(r,i,l){return{uniq:[],push:function(t){var n;if(n=t[a],0>e.call(this.uniq,n))return this.uniq.push(t[a])},value:function(){return t(this.uniq)},format:n,numInputs:null!=a?0:1}}}},sum:function(t){return null==t&&(t=_),function(e){var n;return n=e[0],function(e,r,a){return{sum:0,push:function(t){if(!isNaN(parseFloat(t[n])))return this.sum+=parseFloat(t[n])},value:function(){return this.sum},format:t,numInputs:null!=n?0:1}}}},extremes:function(t,e){return null==e&&(e=_),function(n){var r;return r=n[0],function(n,a,i){return{val:null,sorter:d(null!=n?n.sorters:void 0,r),push:function(e){var n,a,i,l;if(l=e[r],"min"!==t&&"max"!==t||isNaN(l=parseFloat(l))||(this.val=Math[t](l,null!=(n=this.val)?n:l)),"first"===t&&0>=this.sorter(l,null!=(a=this.val)?a:l)&&(this.val=l),"last"===t&&this.sorter(l,null!=(i=this.val)?i:l)>=0)return this.val=l},value:function(){return this.val},format:function(t){return isNaN(t)?t:e(t)},numInputs:null!=r?0:1}}}},quantile:function(t,e){return null==e&&(e=_),function(n){var r;return r=n[0],function(n,a,i){return{vals:[],push:function(t){var e;if(!isNaN(e=parseFloat(t[r])))return this.vals.push(e)},value:function(){var e;return 0===this.vals.length?null:(this.vals.sort(function(t,e){return t-e}),e=(this.vals.length-1)*t,(this.vals[Math.floor(e)]+this.vals[Math.ceil(e)])/2)},format:e,numInputs:null!=r?0:1}}}},runningStat:function(t,e,n){return null==t&&(t="mean"),null==e&&(e=1),null==n&&(n=_),function(r){var a;return a=r[0],function(r,i,l){return{n:0,m:0,s:0,push:function(t){var e,n;return isNaN(n=parseFloat(t[a]))?void 0:(this.n+=1,1===this.n)?this.m=n:(e=this.m+(n-this.m)/this.n,this.s=this.s+(n-this.m)*(n-e),this.m=e)},value:function(){if("mean"===t)return 0===this.n?0/0:this.m;if(this.n<=e)return 0;switch(t){case"var":return this.s/(this.n-e);case"stdev":return Math.sqrt(this.s/(this.n-e))}},format:n,numInputs:null!=a?0:1}}}},sumOverSum:function(t){return null==t&&(t=_),function(e){var n,r;return r=e[0],n=e[1],function(e,a,i){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[r]))||(this.sumNum+=parseFloat(t[r])),!isNaN(parseFloat(t[n])))return this.sumDenom+=parseFloat(t[n])},value:function(){return this.sumNum/this.sumDenom},format:t,numInputs:null!=r&&null!=n?0:2}}}},sumOverSumBound80:function(t,e){return null==t&&(t=!0),null==e&&(e=_),function(n){var r,a;return a=n[0],r=n[1],function(n,i,l){return{sumNum:0,sumDenom:0,push:function(t){if(isNaN(parseFloat(t[a]))||(this.sumNum+=parseFloat(t[a])),!isNaN(parseFloat(t[r])))return this.sumDenom+=parseFloat(t[r])},value:function(){var e;return e=t?1:-1,(.821187207574908/this.sumDenom+this.sumNum/this.sumDenom+1.2815515655446004*e*Math.sqrt(.410593603787454/(this.sumDenom*this.sumDenom)+this.sumNum*(1-this.sumNum/this.sumDenom)/(this.sumDenom*this.sumDenom)))/(1+1.642374415149816/this.sumDenom)},format:e,numInputs:null!=a&&null!=r?0:2}}}},fractionOf:function(t,e,r){return null==e&&(e="total"),null==r&&(r=A),function(){var a;return a=1<=arguments.length?n.call(arguments,0):[],function(n,i,l){return{selector:({total:[[],[]],row:[i,[]],col:[[],l]})[e],inner:t.apply(null,a)(n,i,l),push:function(t){return this.inner.push(t)},format:r,value:function(){return this.inner.value()/n.getAggregator.apply(n,this.selector).inner.value()},numInputs:t.apply(null,a)().numInputs}}}}}).countUnique=function(t){return o.uniques(function(t){return t.length},t)},o.listUnique=function(t){return o.uniques(function(e){return e.sort(f).join(t)},function(t){return t})},o.max=function(t){return o.extremes("max",t)},o.min=function(t){return o.extremes("min",t)},o.first=function(t){return o.extremes("first",t)},o.last=function(t){return o.extremes("last",t)},o.median=function(t){return o.quantile(.5,t)},o.average=function(t){return o.runningStat("mean",1,t)},o.var=function(t,e){return o.runningStat("var",t,e)},o.stdev=function(t,e){return o.runningStat("stdev",t,e)},h={en:{aggregators:s={Count:(S=o).count(w),"Count Unique Values":S.countUnique(w),"List Unique Values":S.listUnique(", "),Sum:S.sum(_),"Integer Sum":S.sum(w),Average:S.average(_),Median:S.median(_),"Sample Variance":S.var(1,_),"Sample Standard Deviation":S.stdev(1,_),Minimum:S.min(_),Maximum:S.max(_),First:S.first(_),Last:S.last(_),"Sum over Sum":S.sumOverSum(_),"80% Upper Bound":S.sumOverSumBound80(!0,_),"80% Lower Bound":S.sumOverSumBound80(!1,_),"Sum as Fraction of Total":S.fractionOf(S.sum(),"total",A),"Sum as Fraction of Rows":S.fractionOf(S.sum(),"row",A),"Sum as Fraction of Columns":S.fractionOf(S.sum(),"col",A),"Count as Fraction of Total":S.fractionOf(S.count(),"total",A),"Count as Fraction of Rows":S.fractionOf(S.count(),"row",A),"Count as Fraction of Columns":S.fractionOf(S.count(),"col",A)},renderers:$={Table:function(t,e){return v(t,e)},Heatmap:function(e,n){return t(v(e,n)).heatmap("heatmap",n)}},localeStrings:{renderError:"An error occurred rendering the PivotTable results.",computeError:"An error occurred computing the PivotTable results.",uiRenderError:"An error occurred rendering the PivotTable UI.",selectAll:"Select All",selectNone:"Select None",tooMany:"(too many to list)",filterResults:"Filter values",apply:"Apply",cancel:"Cancel",totals:"Totals",vs:"vs",by:"by"}}},p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x=function(t){return("0"+t).substr(-2,2)},c={bin:function(t,e){return function(n){return n[t]-n[t]%e}},dateFormat:function(t,e,n,r,a){var i;return null==n&&(n=!1),null==r&&(r=p),null==a&&(a=u),i=n?"UTC":"",function(n){var l;return isNaN(l=new Date(Date.parse(n[t])))?"":e.replace(/%(.)/g,function(t,e){switch(e){case"y":return l["get"+i+"FullYear"]();case"m":return x(l["get"+i+"Month"]()+1);case"n":return r[l["get"+i+"Month"]()];case"d":return x(l["get"+i+"Date"]());case"w":return a[l["get"+i+"Day"]()];case"x":return l["get"+i+"Day"]();case"H":return x(l["get"+i+"Hours"]());case"M":return x(l["get"+i+"Minutes"]());case"S":return x(l["get"+i+"Seconds"]());default:return"%"+e}})}}},b=/(\d+)|(\D+)/g,m=/\d/,C=/^0/,f=function(t,e){var n,r,a,i,l,o;if(null!=e&&null==t)return -1;if(null!=t&&null==e)return 1;if("number"==typeof t&&isNaN(t))return -1;if("number"==typeof e&&isNaN(e))return 1;if((l=+t)<(o=+e))return -1;if(l>o)return 1;if("number"==typeof t&&"number"!=typeof e)return -1;if("number"==typeof e&&"number"!=typeof t)return 1;if("number"==typeof t&&"number"==typeof e)return 0;if(isNaN(o)&&!isNaN(l))return -1;if(isNaN(l)&&!isNaN(o))return 1;if((n=String(t))===(a=String(e)))return 0;if(!(m.test(n)&&m.test(a)))return n>a?1:-1;for(n=n.match(b),a=a.match(b);n.length&&a.length;)if((r=n.shift())!==(i=a.shift())){if(m.test(r)&&m.test(i))return r.replace(C,".0")-i.replace(C,".0");return r>i?1:-1}return n.length-a.length},y=function(t){var e,n,r,a;for(e in r={},n={},t)r[a=t[e]]=e,"string"==typeof a&&(n[a.toLowerCase()]=e);return function(t,e){if(null!=r[t]&&null!=r[e])return r[t]-r[e];if(null!=r[t])return -1;if(null!=r[e])return 1;if(null!=n[t]&&null!=n[e])return n[t]-n[e];if(null!=n[t])return -1;else if(null!=n[e])return 1;else return f(t,e)}},d=function(e,n){var r;if(null!=e){if(t.isFunction(e)){if(r=e(n),t.isFunction(r))return r}else if(null!=e[n])return e[n]}return f},i=function(){function e(t,n){var a,i,l,s,u,c,d,h,p,f,g;null==n&&(n={}),this.getAggregator=r(this.getAggregator,this),this.getRowKeys=r(this.getRowKeys,this),this.getColKeys=r(this.getColKeys,this),this.sortKeys=r(this.sortKeys,this),this.arrSort=r(this.arrSort,this),this.input=t,this.aggregator=null!=(a=n.aggregator)?a:o.count()(),this.aggregatorName=null!=(i=n.aggregatorName)?i:"Count",this.colAttrs=null!=(l=n.cols)?l:[],this.rowAttrs=null!=(s=n.rows)?s:[],this.valAttrs=null!=(u=n.vals)?u:[],this.sorters=null!=(c=n.sorters)?c:{},this.rowOrder=null!=(d=n.rowOrder)?d:"key_a_to_z",this.colOrder=null!=(h=n.colOrder)?h:"key_a_to_z",this.derivedAttributes=null!=(p=n.derivedAttributes)?p:{},this.filter=null!=(f=n.filter)?f:function(){return!0},this.tree={},this.rowKeys=[],this.colKeys=[],this.rowTotals={},this.colTotals={},this.allTotal=this.aggregator(this,[],[]),this.sorted=!1,e.forEachRecord(this.input,this.derivedAttributes,(g=this,function(t){if(g.filter(t))return g.processRecord(t)}))}return e.forEachRecord=function(e,n,r){var i,l,o,s,u,c,d,h,p,f,g,v;if(i=t.isEmptyObject(n)?r:function(t){var e,a,i;for(e in n)i=n[e],t[e]=null!=(a=i(t))?a:t[e];return r(t)},t.isFunction(e))return e(i);if(t.isArray(e)){if(t.isArray(e[0])){for(o in f=[],e)if(a.call(e,o)){if(l=e[o],!(o>0))continue;for(s in h={},p=e[0])a.call(p,s)&&(h[u=p[s]]=l[s]);f.push(i(h))}return f}for(c=0,g=[],d=e.length;c<d;c++)h=e[c],g.push(i(h));return g}if(e instanceof t)return v=[],t("thead > tr > th",e).each(function(e){return v.push(t(this).text())}),t("tbody > tr",e).each(function(e){return h={},t("td",this).each(function(e){return h[v[e]]=t(this).text()}),i(h)});throw Error("unknown input format")},e.prototype.forEachMatchingRecord=function(t,n){var r;return e.forEachRecord(this.input,this.derivedAttributes,(r=this,function(e){var a,i,l;if(r.filter(e)){for(a in t)if((l=t[a])!==(null!=(i=e[a])?i:"null"))return;return n(e)}}))},e.prototype.arrSort=function(t){var e,n;return n=(function(){var n,r,a;for(n=0,a=[],r=t.length;n<r;n++)e=t[n],a.push(d(this.sorters,e));return a}).call(this),function(t,e){var r,i,l;for(i in n)if(a.call(n,i)&&0!==(r=(l=n[i])(t[i],e[i])))return r;return 0}},e.prototype.sortKeys=function(){var t,e,n,r,a,i;if(!this.sorted){switch(this.sorted=!0,t=(e=this,function(t,n){return e.getAggregator(t,n).value()}),this.rowOrder){case"value_a_to_z":this.rowKeys.sort(function(e,n){return f(t(e,[]),t(n,[]))});break;case"value_z_to_a":this.rowKeys.sort(function(e,n){return-f(t(e,[]),t(n,[]))});break;default:this.rowKeys.sort(this.arrSort(this.rowAttrs))}switch(this.colOrder){case"value_a_to_z":return this.colKeys.sort(function(e,n){return f(t([],e),t([],n))});case"value_z_to_a":return this.colKeys.sort(function(e,n){return-f(t([],e),t([],n))});default:return this.colKeys.sort(this.arrSort(this.colAttrs))}}},e.prototype.getColKeys=function(){return this.sortKeys(),this.colKeys},e.prototype.getRowKeys=function(){return this.sortKeys(),this.rowKeys},e.prototype.processRecord=function(t){var e,n,r,a,i,l,o,s,u,c,d,h,p;for(a=0,e=[],h=[],i=(s=this.colAttrs).length;a<i;a++)p=s[a],e.push(null!=(u=t[p])?u:"null");for(o=0,l=(c=this.rowAttrs).length;o<l;o++)p=c[o],h.push(null!=(d=t[p])?d:"null");if(r=h.join("\0"),n=e.join("\0"),this.allTotal.push(t),0!==h.length&&(this.rowTotals[r]||(this.rowKeys.push(h),this.rowTotals[r]=this.aggregator(this,h,[])),this.rowTotals[r].push(t)),0!==e.length&&(this.colTotals[n]||(this.colKeys.push(e),this.colTotals[n]=this.aggregator(this,[],e)),this.colTotals[n].push(t)),0!==e.length&&0!==h.length)return this.tree[r]||(this.tree[r]={}),this.tree[r][n]||(this.tree[r][n]=this.aggregator(this,h,e)),this.tree[r][n].push(t)},e.prototype.getAggregator=function(t,e){var n,r,a;return a=t.join("\0"),r=e.join("\0"),null!=(n=0===t.length&&0===e.length?this.allTotal:0===t.length?this.colTotals[r]:0===e.length?this.rowTotals[a]:this.tree[a][r])?n:{value:function(){return null},format:function(){return""}}},e}(),t.pivotUtilities={aggregatorTemplates:o,aggregators:s,renderers:$,derivers:c,locales:h,naturalSort:f,numberFormat:g,sortAs:y,PivotData:i},v=function(e,n){var r,i,l,o,s,u,c,d,h,p,f,g,v,m,$,b,C,y,_,w,A,x,S,T;for(h in u={table:{clickCallback:null,rowTotals:!0,colTotals:!0},localeStrings:{totals:"Totals"}},n=t.extend(!0,{},u,n),l=e.colAttrs,g=e.rowAttrs,m=e.getRowKeys(),s=e.getColKeys(),n.table.clickCallback&&(c=function(t,r,i){var o,s,u;for(u in s={},l)a.call(l,u)&&(o=l[u],null!=i[u]&&(s[o]=i[u]));for(u in g)a.call(g,u)&&(o=g[u],null!=r[u]&&(s[o]=r[u]));return function(r){return n.table.clickCallback(r,t,s,e)}}),(f=document.createElement("table")).className="pvtTable",$=function(t,e,n){var r,a,i,l,o,s,u,c;if(0!==e){for(l=!0,c=r=0,o=n;0<=o?r<=o:r>=o;c=0<=o?++r:--r)t[e-1][c]!==t[e][c]&&(l=!1);if(l)return -1}for(a=0;e+a<t.length;){for(u=!1,c=i=0,s=n;0<=s?i<=s:i>=s;c=0<=s?++i:--i)t[e][c]!==t[e+a][c]&&(u=!0);if(u)break;a++}return a},_=document.createElement("thead"),l)if(a.call(l,h)){for(d in i=l[h],A=document.createElement("tr"),0===parseInt(h)&&0!==g.length&&((y=document.createElement("th")).setAttribute("colspan",g.length),y.setAttribute("rowspan",l.length),A.appendChild(y)),(y=document.createElement("th")).className="pvtAxisLabel",y.textContent=i,A.appendChild(y),s)a.call(s,d)&&(o=s[d],-1!==(T=$(s,parseInt(d),parseInt(h)))&&((y=document.createElement("th")).className="pvtColLabel",y.textContent=o[h],y.setAttribute("colspan",T),parseInt(h)===l.length-1&&0!==g.length&&y.setAttribute("rowspan",2),A.appendChild(y)));0===parseInt(h)&&n.table.rowTotals&&((y=document.createElement("th")).className="pvtTotalLabel pvtRowTotalLabel",y.innerHTML=n.localeStrings.totals,y.setAttribute("rowspan",l.length+(0===g.length?0:1)),A.appendChild(y)),_.appendChild(A)}if(0!==g.length){for(d in A=document.createElement("tr"),g)a.call(g,d)&&(p=g[d],(y=document.createElement("th")).className="pvtAxisLabel",y.textContent=p,A.appendChild(y));y=document.createElement("th"),0===l.length&&(y.className="pvtTotalLabel pvtRowTotalLabel",y.innerHTML=n.localeStrings.totals),A.appendChild(y),_.appendChild(A)}for(d in f.appendChild(_),b=document.createElement("tbody"),m)if(a.call(m,d)){for(h in v=m[d],A=document.createElement("tr"),v)a.call(v,h)&&(x=v[h],-1!==(T=$(m,parseInt(d),parseInt(h)))&&((y=document.createElement("th")).className="pvtRowLabel",y.textContent=x,y.setAttribute("rowspan",T),parseInt(h)===g.length-1&&0!==l.length&&y.setAttribute("colspan",2),A.appendChild(y)));for(h in s)a.call(s,h)&&(o=s[h],S=(r=e.getAggregator(v,o)).value(),(C=document.createElement("td")).className="pvtVal row"+d+" col"+h,C.textContent=r.format(S),C.setAttribute("data-value",S),null!=c&&(C.onclick=c(S,v,o)),A.appendChild(C));(n.table.rowTotals||0===l.length)&&(S=(w=e.getAggregator(v,[])).value(),(C=document.createElement("td")).className="pvtTotal rowTotal",C.textContent=w.format(S),C.setAttribute("data-value",S),null!=c&&(C.onclick=c(S,v,[])),C.setAttribute("data-for","row"+d),A.appendChild(C)),b.appendChild(A)}if(n.table.colTotals||0===g.length){for(h in A=document.createElement("tr"),(n.table.colTotals||0===g.length)&&((y=document.createElement("th")).className="pvtTotalLabel pvtColTotalLabel",y.innerHTML=n.localeStrings.totals,y.setAttribute("colspan",g.length+(0===l.length?0:1)),A.appendChild(y)),s)a.call(s,h)&&(o=s[h],S=(w=e.getAggregator([],o)).value(),(C=document.createElement("td")).className="pvtTotal colTotal",C.textContent=w.format(S),C.setAttribute("data-value",S),null!=c&&(C.onclick=c(S,[],o)),C.setAttribute("data-for","col"+h),A.appendChild(C));(n.table.rowTotals||0===l.length)&&(S=(w=e.getAggregator([],[])).value(),(C=document.createElement("td")).className="pvtGrandTotal",C.textContent=w.format(S),C.setAttribute("data-value",S),null!=c&&(C.onclick=c(S,[],[])),A.appendChild(C)),b.appendChild(A)}return f.appendChild(b),f.setAttribute("data-numrows",m.length),f.setAttribute("data-numcols",s.length),f},t.fn.pivot=function(e,n,r){var a,l,s,u,c,d,p,f;null==r&&(r="en"),null==h[r]&&(r="en"),a={cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:i,filter:function(){return!0},aggregator:o.count()(),aggregatorName:"Count",sorters:{},derivedAttributes:{},renderer:v},s={rendererOptions:{localeStrings:u=t.extend(!0,{},h.en.localeStrings,h[r].localeStrings)},localeStrings:u},c=t.extend(!0,{},s,t.extend({},a,n)),p=null;try{d=new c.dataClass(e,c);try{p=c.renderer(d,c.rendererOptions)}catch(g){l=g,"undefined"!=typeof console&&null!==console&&console.error(l.stack),p=t("<span>").html(c.localeStrings.renderError)}}catch(m){l=m,"undefined"!=typeof console&&null!==console&&console.error(l.stack),p=t("<span>").html(c.localeStrings.computeError)}for(f=this[0];f.hasChildNodes();)f.removeChild(f.lastChild);return this.append(p)},t.fn.pivotUI=function(n,r,l,o){var s,u,c,p,g,v,m,$,b,C,y,_,w,A,x,S,T,k,O,N,E,D,R,F,L,U,K,q,z,I,M,V,j,H,B,P,J,G,W,Y,Q,X,Z,tt,te,tn,tr;null==l&&(l=!1),null==o&&(o="en"),null==h[o]&&(o="en"),$={derivedAttributes:{},aggregators:h[o].aggregators,renderers:h[o].renderers,hiddenAttributes:[],hiddenFromAggregators:[],hiddenFromDragDrop:[],menuLimit:500,cols:[],rows:[],vals:[],rowOrder:"key_a_to_z",colOrder:"key_a_to_z",dataClass:i,exclusions:{},inclusions:{},unusedAttrsVertical:85,autoSortUnusedAttrs:!1,onRefresh:null,showUI:!0,filter:function(){return!0},sorters:{}},k={rendererOptions:{localeStrings:O=t.extend(!0,{},h.en.localeStrings,h[o].localeStrings)},localeStrings:O},R=null==(C=this.data("pivotUIOptions"))||l?t.extend(!0,{},k,t.extend({},$,r)):C;try{for(te in g={},N=[],U=0,i.forEachRecord(n,R.derivedAttributes,function(t){var e,n,r,i;if(R.filter(t)){for(e in N.push(t),t)a.call(t,e)&&null==g[e]&&(g[e]={},U>0&&(g[e].null=U));for(e in g)i=null!=(r=t[e])?r:"null",null==(n=g[e])[i]&&(n[i]=0),g[e][i]++;return U++}}),Q=t("<table>",{class:"pvtUi"}).attr("cellpadding",5),H=t("<td>").addClass("pvtUiCell"),j=t("<select>").addClass("pvtRenderer").appendTo(H).bind("change",function(){return M()}),K=R.renderers)a.call(K,te)&&t("<option>").val(te).html(te).appendTo(j);if(X=t("<td>").addClass("pvtAxisContainer pvtUnused pvtUiCell"),P=function(){var t;for(s in t=[],g)0>e.call(R.hiddenAttributes,s)&&t.push(s);return t}(),J=function(){var t,n,r;for(t=0,r=[],n=P.length;t<n;t++)v=P[t],0>e.call(R.hiddenFromAggregators,v)&&r.push(v);return r}(),G=function(){var t,n,r;for(t=0,r=[],n=P.length;t<n;t++)v=P[t],0>e.call(R.hiddenFromDragDrop,v)&&r.push(v);return r}(),tt=!1,Z="auto"===R.unusedAttrsVertical?120:parseInt(R.unusedAttrsVertical),!isNaN(Z)){for(A=0,p=0,x=G.length;A<x;A++)s=G[A],p+=s.length;tt=p>Z}for(_ in!0===R.unusedAttrsVertical||tt?X.addClass("pvtVertList"):X.addClass("pvtHorizList"),y=function(n){var r,a,i,l,o,s,u,c,h,p,f,v,m,$,b,C,y,w,A;if(A=function(){var t;for(b in t=[],g[n])t.push(b);return t}(),c=!1,(w=t("<div>").addClass("pvtFilterBox").hide()).append(t("<h4>").append(t("<span>").text(n),t("<span>").addClass("count").text("("+A.length+")"))),A.length>R.menuLimit)w.append(t("<p>").html(R.localeStrings.tooMany));else for(A.length>5&&(l=t("<p>").appendTo(w),m=d(R.sorters,n),f=R.localeStrings.filterResults,t("<input>",{type:"text"}).appendTo(l).attr({placeholder:f,class:"pvtSearch"}).bind("keyup",function(){var n,r,a;return a=t(this).val().toLowerCase().trim(),r=function(t,n){return function(r){var i,l;return i=a.substring(t.length).trim(),0===i.length||(l=Math.sign(m(r.toLowerCase(),i)),e.call(n,l)>=0)}},n=0===a.indexOf(">=")?r(">=",[1,0]):0===a.indexOf("<=")?r("<=",[-1,0]):0===a.indexOf(">")?r(">",[1]):0===a.indexOf("<")?r("<",[-1]):0===a.indexOf("~")?function(t){return 0===a.substring(1).trim().length||t.toLowerCase().match(a.substring(1))}:function(t){return -1!==t.toLowerCase().indexOf(a)},w.find(".pvtCheckContainer p label span.value").each(function(){return n(t(this).text())?t(this).parent().parent().show():t(this).parent().parent().hide()})}),l.append(t("<br>")),t("<button>",{type:"button"}).appendTo(l).html(R.localeStrings.selectAll).bind("click",function(){return w.find("input:visible:not(:checked)").prop("checked",!0).toggleClass("changed"),!1}),t("<button>",{type:"button"}).appendTo(l).html(R.localeStrings.selectNone).bind("click",function(){return w.find("input:visible:checked").prop("checked",!1).toggleClass("changed"),!1})),a=t("<div>").addClass("pvtCheckContainer").appendTo(w),v=A.sort(d(R.sorters,n)),p=0,h=v.length;p<h;p++)C=v[p],y=g[n][C],o=t("<label>"),s=!1,R.inclusions[n]?s=0>e.call(R.inclusions[n],C):R.exclusions[n]&&(s=e.call(R.exclusions[n],C)>=0),c||(c=s),t("<input>").attr("type","checkbox").addClass("pvtFilter").attr("checked",!s).data("filter",[n,C]).appendTo(o).bind("change",function(){return t(this).toggleClass("changed")}),o.append(t("<span>").addClass("value").text(C)),o.append(t("<span>").addClass("count").text("("+y+")")),a.append(t("<p>").append(o));return i=function(){return w.find("[type='checkbox']").length>w.find("[type='checkbox']:checked").length?r.addClass("pvtFilteredAttribute"):r.removeClass("pvtFilteredAttribute"),w.find(".pvtSearch").val(""),w.find(".pvtCheckContainer p").show(),w.hide()},u=t("<p>").appendTo(w),A.length<=R.menuLimit&&t("<button>",{type:"button"}).text(R.localeStrings.apply).appendTo(u).bind("click",function(){return w.find(".changed").removeClass("changed").length&&M(),i()}),t("<button>",{type:"button"}).text(R.localeStrings.cancel).appendTo(u).bind("click",function(){return w.find(".changed:checked").removeClass("changed").prop("checked",!1),w.find(".changed:not(:checked)").removeClass("changed").prop("checked",!0),i()}),$=t("<span>").addClass("pvtTriangle").html(" &#x25BE;").bind("click",function(e){var n,r,a;return n=(r=t(e.currentTarget).position()).left,a=r.top,w.css({left:n+10,top:a+10}).show()}),r=t("<li>").addClass("axis_"+_).append(t("<span>").addClass("pvtAttr").text(n).data("attrName",n).append($)),c&&r.addClass("pvtFilteredAttribute"),X.append(r).append(w)},G)a.call(G,_)&&(c=G[_],y(c));for(te in W=t("<tr>").appendTo(Q),u=t("<select>").addClass("pvtAggregator").bind("change",function(){return M()}),q=R.aggregators)a.call(q,te)&&u.append(t("<option>").val(te).html(te));for(F={key_a_to_z:{rowSymbol:"&varr;",colSymbol:"&harr;",next:"value_a_to_z"},value_a_to_z:{rowSymbol:"&darr;",colSymbol:"&rarr;",next:"value_z_to_a"},value_z_to_a:{rowSymbol:"&uarr;",colSymbol:"&larr;",next:"key_a_to_z"}},B=t("<a>",{role:"button"}).addClass("pvtRowOrder").data("order",R.rowOrder).html(F[R.rowOrder].rowSymbol).bind("click",function(){return t(this).data("order",F[t(this).data("order")].next),t(this).html(F[t(this).data("order")].rowSymbol),M()}),m=t("<a>",{role:"button"}).addClass("pvtColOrder").data("order",R.colOrder).html(F[R.colOrder].colSymbol).bind("click",function(){return t(this).data("order",F[t(this).data("order")].next),t(this).html(F[t(this).data("order")].colSymbol),M()}),t("<td>").addClass("pvtVals pvtUiCell").appendTo(W).append(u).append(B).append(m).append(t("<br>")),t("<td>").addClass("pvtAxisContainer pvtHorizList pvtCols pvtUiCell").appendTo(W),(Y=t("<tr>").appendTo(Q)).append(t("<td>").addClass("pvtAxisContainer pvtRows pvtUiCell").attr("valign","top")),L=t("<td>").attr("valign","top").addClass("pvtRendererArea").appendTo(Y),!0===R.unusedAttrsVertical||tt?(Q.find("tr:nth-child(1)").prepend(H),Q.find("tr:nth-child(2)").prepend(X)):Q.prepend(t("<tr>").append(H).append(X)),this.html(Q),z=R.cols,E=0,S=z.length;E<S;E++)te=z[E],this.find(".pvtCols").append(this.find(".axis_"+t.inArray(te,G)));for(D=0,T=(I=R.rows).length;D<T;D++)te=I[D],this.find(".pvtRows").append(this.find(".axis_"+t.inArray(te,G)));null!=R.aggregatorName&&this.find(".pvtAggregator").val(R.aggregatorName),null!=R.rendererName&&this.find(".pvtRenderer").val(R.rendererName),R.showUI||this.find(".pvtUiCell").hide(),w=!0,V=(tn=this,function(){var n,r,a,i,l,o,s,d,h,p,g,v,$,b;if(p={derivedAttributes:R.derivedAttributes,localeStrings:R.localeStrings,rendererOptions:R.rendererOptions,sorters:R.sorters,cols:[],rows:[],dataClass:R.dataClass},l=null!=(d=R.aggregators[u.val()]([])().numInputs)?d:0,b=[],tn.find(".pvtRows li span.pvtAttr").each(function(){return p.rows.push(t(this).data("attrName"))}),tn.find(".pvtCols li span.pvtAttr").each(function(){return p.cols.push(t(this).data("attrName"))}),tn.find(".pvtVals select.pvtAttrDropdown").each(function(){return 0===l?t(this).remove():(l--,""!==t(this).val())?b.push(t(this).val()):void 0}),0!==l)for(s=tn.find(".pvtVals"),te=g=0,h=l;0<=h?g<h:g>h;te=0<=h?++g:--g){for(v=0,i=t("<select>").addClass("pvtAttrDropdown").append(t("<option>")).bind("change",function(){return M()}),a=J.length;v<a;v++)c=J[v],i.append(t("<option>").val(c).text(c));s.append(i)}if(w&&(b=R.vals,_=0,tn.find(".pvtVals select.pvtAttrDropdown").each(function(){return t(this).val(b[_]),_++}),w=!1),p.aggregatorName=u.val(),p.vals=b,p.aggregator=R.aggregators[u.val()](b),p.renderer=R.renderers[j.val()],p.rowOrder=B.data("order"),p.colOrder=m.data("order"),n={},tn.find("input.pvtFilter").not(":checked").each(function(){var e;return(e=t(this).data("filter"),null!=n[e[0]])?n[e[0]].push(e[1]):n[e[0]]=[e[1]]}),r={},tn.find("input.pvtFilter:checked").each(function(){var e;if(e=t(this).data("filter"),null!=n[e[0]])return null!=r[e[0]]?r[e[0]].push(e[1]):r[e[0]]=[e[1]]}),p.filter=function(t){var r,a,i,l;if(!R.filter(t))return!1;for(a in n)if(r=n[a],i=""+(null!=(l=t[a])?l:"null"),e.call(r,i)>=0)return!1;return!0},L.pivot(N,p),o=t.extend({},R,{cols:p.cols,rows:p.rows,colOrder:p.colOrder,rowOrder:p.rowOrder,vals:b,exclusions:n,inclusions:r,inclusionsInfo:r,aggregatorName:u.val(),rendererName:j.val()}),tn.data("pivotUIOptions",o),R.autoSortUnusedAttrs&&($=tn.find("td.pvtUnused.pvtAxisContainer"),t($).children("li").sort(function(e,n){return f(t(e).text(),t(n).text())}).appendTo($)),L.css("opacity",1),null!=R.onRefresh)return R.onRefresh(o)}),(M=function(){return L.css("opacity",.5),setTimeout(V,10)})(),this.find(".pvtAxisContainer").sortable({update:function(t,e){if(null==e.sender)return M()},connectWith:this.find(".pvtAxisContainer"),items:"li",placeholder:"pvtPlaceholder"})}catch(ta){b=ta,"undefined"!=typeof console&&null!==console&&console.error(b.stack),this.html(R.localeStrings.uiRenderError)}return this},t.fn.heatmap=function(e,n){var r,a,i,l,o,s;return null==e&&(e="heatmap"),l=this.data("numrows"),i=this.data("numcols"),null==(r=null!=n&&null!=(o=n.heatmap)?o.colorScaleGenerator:void 0)&&(r=function(t){var e,n;return n=Math.min.apply(Math,t),e=Math.max.apply(Math,t),function(t){var r;return"rgb(255,"+(r=255-Math.round(255*(t-n)/(e-n)))+","+r+")"}}),a=(s=this,function(e){var n,a,i;return i=[],(a=function(n){return s.find(e).each(function(){var e;if(null!=(e=t(this).data("value"))&&isFinite(e))return n(e,t(this))})})(function(t){return i.push(t)}),n=r(i),a(function(t,e){return e.css("background-color",n(t))})}),"heatmap"===e&&a(".pvtVal"),this},t.fn.barchart=function(e){var n,r,a,i,l,o,s;for(l=this.data("numrows"),i=this.data("numcols"),n=(s=this,function(e){var n,r,a,i,l,o;return o=[],(n=function(n){return s.find(e).each(function(){var e;if(null!=(e=t(this).data("value"))&&isFinite(e))return n(e,t(this))})})(function(t){return o.push(t)}),(r=Math.max.apply(Math,o))<0&&(r=0),i=r,(a=Math.min.apply(Math,o))<0&&(i=r-a),l=function(t){return 100*t/(1.4*i)},n(function(e,n){var r,i,o,s;return o=n.text(),s=t("<div>").css({position:"relative",height:"55px"}),i="gray",r=0,a<0&&(r=l(-a)),e<0&&(r+=l(e),i="darkred",e=-e),s.append(t("<div>").css({position:"absolute",bottom:r+"%",left:0,right:0,height:l(e)+"%","background-color":i})),s.append(t("<div>").text(o).css({position:"relative","padding-left":"5px","padding-right":"5px"})),n.css({padding:0,"padding-top":"5px","text-align":"center"}).html(s)})}),r=a=0,o=l;0<=o?a<o:a>o;r=0<=o?++a:--a)n(".pvtVal.row"+r);return n(".pvtTotal.colTotal"),this}})}).call(this);
</script>



<script>
(function() {
  var callWithJQuery;

  callWithJQuery = function(pivotModule) {
    if (typeof exports === "object" && typeof module === "object") {
      return pivotModule(require("jquery"));
    } else if (typeof define === "function" && define.amd) {
      return define(["jquery"], pivotModule);
    } else {
      return pivotModule(jQuery);
    }
  };

  callWithJQuery(function($) {
    var c3r, d3r, frFmt, frFmtInt, frFmtPct, gcr, nf, r, tpl;
    nf = $.pivotUtilities.numberFormat;
    tpl = $.pivotUtilities.aggregatorTemplates;
    r = $.pivotUtilities.renderers;
    gcr = $.pivotUtilities.gchart_renderers;
    d3r = $.pivotUtilities.d3_renderers;
    c3r = $.pivotUtilities.c3_renderers;
    frFmt = nf({
      thousandsSep: ".",
      decimalSep: ","
    });
    frFmtInt = nf({
      digitsAfterDecimal: 0,
      thousandsSep: ".",
      decimalSep: ","
    });
    frFmtPct = nf({
      digitsAfterDecimal: 2,
      scaler: 100,
      suffix: "%",
      thousandsSep: ".",
      decimalSep: ","
    });
    $.pivotUtilities.locales.pt = {
      localeStrings: {
        renderError: "Ocorreu um error ao renderizar os resultados da Tabela Dinmica.",
        computeError: "Ocorreu um error ao computar os resultados da Tabela Dinmica.",
        uiRenderError: "Ocorreu um error ao renderizar a interface da Tabela Dinmica.",
        selectAll: "Selecionar Tudo",
        selectNone: "Selecionar Nenhum",
        tooMany: "(demais para listar)",
        filterResults: "Filtrar resultados",
        totals: "Totais",
        apply: "Aplicar",
        cancel: "Cancelar",
        vs: "vs",
        by: "por"
      },
      aggregators: {
        "Contagem": tpl.count(frFmtInt),
        "Contagem de Valores nicos": tpl.countUnique(frFmtInt),
        "Lista de Valores nicos": tpl.listUnique(", "),
        "Soma": tpl.sum(frFmt),
        "Soma de Inteiros": tpl.sum(frFmtInt),
        "Mdia": tpl.average(frFmt),
        "Mediana": tpl.median(frFmt),
        "Variancia": tpl["var"](1, frFmt),
        "Desvio Padro da Amostra": tpl.stdev(1, frFmt),
        "Mnimo": tpl.min(frFmt),
        "Mximo": tpl.max(frFmt),
        "Primeiro": tpl.first(frFmt),
        "ltimo": tpl.last(frFmt),
        "Soma sobre Soma": tpl.sumOverSum(frFmt),
        "Limite Superior a 80%": tpl.sumOverSumBound80(true, frFmt),
        "Limite Inferior a 80%": tpl.sumOverSumBound80(false, frFmt),
        "Soma como Frao do Total": tpl.fractionOf(tpl.sum(), "total", frFmtPct),
        "Soma como Frao da Linha": tpl.fractionOf(tpl.sum(), "row", frFmtPct),
        "Soma como Frao da Coluna": tpl.fractionOf(tpl.sum(), "col", frFmtPct),
        "Contagem como Frao do Total": tpl.fractionOf(tpl.count(), "total", frFmtPct),
        "Contagem como Frao da Linha": tpl.fractionOf(tpl.count(), "row", frFmtPct),
        "Contagem como Frao da Coluna": tpl.fractionOf(tpl.count(), "col", frFmtPct)
      },
      renderers: {
        "Tabela": r["Table"],
        "Tabela com Barras": r["Table Barchart"],
        "Mapa de Calor": r["Heatmap"],
        "Mapa de Calor por Linhas": r["Row Heatmap"],
        "Mapa de Calor por Colunas": r["Col Heatmap"]
      }
    };
    if (gcr) {
      $.pivotUtilities.locales.pt.gchart_renderers = {
        "Grfico de Linhas": gcr["Line Chart"],
        "Grfico de Barras": gcr["Bar Chart"],
        "Grfico de Barras Empilhadas": gcr["Stacked Bar Chart"],
        "Grfico de rea": gcr["Area Chart"]
      };
    }
    if (d3r) {
      $.pivotUtilities.locales.pt.d3_renderers = {
        "Mapa de rvore": d3r["Treemap"]
      };
    }
    if (c3r) {
      $.pivotUtilities.locales.pt.c3_renderers = {
        "Grfico de Linhas": c3r["Line Chart"],
        "Grfico de Barras": c3r["Bar Chart"],
        "Grfico de Barras Empilhadas": c3r["Stacked Bar Chart"],
        "Grfico de rea": c3r["Area Chart"]
      };
    }
    return $.pivotUtilities.locales.pt;
  });

}).call(this);

//# sourceMappingURL=pivot.pt.js.map
</script>


<script>
	!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Plotly=e()}(function(){return(function e(t,n,r){function a(o,l){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);var c=Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){return a(t[o][1][e]||e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a})({1:[function(e,t,n){"use strict";var r=e("../src/lib"),a={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in a){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(o,a[i])}},{"../src/lib":202}],2:[function(e,t,n){"use strict";t.exports=e("../src/traces/bar")},{"../src/traces/bar":308}],3:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":183}],4:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./bar"),e("./pie")]),t.exports=r},{"./bar":2,"./core":3,"./pie":5}],5:[function(e,t,n){"use strict";t.exports=e("../src/traces/pie")},{"../src/traces/pie":323}],6:[function(e,t,n){"use strict";var r,a="object"==typeof Reflect?Reflect:null,i=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(e,t){return new Promise(function(n,r){var a;function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var a,i,o,l;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=u(e))>0&&o.length>a&&!o.warned){o.warned=!0;var s=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,l=s,console&&console.warn&&console.warn(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=d.bind(r);return a.listener=n,r.wrapFn=a,a}function $(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):g(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return u(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,l=Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var s=a[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{var c=s.length,u=g(s,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},l.prototype.addListener=function(e,t){return f(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return f(this,e,t,!0)},l.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,a,i,o;if(c(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return $(this,e,!0)},l.prototype.rawListeners=function(e){return $(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},l.prototype.listenerCount=h,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],7:[function(e,t,n){var r,a;r=this,a=function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function a(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function i(e){var i=e.dateTime,o=e.date,s=e.time,c=e.periods,u=e.days,f=e.shortDays,d=e.months,em=e.shortMonths,ey=p(c),e_=$(c),ex=p(u),eb=$(u),e8=p(f),e0=$(f),ew=p(d),ek=$(d),eT=p(em),e1=$(em),e3={a:function(e){return f[e.getDay()]},A:function(e){return u[e.getDay()]},b:function(e){return em[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:null,d:R,e:R,f:H,H:I,I:E,j:F,L:N,m:B,M:V,p:function(e){return c[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:eg,s:ev,S:j,u:U,U:q,V:G,w:Z,W:Y,x:null,X:null,y:X,Y:W,Z:Q,"%":eh},eA={a:function(e){return f[e.getUTCDay()]},A:function(e){return u[e.getUTCDay()]},b:function(e){return em[e.getUTCMonth()]},B:function(e){return d[e.getUTCMonth()]},c:null,d:J,e:J,f:er,H:K,I:ee,j:et,L:en,m:ea,M:ei,p:function(e){return c[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:eg,s:ev,S:eo,u:el,U:es,V:ec,w:eu,W:ef,x:null,X:null,y:ed,Y:ep,Z:e$,"%":eh},e4={a:function(e,t,n){var r=e8.exec(t.slice(n));return r?(e.w=e0[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=ex.exec(t.slice(n));return r?(e.w=eb[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=eT.exec(t.slice(n));return r?(e.m=e1[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=ew.exec(t.slice(n));return r?(e.m=ek[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,t,n){return e6(e,i,t,n)},d:T,e:T,f:O,H:L,I:L,j:A,L:M,m:k,M:C,p:function(e,t,n){var r=ey.exec(t.slice(n));return r?(e.p=e_[r[0].toLowerCase()],n+r[0].length):-1},q:w,Q:P,s:z,S:S,u:g,U:v,V:m,w:h,W:y,x:function(e,t,n){return e6(e,o,t,n)},X:function(e,t,n){return e6(e,s,t,n)},y:x,Y:_,Z:b,"%":D};function e2(e,t){return function(n){var r,a,i,o=[],s=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(c,s)),null!=(a=l[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),c=s+1);return o.push(e.slice(c,s)),o.join("")}}function eL(e,i){return function(o){var l,s,c=a(1900,void 0,1);if(e6(c,e,o+="",0)!=o.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(!i||"Z"in c||(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(s=(l=r(a(c.y,0,1))).getUTCDay())>4||0===s?t.utcMonday.ceil(l):t.utcMonday(l),l=t.utcDay.offset(l,7*(c.V-1)),c.y=l.getUTCFullYear(),c.m=l.getUTCMonth(),c.d=l.getUTCDate()+(c.w+6)%7):(l=(s=(l=n(a(c.y,0,1))).getDay())>4||0===s?t.timeMonday.ceil(l):t.timeMonday(l),l=t.timeDay.offset(l,7*(c.V-1)),c.y=l.getFullYear(),c.m=l.getMonth(),c.d=l.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),s="Z"in c?r(a(c.y,0,1)).getUTCDay():n(a(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(s+5)%7:c.w+7*c.U-(s+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function e6(e,t,n,r){for(var a,i,o=0,s=t.length,c=n.length;o<s;){if(r>=c)return -1;if(37===(a=t.charCodeAt(o++))){if(!(i=e4[(a=t.charAt(o++))in l?t.charAt(o++):a])||(r=i(e,n,r))<0)return -1}else if(a!=n.charCodeAt(r++))return -1}return r}return e3.x=e2(o,e3),e3.X=e2(s,e3),e3.c=e2(i,e3),eA.x=e2(o,eA),eA.X=e2(s,eA),eA.c=e2(i,eA),{format:function(e){var t=e2(e+="",e3);return t.toString=function(){return e},t},parse:function(e){var t=eL(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=e2(e+="",eA);return t.toString=function(){return e},t},utcParse:function(e){var t=eL(e+="",!0);return t.toString=function(){return e},t}}}var o,l={"-":"",_:" ",0:"0"},s=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function f(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?Array(n-i+1).join(t)+a:a)}function d(e){return e.replace(u,"\\$&")}function p(e){return RegExp("^(?:"+e.map(d).join("|")+")","i")}function $(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function h(e,t,n){var r=s.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function g(e,t,n){var r=s.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function v(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function m(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function y(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _(e,t,n){var r=s.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function x(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function w(e,t,n){var r=s.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function k(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function A(e,t,n){var r=s.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function L(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function C(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function S(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function M(e,t,n){var r=s.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function O(e,t,n){var r=s.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(e,t,n){var r=c.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function P(e,t,n){var r=s.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function z(e,t,n){var r=s.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function R(e,t){return f(e.getDate(),t,2)}function I(e,t){return f(e.getHours(),t,2)}function E(e,t){return f(e.getHours()%12||12,t,2)}function F(e,n){return f(1+t.timeDay.count(t.timeYear(e),e),n,3)}function N(e,t){return f(e.getMilliseconds(),t,3)}function H(e,t){return N(e,t)+"000"}function B(e,t){return f(e.getMonth()+1,t,2)}function V(e,t){return f(e.getMinutes(),t,2)}function j(e,t){return f(e.getSeconds(),t,2)}function U(e){var t=e.getDay();return 0===t?7:t}function q(e,n){return f(t.timeSunday.count(t.timeYear(e)-1,e),n,2)}function G(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),f(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function Z(e){return e.getDay()}function Y(e,n){return f(t.timeMonday.count(t.timeYear(e)-1,e),n,2)}function X(e,t){return f(e.getFullYear()%100,t,2)}function W(e,t){return f(e.getFullYear()%1e4,t,4)}function Q(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function J(e,t){return f(e.getUTCDate(),t,2)}function K(e,t){return f(e.getUTCHours(),t,2)}function ee(e,t){return f(e.getUTCHours()%12||12,t,2)}function et(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function en(e,t){return f(e.getUTCMilliseconds(),t,3)}function er(e,t){return en(e,t)+"000"}function ea(e,t){return f(e.getUTCMonth()+1,t,2)}function ei(e,t){return f(e.getUTCMinutes(),t,2)}function eo(e,t){return f(e.getUTCSeconds(),t,2)}function el(e){var t=e.getUTCDay();return 0===t?7:t}function es(e,n){return f(t.utcSunday.count(t.utcYear(e)-1,e),n,2)}function ec(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),f(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function eu(e){return e.getUTCDay()}function ef(e,n){return f(t.utcMonday.count(t.utcYear(e)-1,e),n,2)}function ed(e,t){return f(e.getUTCFullYear()%100,t,2)}function ep(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function e$(){return"+0000"}function eh(){return"%"}function eg(e){return+e}function ev(e){return Math.floor(+e/1e3)}function em(t){return o=i(t),e.timeFormat=o.format,e.timeParse=o.parse,e.utcFormat=o.utcFormat,e.utcParse=o.utcParse,o}em({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ey=Date.prototype.toISOString?function(e){return e.toISOString()}:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),e_=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");e.isoFormat=ey,e.isoParse=e_,e.timeFormatDefaultLocale=em,e.timeFormatLocale=i,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?a(n,e("d3-time")):a((r=r||self).d3=r.d3||{},r.d3)},{"d3-time":8}],8:[function(e,t,n){var r,a;r=this,(a=function(e){"use strict";var t=new Date,n=new Date;function r(e,a,i,o){function l(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return l.floor=function(t){return e(t=new Date(+t)),t},l.ceil=function(t){return e(t=new Date(t-1)),a(t,1),e(t),t},l.round=function(e){var t=l(e),n=l.ceil(e);return e-t<n-e?t:n},l.offset=function(e,t){return a(e=new Date(+e),null==t?1:Math.floor(t)),e},l.range=function(t,n,r){var i,o=[];if(t=l.ceil(t),r=null==r?1:Math.floor(r),!(t<n&&r>0))return o;do o.push(i=new Date(+t)),a(t,r),e(t);while(i<t&&t<n);return o},l.filter=function(t){return r(function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)},function(e,n){if(e>=e){if(n<0)for(;++n<=0;)for(;a(e,-1),!t(e););else for(;--n>=0;)for(;a(e,1),!t(e););}})},i&&(l.count=function(r,a){return t.setTime(+r),n.setTime(+a),e(t),e(n),Math.floor(i(t,n))},l.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?l.filter(o?function(t){return o(t)%e==0}:function(t){return l.count(0,t)%e==0}):l:null}),l}var a=r(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?r(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):a:null};var i=a.range,o=r(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),l=o.range,s=r(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),c=s.range,u=r(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),f=u.range,d=r(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5},function(e){return e.getDate()-1}),p=d.range;function $(e){return r(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}var h=$(0),g=$(1),v=$(2),m=$(3),y=$(4),_=$(5),x=$(6),b=h.range,w=g.range,k=v.range,T=m.range,A=y.range,L=_.range,C=x.range,S=r(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),M=S.range,O=r(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});O.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var D=O.range,P=r(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),z=P.range,R=r(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),I=R.range,E=r(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),F=E.range;function N(e){return r(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var H=N(0),B=N(1),V=N(2),j=N(3),U=N(4),q=N(5),G=N(6),Z=H.range,Y=B.range,X=V.range,W=j.range,Q=U.range,J=q.range,K=G.range,ee=r(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),et=ee.range,en=r(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});en.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var er=en.range;e.timeDay=d,e.timeDays=p,e.timeFriday=_,e.timeFridays=L,e.timeHour=u,e.timeHours=f,e.timeInterval=r,e.timeMillisecond=a,e.timeMilliseconds=i,e.timeMinute=s,e.timeMinutes=c,e.timeMonday=g,e.timeMondays=w,e.timeMonth=S,e.timeMonths=M,e.timeSaturday=x,e.timeSaturdays=C,e.timeSecond=o,e.timeSeconds=l,e.timeSunday=h,e.timeSundays=b,e.timeThursday=y,e.timeThursdays=A,e.timeTuesday=v,e.timeTuesdays=k,e.timeWednesday=m,e.timeWednesdays=T,e.timeWeek=h,e.timeWeeks=b,e.timeYear=O,e.timeYears=D,e.utcDay=E,e.utcDays=F,e.utcFriday=q,e.utcFridays=J,e.utcHour=R,e.utcHours=I,e.utcMillisecond=a,e.utcMilliseconds=i,e.utcMinute=P,e.utcMinutes=z,e.utcMonday=B,e.utcMondays=Y,e.utcMonth=ee,e.utcMonths=et,e.utcSaturday=G,e.utcSaturdays=K,e.utcSecond=o,e.utcSeconds=l,e.utcSunday=H,e.utcSundays=Z,e.utcThursday=U,e.utcThursdays=Q,e.utcTuesday=V,e.utcTuesdays=X,e.utcWednesday=j,e.utcWednesdays=W,e.utcWeek=H,e.utcWeeks=Z,e.utcYear=en,e.utcYears=er,Object.defineProperty(e,"__esModule",{value:!0})})("object"==typeof n&&void 0!==t?n:(r=r||self).d3=r.d3||{})},{}],9:[function(e,t,n){!function(){var e={version:"3.5.17"},n=[].slice,r=function(e){return n.call(e)},a=this.document;function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function o(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(a)try{r(a.documentElement.childNodes)[0].nodeType}catch(l){r=function(e){for(var t=e.length,n=Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch(s){var c=this.Element.prototype,u=c.setAttribute,f=c.setAttributeNS,d=this.CSSStyleDeclaration.prototype,p=d.setProperty;c.setAttribute=function(e,t){u.call(this,e,t+"")},c.setAttributeNS=function(e,t,n){f.call(this,e,t,n+"")},d.setProperty=function(e,t,n){p.call(this,e,t+"",n)}}function $(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function v(e){return{left:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var i=r+a>>>1;0>e(t[i],n)?r=i+1:a=i}return r},right:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}e.ascending=$,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&n>r&&(n=r)}return n},e.max=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&r>n&&(n=r)}return n},e.extent=function(e,t){var n,r,a,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e[i])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]},e.sum=function(e,t){var n,r=0,a=e.length,i=-1;if(1===arguments.length)for(;++i<a;)g(n=+e[i])&&(r+=n);else for(;++i<a;)g(n=+t.call(e,e[i],i))&&(r+=n);return r},e.mean=function(e,t){var n,r=0,a=e.length,i=-1,o=a;if(1===arguments.length)for(;++i<a;)g(n=h(e[i]))?r+=n:--o;else for(;++i<a;)g(n=h(t.call(e,e[i],i)))?r+=n:--o;if(o)return r/o},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],i=n-r;return i?a+i*(e[r]-a):a},e.median=function(t,n){var r,a=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)g(r=h(t[o]))&&a.push(r);else for(;++o<i;)g(r=h(n.call(t,t[o],o)))&&a.push(r);if(a.length)return e.quantile(a.sort($),.5)},e.variance=function(e,t){var n,r,a=e.length,i=0,o=0,l=-1,s=0;if(1===arguments.length)for(;++l<a;)g(n=h(e[l]))&&(o+=(r=n-i)*(n-(i+=r/++s)));else for(;++l<a;)g(n=h(t.call(e,e[l],l)))&&(o+=(r=n-i)*(n-(i+=r/++s)));if(s>1)return o/(s-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var m=v($);function y(e){return e.length}e.bisectLeft=m.left,e.bisect=e.bisectRight=m.right,e.bisector=function(e){return v(1===e.length?function(t,n){return $(e(t),n)}:e)},e.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2&&(t=0));for(var r,a,i=n-t;i;)a=Math.random()*i--|0,r=e[i+t],e[i+t]=e[a+t],e[a+t]=r;return e},e.permute=function(e,t){for(var n=t.length,r=Array(n);n--;)r[n]=e[t[n]];return r},e.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],a=Array(n<0?0:n);t<n;)a[t]=[r,r=e[++t]];return a},e.transpose=function(t){if(!(i=t.length))return[];for(var n=-1,r=e.min(t,y),a=Array(r);++n<r;)for(var i,o=-1,l=a[n]=Array(i);++o<i;)l[o]=t[o][n];return a},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var t,n,r,a=e.length,i=-1,o=0;++i<a;)o+=e[i].length;for(n=Array(o);--a>=0;)for(t=(r=e[a]).length;--t>=0;)n[--o]=r[t];return n};var _=Math.abs;function x(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function b(){this._=Object.create(null)}function w(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function k(e){return"\0"===(e+="")[0]?e.slice(1):e}function T(e){return w(e) in this._}function A(e){return(e=w(e))in this._&&delete this._[e]}function L(){var e=[];for(var t in this._)e.push(k(t));return e}function C(){var e=0;for(var t in this._)++e;return e}function S(){for(var e in this._)return!1;return!0}function M(){this._=Object.create(null)}function O(e){return e}function D(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function P(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=z.length;n<r;++n){var a=z[n]+t;if(a in e)return a}}e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw Error("infinite range");var r,a=[],i=function e(t){for(var n=1;t*n%1;)n*=10;return n}(_(n)),o=-1;if(e*=i,t*=i,(n*=i)<0)for(;(r=e+n*++o)>t;)a.push(r/i);else for(;(r=e+n*++o)<t;)a.push(r/i);return a},e.map=function(e,t){var n=new b;if(e instanceof b)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,a=-1,i=e.length;if(1===arguments.length)for(;++a<i;)n.set(a,e[a]);else for(;++a<i;)n.set(t.call(e,r=e[a],a),r)}else for(var o in e)n.set(o,e[o]);return n},x(b,{has:T,get:function(e){return this._[w(e)]},set:function(e,t){return this._[w(e)]=t},remove:A,keys:L,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:k(t),value:this._[t]});return e},size:C,empty:S,forEach:function(e){for(var t in this._)e.call(this,k(t),this._[t])}}),e.nest=function(){var t,n,r={},a=[],i=[];function o(e,i,l){if(l>=a.length)return n?n.call(r,i):t?i.sort(t):i;for(var s,c,u,f,d=-1,p=i.length,$=a[l++],h=new b;++d<p;)(f=h.get(s=$(c=i[d])))?f.push(c):h.set(s,[c]);return e?(c=e(),u=function(t,n){c.set(t,o(e,n,l))}):(c={},u=function(t,n){c[t]=o(e,n,l)}),h.forEach(u),c}return r.map=function(e,t){return o(t,e,0)},r.entries=function(t){return function e(t,n){if(n>=a.length)return t;var r=[],o=i[n++];return t.forEach(function(t,a){r.push({key:t,values:e(a,n)})}),o?r.sort(function(e,t){return o(e.key,t.key)}):r}(o(e.map,t,0),0)},r.key=function(e){return a.push(e),r},r.sortKeys=function(e){return i[a.length-1]=e,r},r.sortValues=function(e){return t=e,r},r.rollup=function(e){return n=e,r},r},e.set=function(e){var t=new M;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},x(M,{has:T,add:function(e){return this._[w(e+="")]=!0,e},remove:A,values:L,size:C,empty:S,forEach:function(e){for(var t in this._)e.call(this,k(t))}}),e.behavior={},e.rebind=function(e,t){for(var n,r=1,a=arguments.length;++r<a;)e[n=arguments[r]]=D(e,t,t[n]);return e};var z=["webkit","ms","moz","Moz","o","O"];function R(){}function I(){}function E(e){var t=[],n=new b;function r(){for(var n,r=t,a=-1,i=r.length;++a<i;)(n=r[a].on)&&n.apply(this,arguments);return e}return r.on=function(r,a){var i,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,i=t.indexOf(o)).concat(t.slice(i+1)),n.remove(r)),a&&t.push(n.set(r,{on:a})),e)},r}function F(){e.event.preventDefault()}function N(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function H(t){for(var n=new I,r=0,a=arguments.length;++r<a;)n[arguments[r]]=E(n);return n.of=function(r,a){return function(i){try{var o=i.sourceEvent=e.event;i.target=t,e.event=i,n[i.type].apply(r,a)}finally{e.event=o}}},n}e.dispatch=function(){for(var e=new I,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=E(e);return e},I.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,V={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function j(e){return V(e,Z),e}var U=function(e,t){return t.querySelector(e)},q=function(e,t){return t.querySelectorAll(e)},G=function(e,t){var n=e.matches||e[P(e,"matchesSelector")];return(G=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(U=function(e,t){return Sizzle(e,t)[0]||null},q=Sizzle,G=Sizzle.matchesSelector),e.selection=function(){return e.select(a.documentElement)};var Z=e.selection.prototype=[];function Y(e){return"function"==typeof e?e:function(){return U(e,this)}}function X(e){return"function"==typeof e?e:function(){return q(e,this)}}Z.select=function(e){var t,n,r,a,i=[];e=Y(e);for(var o=-1,l=this.length;++o<l;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var s=-1,c=r.length;++s<c;)(a=r[s])?(t.push(n=e.call(a,a.__data__,s,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return j(i)},Z.selectAll=function(e){var t,n,a=[];e=X(e);for(var i=-1,o=this.length;++i<o;)for(var l=this[i],s=-1,c=l.length;++s<c;)(n=l[s])&&(a.push(t=r(e.call(n,n.__data__,s,i))),t.parentNode=n);return j(a)};var W="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:W,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function K(e){return e.trim().replace(/\s+/g," ")}function ee(t){return RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function et(e){return(e+"").trim().split(/^|\s+/)}function en(e,t){var n=(e=et(e).map(er)).length;return"function"==typeof t?function(){for(var r=-1,a=t.apply(this,arguments);++r<n;)e[r](this,a)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function er(e){var t=ee(e);return function(n,r){if(a=n.classList)return r?a.add(e):a.remove(e);var a=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(a)||n.setAttribute("class",K(a+" "+e))):n.setAttribute("class",K(a.replace(t," ")))}}function ea(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function ei(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function eo(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===W&&e.documentElement.namespaceURI===W?e.createElement(t):e.createElementNS(n,t)}}function el(){var e=this.parentNode;e&&e.removeChild(this)}function es(e){return{__data__:e}}function ec(e){return function(){return G(this,e)}}function eu(e){return arguments.length||(e=$),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function ef(e,t){for(var n=0,r=e.length;n<r;n++)for(var a,i=e[n],o=0,l=i.length;o<l;o++)(a=i[o])&&t(a,o,n);return e}function ed(e){return V(e,ep),e}e.ns={prefix:Q,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Q.hasOwnProperty(n)?{space:Q[n],local:e}:e}},Z.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(J(n,t[n]));return this}return this.each(J(t,n))},Z.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=et(e)).length,a=-1;if(t=n.classList){for(;++a<r;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<r;)if(!ee(e[a]).test(t))return!1;return!0}for(t in e)this.each(en(t,e[t]));return this}return this.each(en(e,t))},Z.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(ea(n,e[n],t));return this}if(r<2){var a=this.node();return o(a).getComputedStyle(a,null).getPropertyValue(e)}n=""}return this.each(ea(e,t,n))},Z.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ei(t,e[t]));return this}return this.each(ei(e,t))},Z.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Z.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Z.append=function(e){return e=eo(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Z.insert=function(e,t){return e=eo(e),t=Y(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Z.remove=function(){return this.each(el)},Z.data=function(e,t){var n,r,a=-1,i=this.length;if(!arguments.length){for(e=Array(i=(n=this[0]).length);++a<i;)(r=n[a])&&(e[a]=r.__data__);return e}function o(e,n){var r,a,i,o=e.length,u=n.length,f=Math.min(o,u),d=Array(u),p=Array(u),$=Array(o);if(t){var h,g=new b,v=Array(o);for(r=-1;++r<o;)(a=e[r])&&(g.has(h=t.call(a,a.__data__,r))?$[r]=a:g.set(h,a),v[r]=h);for(r=-1;++r<u;)(a=g.get(h=t.call(n,i=n[r],r)))?!0!==a&&(d[r]=a,a.__data__=i):p[r]=es(i),g.set(h,!0);for(r=-1;++r<o;)r in v&&!0!==g.get(v[r])&&($[r]=e[r])}else{for(r=-1;++r<f;)a=e[r],i=n[r],a?(a.__data__=i,d[r]=a):p[r]=es(i);for(;r<u;++r)p[r]=es(n[r]);for(;r<o;++r)$[r]=e[r]}p.update=d,p.parentNode=d.parentNode=$.parentNode=e.parentNode,l.push(p),s.push(d),c.push($)}var l=ed([]),s=j([]),c=j([]);if("function"==typeof e)for(;++a<i;)o(n=this[a],e.call(n,n.parentNode.__data__,a));else for(;++a<i;)o(n=this[a],e);return s.enter=function(){return l},s.exit=function(){return c},s},Z.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Z.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=ec(e));for(var i=0,o=this.length;i<o;i++){a.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,i)&&t.push(r)}return j(a)},Z.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Z.sort=function(e){e=eu.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Z.each=function(e){return ef(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Z.call=function(e){var t=r(arguments);return e.apply(t[0]=this,t),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,a=n.length;r<a;r++){var i=n[r];if(i)return i}return null},Z.size=function(){var e=0;return ef(this,function(){++e}),e};var ep=[];function e$(t,n,a){var i="__on"+t,o=t.indexOf("."),l=eg;o>0&&(t=t.slice(0,o));var s=eh.get(t);function c(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}return s&&(t=s,l=ev),o?n?function(){var e=l(n,r(arguments));c.call(this),this.addEventListener(t,this[i]=e,e.$=a),e._=n}:c:n?R:function(){var n,r=RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var a in this)if(n=a.match(r)){var i=this[a];this.removeEventListener(n[1],i,i.$),delete this[a]}}}e.selection.enter=ed,e.selection.enter.prototype=ep,ep.append=Z.append,ep.empty=Z.empty,ep.node=Z.node,ep.call=Z.call,ep.size=Z.size,ep.select=function(e){for(var t,n,r,a,i,o=[],l=-1,s=this.length;++l<s;){r=(a=this[l]).update,o.push(t=[]),t.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(i=a[c])?(t.push(r[c]=n=e.call(a.parentNode,i.__data__,c,l)),n.__data__=i.__data__):t.push(null)}return j(o)},ep.insert=function(e,t){var n,r,a;return arguments.length<2&&(t=(n=this,function(e,t,i){var o,l=n[i].update,s=l.length;for(i!=a&&(a=i,r=0),t>=r&&(r=t+1);!(o=l[r])&&++r<s;);return o})),Z.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[U(e,a)]).parentNode=a.documentElement:(t=[e]).parentNode=i(e),j([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=r(q(e,a))).parentNode=a.documentElement:(t=r(e)).parentNode=null,j([t])},Z.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(e$(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(e$(e,t,n))};var eh=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function eg(t,n){return function(r){var a=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=a}}}function ev(e,t){var n=eg(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}a&&eh.forEach(function(e){"on"+e in a&&eh.remove(e)});var em,ey=0;function e_(t){var n=".dragsuppress-"+ ++ey,r="click"+n,a=e.select(o(t)).on("touchmove"+n,F).on("dragstart"+n,F).on("selectstart"+n,F);if(null==em&&(em=!("onselectstart"in t)&&P(t.style,"userSelect")),em){var l=i(t).style,s=l[em];l[em]="none"}return function(e){if(a.on(n,null),em&&(l[em]=s),e){var t=function(){a.on(r,null)};a.on(r,function(){F(),t()},!0),setTimeout(t,0)}}}e.mouse=function(e){return eb(e,N())};var ex=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function eb(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();if(ex<0){var i=o(t);if(i.scrollX||i.scrollY){var l=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ex=!(l.f||l.e),r.remove()}}return ex?(a.x=n.pageX,a.y=n.pageY):(a.x=n.clientX,a.y=n.clientY),[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function e8(){return e.event.changedTouches[0].identifier}e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=N().changedTouches),t){for(var r,a=0,i=t.length;a<i;++a)if((r=t[a]).identifier===n)return eb(e,r)}},e.behavior.drag=function(){var t=H(i,"drag","dragstart","dragend"),n=null,r=l(R,e.mouse,o,"mousemove","mouseup"),a=l(e8,e.touch,O,"touchmove","touchend");function i(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function l(r,a,i,o,l){return function(){var s,c=e.event.target.correspondingElement||e.event.target,u=this.parentNode,f=t.of(this,arguments),d=0,p=r(),$=".drag"+(null==p?"":"-"+p),h=e.select(i(c)).on(o+$,function e(){var t,n,r=a(u,p);r&&(d|=(t=r[0]-v[0])|(n=r[1]-v[1]),v=r,f({type:"drag",x:r[0]+s[0],y:r[1]+s[1],dx:t,dy:n}))}).on(l+$,function e(){a(u,p)&&(h.on(o+$,null).on(l+$,null),g(d),f({type:"dragend"}))}),g=e_(c),v=a(u,p);s=n?[(s=n.apply(this,arguments)).x-v[0],s.y-v[1]]:[0,0],f({type:"dragstart"})}}return i.origin=function(e){return arguments.length?(n=e,i):n},e.rebind(i,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=N().touches),t?r(t).map(function(t){var n=eb(e,t);return n.identifier=t.identifier,n}):[]};var e0=Math.PI,ew=2*e0,ek=ew-1e-6,eT=e0/2,e1=e0/180,e3=180/e0;function eA(e){return e>0?1:e<0?-1:0}function e4(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function e2(e){return e>1?0:e<-1?e0:Math.acos(e)}function eL(e){return e>1?eT:e<-1?-eT:Math.asin(e)}function e6(e){return((e=Math.exp(e))+1/e)/2}function eC(e){return(e=Math.sin(e/2))*e}var eS=Math.SQRT2;e.interpolateZoom=function(e,t){var n,r,a=e[0],i=e[1],o=e[2],l=t[0],s=t[1],c=t[2],u=l-a,f=s-i,d=u*u+f*f;if(d<1e-12)r=Math.log(c/o)/eS,n=function(e){return[a+e*u,i+e*f,o*Math.exp(eS*e*r)]};else{var p=Math.sqrt(d),$=(c*c-o*o+4*d)/(2*o*2*p),h=(c*c-o*o-4*d)/(2*c*2*p),g=Math.log(Math.sqrt($*$+1)-$);r=(Math.log(Math.sqrt(h*h+1)-h)-g)/eS,n=function(e){var t,n,l=e*r,s=e6(g),c=o/(2*p)*(s*(((n=Math.exp(2*(n=eS*l+g)))-1)/(n+1))-((t=Math.exp(t=g))-1/t)/2);return[a+c*u,i+c*f,o*s/e6(eS*l+g)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,i,l,s,c,u,f,d={x:0,y:0,k:1},p=[960,500],$=eM,h=250,g=0,v="mousedown.zoom",m="mousemove.zoom",y="mouseup.zoom",_="touchstart.zoom",x=H(b,"zoomstart","zoom","zoomend");function b(e){e.on(v,O).on(e7+".zoom",P).on("dblclick.zoom",z).on(_,D)}function w(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function k(e){d.k=Math.max($[0],Math.min($[1],e))}function T(e,t){var n;t=[(n=t)[0]*d.k+d.x,n[1]*d.k+d.y],d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function A(t,r,a,i){t.__chart__={x:d.x,y:d.y,k:d.k},k(Math.pow(2,i)),T(n=r,a),t=e.select(t),h>0&&(t=t.transition().duration(h)),t.call(b.event)}function L(){c&&c.domain(s.range().map(function(e){return(e-d.x)/d.k}).map(s.invert)),f&&f.domain(u.range().map(function(e){return(e-d.y)/d.k}).map(u.invert))}function C(e){g++||e({type:"zoomstart"})}function S(e){L(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function M(e){--g||(e({type:"zoomend"}),n=null)}function O(){var t=this,n=x.of(t,arguments),r=0,a=e.select(o(t)).on(m,function a(){r=1,T(e.mouse(t),i),S(n)}).on(y,function e(){a.on(m,null).on(y,null),l(r),M(n)}),i=w(e.mouse(t)),l=e_(t);oe.call(t),C(n)}function D(){var t,n=this,r=x.of(n,arguments),a={},i=0,o=".zoom-"+e.event.changedTouches[0].identifier,s="touchmove"+o,c="touchend"+o,u=[],f=e.select(n),p=e_(n);function $(){var r=e.touches(n);return t=d.k,r.forEach(function(e){e.identifier in a&&(a[e.identifier]=w(e))}),r}function h(){var t=e.event.target;e.select(t).on(s,g).on(c,m),u.push(t);for(var r=e.event.changedTouches,o=0,f=r.length;o<f;++o)a[r[o].identifier]=null;var p=$(),h=Date.now();if(1===p.length){if(h-l<500){var v=p[0];A(n,v,a[v.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),F()}l=h}else if(p.length>1){v=p[0];var y=p[1],_=v[0]-y[0],x=v[1]-y[1];i=_*_+x*x}}function g(){var o,s,c,u,f=e.touches(n);oe.call(n);for(var d=0,p=f.length;d<p;++d,u=null)if(u=a[(c=f[d]).identifier]){if(s)break;o=c,s=u}if(u){var $=($=c[0]-o[0])*$+($=c[1]-o[1])*$,h=i&&Math.sqrt($/i);o=[(o[0]+c[0])/2,(o[1]+c[1])/2],s=[(s[0]+u[0])/2,(s[1]+u[1])/2],k(h*t)}l=null,T(o,s),S(r)}function m(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,i=t.length;n<i;++n)delete a[t[n].identifier];for(var l in a)return void $()}e.selectAll(u).on(o,null),f.on(v,O).on(_,D),p(),M(r)}h(),C(r),f.on(v,null).on(_,h)}function P(){var a=x.of(this,arguments);i?clearTimeout(i):(oe.call(this),t=w(n=r||e.mouse(this)),C(a)),i=setTimeout(function(){i=null,M(a)},50),F(),k(Math.pow(2,.002*e5())*d.k),T(n,t),S(a)}function z(){var t=e.mouse(this),n=Math.log(d.k)/Math.LN2;A(this,t,w(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return e7||(e7="onwheel"in a?(e5=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?(e5=function(){return e.event.wheelDelta},"mousewheel"):(e5=function(){return-e.event.detail},"MozMousePixelScroll")),b.event=function(t){t.each(function(){var t=x.of(this,arguments),r=d;or?e.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},C(t)}).tween("zoom:zoom",function(){var a=p[0],i=p[1],o=n?n[0]:a/2,l=n?n[1]:i/2,s=e.interpolateZoom([(o-d.x)/d.k,(l-d.y)/d.k,a/d.k],[(o-r.x)/r.k,(l-r.y)/r.k,a/r.k]);return function(e){var n=s(e),r=a/n[2];this.__chart__=d={x:o-n[0]*r,y:l-n[1]*r,k:r},S(t)}}).each("interrupt.zoom",function(){M(t)}).each("end.zoom",function(){M(t)}):(this.__chart__=d,C(t),S(t),M(t))})},b.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},L(),b):[d.x,d.y]},b.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},k(+e),L(),b):d.k},b.scaleExtent=function(e){return arguments.length?($=null==e?eM:[+e[0],+e[1]],b):$},b.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],b):r},b.size=function(e){return arguments.length?(p=e&&[+e[0],+e[1]],b):p},b.duration=function(e){return arguments.length?(h=+e,b):h},b.x=function(e){return arguments.length?(c=e,s=e.copy(),d={x:0,y:0,k:1},b):c},b.y=function(e){return arguments.length?(f=e,u=e.copy(),d={x:0,y:0,k:1},b):f},e.rebind(b,x,"on")};var e5,e7,eM=[0,1/0];function eO(){}function eD(e,t,n){return this instanceof eD?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof eD?new eD(e.h,e.s,e.l):eW(""+e,eQ,eD):new eD(e,t,n)}e.color=eO,eO.prototype.toString=function(){return this.rgb()+""},e.hsl=eD;var eP=eD.prototype=new eO;function ez(e,t,n){var r,a;function i(e){var t;return Math.round(255*((t=e)>360?t-=360:t<0&&(t+=360),t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(a=n<=.5?n*(1+t):n+t-n*t),new eq(i(e+120),i(e),i(e-120))}function eR(t,n,r){var a,i,o;return this instanceof eR?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof eR?new eR(t.h,t.c,t.l):(a=t instanceof eF?t.l:(t=e9((t=e.rgb(t)).r,t.g,t.b)).l,i=t.a,o=t.b,a>0?new eR(Math.atan2(o,i)*e3,Math.sqrt(i*i+o*o),a):new eR(NaN,NaN,a)):new eR(t,n,r)}eP.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new eD(this.h,this.s,this.l/e)},eP.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new eD(this.h,this.s,e*this.l)},eP.rgb=function(){return ez(this.h,this.s,this.l)},e.hcl=eR;var eI=eR.prototype=new eO;function eE(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new eF(n,Math.cos(e*=e1)*t,Math.sin(e)*t)}function eF(e,t,n){return this instanceof eF?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof eF?new eF(e.l,e.a,e.b):e instanceof eR?eE(e.h,e.c,e.l):e9((e=eq(e)).r,e.g,e.b):new eF(e,t,n)}eI.brighter=function(e){return new eR(this.h,this.c,Math.min(100,this.l+eN*(arguments.length?e:1)))},eI.darker=function(e){return new eR(this.h,this.c,Math.max(0,this.l-eN*(arguments.length?e:1)))},eI.rgb=function(){return eE(this.h,this.c,this.l).rgb()},e.lab=eF;var eN=18,eH=eF.prototype=new eO;function eB(e,t,n){var r=(e+16)/116,a=r+t/500,i=r-n/200;return new eq(eU(3.2404542*(a=.95047*eV(a))-1.5371385*(r=1*eV(r))-.4985314*(i=1.08883*eV(i))),eU(-.969266*a+1.8760108*r+.041556*i),eU(.0556434*a-.2040259*r+1.0572252*i))}function eV(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ej(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function eU(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function eq(e,t,n){return this instanceof eq?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof eq?new eq(e.r,e.g,e.b):eW(""+e,eq,ez):new eq(e,t,n)}function eG(e){return new eq(e>>16,e>>8&255,255&e)}function eZ(e){return eG(e)+""}eH.brighter=function(e){return new eF(Math.min(100,this.l+eN*(arguments.length?e:1)),this.a,this.b)},eH.darker=function(e){return new eF(Math.max(0,this.l-eN*(arguments.length?e:1)),this.a,this.b)},eH.rgb=function(){return eB(this.l,this.a,this.b)},e.rgb=eq;var eY=eq.prototype=new eO;function eX(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function eW(e,t,n){var r,a,i,o=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(eK(a[0]),eK(a[1]),eK(a[2]))}return(i=te.get(e))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&i)>>4,o|=o>>4,l=240&i,l|=l>>4,s=15&i,s|=s<<4):7===e.length&&(o=(16711680&i)>>16,l=(65280&i)>>8,s=255&i)),t(o,l,s))}function eQ(e,t,n){var r,a,i=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),l=o-i,s=(o+i)/2;return l?(a=s<.5?l/(o+i):l/(2-o-i),r=e==o?(t-n)/l+(t<n?6:0):t==o?(n-e)/l+2:(e-t)/l+4,r*=60):(r=NaN,a=s>0&&s<1?0:r),new eD(r,a,s)}function e9(e,t,n){var r=ej((.4124564*(e=eJ(e))+.3575761*(t=eJ(t))+.1804375*(n=eJ(n)))/.95047),a=ej((.2126729*e+.7151522*t+.072175*n)/1);return eF(116*a-16,500*(r-a),200*(a-ej((.0193339*e+.119192*t+.9503041*n)/1.08883)))}function eJ(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function eK(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}eY.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b;return t||n||r?(t&&t<30&&(t=30),n&&n<30&&(n=30),r&&r<30&&(r=30),new eq(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new eq(30,30,30)},eY.darker=function(e){return new eq((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},eY.hsl=function(){return eQ(this.r,this.g,this.b)},eY.toString=function(){return"#"+eX(this.r)+eX(this.g)+eX(this.b)};var te=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function tt(e){return"function"==typeof e?e:function(){return e}}function tn(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),tr(t,n,e,r)}}function tr(t,n,a,i){var o,l={},s=e.dispatch("beforesend","progress","load","error"),c={},u=new XMLHttpRequest,f=null;function d(){var e,t,n,r=u.status;if(!r&&((n=(t=u).responseType)&&"text"!==n?t.response:t.responseText)||r>=200&&r<300||304===r){try{e=a.call(l,u)}catch(i){return void s.error.call(l,i)}s.load.call(l,e)}else s.error.call(l,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=d:u.onreadystatechange=function(){u.readyState>3&&d()},u.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(l,u)}finally{e.event=n}},l.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c[e]:(null==t?delete c[e]:c[e]=t+"",l)},l.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",l):n},l.responseType=function(e){return arguments.length?(f=e,l):f},l.response=function(e){return a=e,l},["get","post"].forEach(function(e){l[e]=function(){return l.send.apply(l,[e].concat(r(arguments)))}}),l.send=function(e,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),u.open(e,t,!0),null==n||"accept"in c||(c.accept=n+",*/*"),u.setRequestHeader)for(var i in c)u.setRequestHeader(i,c[i]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=f&&(u.responseType=f),null!=a&&l.on("error",a).on("load",function(e){a(null,e)}),s.beforesend.call(l,u),u.send(null==r?null:r),l},l.abort=function(){return u.abort(),l},e.rebind(l,s,"on"),null==i?l:l.get(1===(o=i).length?function(e,t){o(null==e?t:null)}:o)}te.forEach(function(e,t){te.set(e,eG(t))}),e.functor=tt,e.xhr=tn(O),e.dsv=function(e,t){var n=RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function a(e,n,r){arguments.length<3&&(r=n,n=null);var a=tr(e,t,null==n?i:o(n),r);return a.row=function(e){return arguments.length?a.response(null==(n=e)?i:o(e)):n},a}function i(e){return a.parse(e.responseText)}function o(e){return function(t){return a.parse(t.responseText,e)}}function l(t){return t.map(s).join(e)}function s(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return a.parse=function(e,t){var n;return a.parseRows(e,function(e,r){if(n)return n(e,r-1);var a=Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(a(e),n)}:a})},a.parseRows=function(e,t){var n,a,i={},o={},l=[],s=e.length,c=0,u=0;function f(){if(c>=s)return o;if(a)return a=!1,i;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<s;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return c=n+2,13===(l=e.charCodeAt(n+1))?(a=!0,10===e.charCodeAt(n+2)&&++c):10===l&&(a=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<s;){var l,u=1;if(10===(l=e.charCodeAt(c++)))a=!0;else if(13===l)a=!0,10===e.charCodeAt(c)&&(++c,++u);else if(l!==r)continue;return e.slice(t,c-u)}return e.slice(t)}for(;(n=f())!==o;){for(var d=[];n!==i&&n!==o;)d.push(n),n=f();t&&null==(d=t(d,u++))||l.push(d)}return l},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new M,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(s).join(e)].concat(t.map(function(t){return r.map(function(e){return s(t[e])}).join(e)})).join("\n")},a.formatRows=function(e){return e.map(l).join("\n")},a},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var ta,ti,to,tl,ts=this[P(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function tc(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var a={c:e,t:n+t,n:null};return ti?ti.n=a:ta=a,ti=a,to||(tl=clearTimeout(tl),to=1,ts(tu)),a}function tu(){var e=tf(),t=td()-e;t>24?(isFinite(t)&&(clearTimeout(tl),tl=setTimeout(tu,t)),to=0):(to=1,ts(tu))}function tf(){for(var e=Date.now(),t=ta;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function td(){for(var e,t=ta,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ta=t.n;return ti=e,n}function tp(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}e.timer=function(){tc.apply(this,arguments)},e.timer.flush=function(){tf(),td()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var t$=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*_(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,tp(t,n))),r=Math.max(-24,Math.min(24,3*Math.floor(((r=1+Math.floor(1e-12+Math.log(t)/Math.LN10))-1)/3)))),t$[8+r/3]};var th=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,tg=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,tp(t,n))).toFixed(Math.max(0,Math.min(20,tp(t*(1+1e-15),n))))}});function tv(e){return e+""}var tm=e.time={},ty=Date;function t_(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}t_.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){tx.setUTCDate.apply(this._,arguments)},setDay:function(){tx.setUTCDay.apply(this._,arguments)},setFullYear:function(){tx.setUTCFullYear.apply(this._,arguments)},setHours:function(){tx.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){tx.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){tx.setUTCMinutes.apply(this._,arguments)},setMonth:function(){tx.setUTCMonth.apply(this._,arguments)},setSeconds:function(){tx.setUTCSeconds.apply(this._,arguments)},setTime:function(){tx.setTime.apply(this._,arguments)}};var tx=Date.prototype;function tb(e,t,n){function r(t){var n=e(t),r=i(n,1);return t-n<r-t?n:r}function a(n){return t(n=e(new ty(n-1)),1),n}function i(e,n){return t(e=new ty(+e),n),e}function o(e,r,i){var o=a(e),l=[];if(i>1)for(;o<r;)n(o)%i||l.push(new Date(+o)),t(o,1);else for(;o<r;)l.push(new Date(+o)),t(o,1);return l}e.floor=e,e.round=r,e.ceil=a,e.offset=i,e.range=o;var l=e.utc=t8(e);return l.floor=l,l.round=t8(r),l.ceil=t8(a),l.offset=t8(i),l.range=function(e,t,n){try{ty=t_;var r=new t_;return r._=e,o(r,t,n)}finally{ty=Date}},e}function t8(e){return function(t,n){try{ty=t_;var r=new t_;return r._=t,e(r,n)._}finally{ty=Date}}}tm.year=tb(function(e){return(e=tm.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),tm.years=tm.year.range,tm.years.utc=tm.year.utc.range,tm.day=tb(function(e){var t=new ty(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),tm.days=tm.day.range,tm.days.utc=tm.day.utc.range,tm.dayOfYear=function(e){var t=tm.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=tm[e]=tb(function(e){return(e=tm.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=tm.year(e).getDay();return Math.floor((tm.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});tm[e+"s"]=n.range,tm[e+"s"].utc=n.utc.range,tm[e+"OfYear"]=function(e){var n=tm.year(e).getDay();return Math.floor((tm.dayOfYear(e)+(n+t)%7)/7)}}),tm.week=tm.sunday,tm.weeks=tm.sunday.range,tm.weeks.utc=tm.sunday.utc.range,tm.weekOfYear=tm.sundayOfYear;var t0={"-":"",_:" ",0:"0"},tw=/^\s*\d+/,tk=/^%/;function tT(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?Array(n-i+1).join(t)+a:a)}function t1(t){return RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function t3(e){for(var t=new b,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function tA(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function t4(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function t2(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function tL(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function t6(e,t,n){tw.lastIndex=0;var r,a=tw.exec(t.slice(n,n+2));return a?(e.y=(r=+a[0])+(r>68?1900:2e3),n+a[0].length):-1}function tC(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function tS(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function t5(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function t7(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function tM(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tO(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tD(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tP(e,t,n){tw.lastIndex=0;var r=tw.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tz(e){var t=e.getTimezoneOffset(),n=_(t)/60|0,r=_(t)%60;return(t>0?"-":"+")+tT(n,"0",2)+tT(r,"0",2)}function tR(e,t,n){tk.lastIndex=0;var r=tk.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tI(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}e.locale=function(t){var n,r,a,i,o,l;return{numberFormat:(r=(n=t).decimal,a=n.thousands,i=n.grouping,o=n.currency,l=i&&a?function(e,t){for(var n=e.length,r=[],o=0,l=i[0],s=0;n>0&&l>0&&(s+l+1>t&&(l=Math.max(1,t-s)),r.push(e.substring(n-=l,n+l)),!((s+=l+1)>t));)l=i[o=(o+1)%i.length];return r.reverse().join(a)}:O,function(t){var n=th.exec(t),a=n[1]||" ",i=n[2]||">",s=n[3]||"-",c=n[4]||"",u=n[5],f=+n[6],d=n[7],p=n[8],$=n[9],h=1,g="",v="",m=!1,y=!0;switch(p&&(p=+p.substring(1)),(u||"0"===a&&"="===i)&&(u=a="0",i="="),$){case"n":d=!0,$="g";break;case"%":h=100,v="%",$="f";break;case"p":h=100,v="%",$="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+$.toLowerCase());case"c":y=!1;case"d":m=!0,p=0;break;case"s":h=-1,$="r"}"$"===c&&(g=o[0],v=o[1]),"r"!=$||p||($="g"),null!=p&&("g"==$?p=Math.max(1,Math.min(21,p)):"e"!=$&&"f"!=$||(p=Math.max(0,Math.min(20,p)))),$=tg.get($)||tv;var _=u&&d;return function(t){var n=v;if(m&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(h<0){var c=e.formatPrefix(t,p);t=c.scale(t),n=c.symbol+v}else t*=h;var x,b,w=(t=$(t,p)).lastIndexOf(".");if(w<0){var k=y?t.lastIndexOf("e"):-1;k<0?(x=t,b=""):(x=t.substring(0,k),b=t.substring(k))}else x=t.substring(0,w),b=r+t.substring(w+1);!u&&d&&(x=l(x,1/0));var T=g.length+x.length+b.length+(_?0:o.length),A=T<f?Array(T=f-T+1).join(a):"";return _&&(x=l(A+x,A.length?f-b.length:1/0)),o+=g,t=x+b,("<"===i?o+t+A:">"===i?A+o+t:"^"===i?A.substring(0,T>>=1)+o+t+A.substring(T):o+(_?t:A+t))+n}}),timeFormat:function t(n){var r=n.dateTime,a=n.date,i=n.time,o=n.periods,l=n.days,s=n.shortDays,c=n.months,u=n.shortMonths;function f(e){var t=e.length;function n(n){for(var r,a,i,o=[],l=-1,s=0;++l<t;)37===e.charCodeAt(l)&&(o.push(e.slice(s,l)),null!=(a=t0[r=e.charAt(++l)])&&(r=e.charAt(++l)),(i=b[r])&&(r=i(n,null==a?"e"===r?" ":"0":a)),o.push(r),s=l+1);return o.push(e.slice(s,l)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ty!==t_,a=new(r?t_:ty);return"j"in n?a.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?a._:a},n.toString=function(){return e},n}function d(e,t,n,r){for(var a,i,o,l=0,s=t.length,c=n.length;l<s;){if(r>=c)return -1;if(37===(a=t.charCodeAt(l++))){if(!(i=w[(o=t.charAt(l++))in t0?t.charAt(l++):o])||(r=i(e,n,r))<0)return -1}else if(a!=n.charCodeAt(r++))return -1}return r}f.utc=function(e){var t=f(e);function n(e){try{var n=new(ty=t_);return n._=e,t(n)}finally{ty=Date}}return n.parse=function(e){try{ty=t_;var n=t.parse(e);return n&&n._}finally{ty=Date}},n.toString=t.toString,n},f.multi=f.utc.multi=tI;var p=e.map(),$=t1(l),h=t3(l),g=t1(s),v=t3(s),m=t1(c),y=t3(c),_=t1(u),x=t3(u);o.forEach(function(e,t){p.set(e.toLowerCase(),t)});var b={a:function(e){return s[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:f(r),d:function(e,t){return tT(e.getDate(),t,2)},e:function(e,t){return tT(e.getDate(),t,2)},H:function(e,t){return tT(e.getHours(),t,2)},I:function(e,t){return tT(e.getHours()%12||12,t,2)},j:function(e,t){return tT(1+tm.dayOfYear(e),t,3)},L:function(e,t){return tT(e.getMilliseconds(),t,3)},m:function(e,t){return tT(e.getMonth()+1,t,2)},M:function(e,t){return tT(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return tT(e.getSeconds(),t,2)},U:function(e,t){return tT(tm.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return tT(tm.mondayOfYear(e),t,2)},x:f(a),X:f(i),y:function(e,t){return tT(e.getFullYear()%100,t,2)},Y:function(e,t){return tT(e.getFullYear()%1e4,t,4)},Z:tz,"%":function(){return"%"}},w={a:function(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){$.lastIndex=0;var r=$.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return d(e,b.c.toString(),t,n)},d:t5,e:t5,H:tM,I:tM,j:t7,L:tP,m:tS,M:tO,p:function(e,t,n){var r=p.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:tD,U:t4,w:tA,W:t2,x:function(e,t,n){return d(e,b.x.toString(),t,n)},X:function(e,t,n){return d(e,b.X.toString(),t,n)},y:t6,Y:tL,Z:tC,"%":tR};return f}(t)}};var tE=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tF(){}e.format=tE.numberFormat,e.geo={},tF.prototype={s:0,t:0,add:function(e){tH(e,this.t,tN),tH(tN.s,this.s,this),this.s?this.t+=tN.t:this.s=tN.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var tN=new tF;function tH(e,t,n){var r=n.s=e+t,a=r-e;n.t=e-(r-a)+(t-a)}function tB(e,t){e&&tj.hasOwnProperty(e.type)&&tj[e.type](e,t)}e.geo.stream=function(e,t){e&&tV.hasOwnProperty(e.type)?tV[e.type](e,t):tB(e,t)};var tV={Feature:function(e,t){tB(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)tB(n[r].geometry,t)}},tj={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){tU(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)tU(n[r],t,0)},Polygon:function(e,t){tq(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)tq(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)tB(n[r],t)}};function tU(e,t,n){var r,a=-1,i=e.length-n;for(t.lineStart();++a<i;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function tq(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)tU(e[n],t,1);t.polygonEnd()}e.geo.area=function(t){return tG=0,e.geo.stream(t,na),tG};var tG,tZ,tY,tX,tW,tQ,t9,tJ,tK,ne,nt,nn,nr=new tF,na={sphere:function(){tG+=4*e0},point:R,lineStart:R,lineEnd:R,polygonStart:function(){nr.reset(),na.lineStart=ni},polygonEnd:function(){var e=2*nr;tG+=e<0?4*e0+e:e,na.lineStart=na.lineEnd=na.point=R}};function ni(){var e,t,n,r,a;function i(e,t){t=t*e1/2+e0/4;var i=(e*=e1)-n,o=i>=0?1:-1,l=o*i,s=Math.cos(t),c=Math.sin(t),u=a*c,f=r*s+u*Math.cos(l);nr.add(Math.atan2(u*o*Math.sin(l),f)),n=e,r=s,a=c}na.point=function(o,l){na.point=i,n=(e=o)*e1,r=Math.cos(l=(t=l)*e1/2+e0/4),a=Math.sin(l)},na.lineEnd=function(){i(e,t)}}function no(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function nl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ns(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function nc(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function nu(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function nf(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function nd(e){return[Math.atan2(e[1],e[0]),eL(e[2])]}function np(e,t){return 1e-6>_(e[0]-t[0])&&1e-6>_(e[1]-t[1])}e.geo.bounds=function(){var t,n,r,a,i,o,l,s,c,u,f,d={point:p,lineStart:h,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=m,d.lineEnd=y,c=0,na.polygonStart()},polygonEnd:function(){na.polygonEnd(),d.point=p,d.lineStart=h,d.lineEnd=g,nr<0?(t=-(r=180),n=-(a=90)):c>1e-6?a=90:c<-.000001&&(n=-90),f[0]=t,f[1]=r}};function p(e,i){u.push(f=[t=e,r=e]),i<n&&(n=i),i>a&&(a=i)}function $(e,o){var l=no([e*e1,o*e1]);if(s){var c,u=ns(s,l),f=ns([u[1],-u[0],0],u);nf(f);var d=e-i,$=d>0?1:-1,h=(f=nd(f))[0]*e3*$,g=_(d)>180;g^($*i<h&&h<$*e)?(c=f[1]*e3)>a&&(a=c):g^($*i<(h=(h+360)%360-180)&&h<$*e)?(c=-f[1]*e3)<n&&(n=c):(o<n&&(n=o),o>a&&(a=o)),g?e<i?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>i?x(t,e)>x(t,r)&&(r=e):x(e,r)>x(t,r)&&(t=e)}else p(e,o);s=l,i=e}function h(){d.point=$}function g(){f[0]=t,f[1]=r,d.point=p,s=null}function v(e,t){if(s){var n=e-i;c+=_(n)>180?n+(n>0?360:-360):n}else o=e,l=t;na.point(e,t),$(e,t)}function m(){na.lineStart()}function y(){v(o,l),na.lineEnd(),_(c)>1e-6&&(t=-(r=180)),f[0]=t,f[1]=r,s=null}function x(e,t){return(t-=e)<0?t+360:t}function b(e,t){return e[0]-t[0]}function w(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(i){if(a=r=-(t=n=1/0),u=[],e.geo.stream(i,d),c=u.length){u.sort(b);for(var o=1,l=[h=u[0]];o<c;++o)w((p=u[o])[0],h)||w(p[1],h)?(x(h[0],p[1])>x(h[0],h[1])&&(h[1]=p[1]),x(p[0],h[1])>x(h[0],h[1])&&(h[0]=p[0])):l.push(h=p);for(var s,c,p,$=-1/0,h=(o=0,l[c=l.length-1]);o<=c;h=p,++o)p=l[o],(s=x(h[1],p[0]))>$&&($=s,t=p[0],r=h[1])}return u=f=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,a]]}}(),e.geo.centroid=function(t){tZ=tY=tX=tW=tQ=t9=tJ=tK=ne=nt=nn=0,e.geo.stream(t,n$);var n=ne,r=nt,a=nn,i=n*n+r*r+a*a;return i<1e-12&&(n=t9,r=tJ,a=tK,tY<1e-6&&(n=tX,r=tW,a=tQ),(i=n*n+r*r+a*a)<1e-12)?[NaN,NaN]:[Math.atan2(r,n)*e3,eL(a/Math.sqrt(i))*e3]};var n$={sphere:R,point:nh,lineStart:nv,lineEnd:nm,polygonStart:function(){n$.lineStart=ny},polygonEnd:function(){n$.lineStart=nv}};function nh(e,t){e*=e1;var n=Math.cos(t*=e1);ng(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function ng(e,t,n){++tZ,tX+=(e-tX)/tZ,tW+=(t-tW)/tZ,tQ+=(n-tQ)/tZ}function nv(){var e,t,n;function r(r,a){r*=e1;var i=Math.cos(a*=e1),o=i*Math.cos(r),l=i*Math.sin(r),s=Math.sin(a),c=Math.atan2(Math.sqrt((c=t*s-n*l)*c+(c=n*o-e*s)*c+(c=e*l-t*o)*c),e*o+t*l+n*s);tY+=c,t9+=c*(e+(e=o)),tJ+=c*(t+(t=l)),tK+=c*(n+(n=s)),ng(e,t,n)}n$.point=function(a,i){a*=e1;var o=Math.cos(i*=e1);e=o*Math.cos(a),t=o*Math.sin(a),n=Math.sin(i),n$.point=r,ng(e,t,n)}}function nm(){n$.point=nh}function ny(){var e,t,n,r,a;function i(e,t){e*=e1;var i=Math.cos(t*=e1),o=i*Math.cos(e),l=i*Math.sin(e),s=Math.sin(t),c=r*s-a*l,u=a*o-n*s,f=n*l-r*o,d=Math.sqrt(c*c+u*u+f*f),p=n*o+r*l+a*s,$=d&&-e2(p)/d,h=Math.atan2(d,p);ne+=$*c,nt+=$*u,nn+=$*f,tY+=h,t9+=h*(n+(n=o)),tJ+=h*(r+(r=l)),tK+=h*(a+(a=s)),ng(n,r,a)}n$.point=function(o,l){e=o,t=l,n$.point=i,o*=e1;var s=Math.cos(l*=e1);n=s*Math.cos(o),r=s*Math.sin(o),a=Math.sin(l),ng(n,r,a)},n$.lineEnd=function(){i(e,t),n$.lineEnd=nm,n$.point=nh}}function n_(e,t){function n(n,r){return t((n=e(n,r))[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function nx(){return!0}function nb(e,t,n,r,a){var i=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(np(n,r)){a.lineStart();for(var l=0;l<t;++l)a.point((n=e[l])[0],n[1]);a.lineEnd()}else{var s=new n0(n,e,null,!0),c=new n0(n,null,s,!1);s.o=c,i.push(s),o.push(c),s=new n0(r,e,null,!1),c=new n0(r,null,s,!0),s.o=c,i.push(s),o.push(c)}}}),o.sort(t),n8(i),n8(o),i.length){for(var l=0,s=n,c=o.length;l<c;++l)o[l].e=s=!s;for(var u,f,d=i[0];;){for(var p=d,$=!0;p.v;)if((p=p.n)===d)return;u=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if($)for(l=0,c=u.length;l<c;++l)a.point((f=u[l])[0],f[1]);else r(p.x,p.n.x,1,a);p=p.n}else{if($)for(l=(u=p.p.z).length-1;l>=0;--l)a.point((f=u[l])[0],f[1]);else r(p.x,p.p.x,-1,a);p=p.p}u=(p=p.o).z,$=!$}while(!p.v);a.lineEnd()}}}function n8(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function n0(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function nw(t,n,r,a){return function(i,o){var l,s=n(o),c=i.invert(a[0],a[1]),u={point:f,lineStart:p,lineEnd:$,polygonStart:function(){u.point=_,u.lineStart=x,u.lineEnd=b,l=[],h=[]},polygonEnd:function(){u.point=f,u.lineStart=p,u.lineEnd=$,l=e.merge(l);var t=function(e,t){var n=e[0],r=e[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;nr.reset();for(var l=0,s=t.length;l<s;++l){var c=t[l],u=c.length;if(u)for(var f=c[0],d=f[0],p=f[1]/2+e0/4,$=Math.sin(p),h=Math.cos(p),g=1;;){g===u&&(g=0);var v=(e=c[g])[0],m=e[1]/2+e0/4,y=Math.sin(m),_=Math.cos(m),x=v-d,b=x>=0?1:-1,w=b*x,k=w>e0,T=$*y;if(nr.add(Math.atan2(T*b*Math.sin(w),h*_+T*Math.cos(w))),i+=k?x+b*ew:x,k^d>=n^v>=n){var A=ns(no(f),no(e));nf(A);var L=ns(a,A);nf(L);var C=(k^x>=0?-1:1)*eL(L[2]);(r>C||r===C&&(A[0]||A[1]))&&(o+=k^x>=0?1:-1)}if(!g++)break;d=v,$=y,h=_,f=e}}return(i<-.000001||i<1e-6&&nr<-.000001)^1&o}(c,h);l.length?(y||(o.polygonStart(),y=!0),nb(l,n1,t,r,o)):t&&(y||(o.polygonStart(),y=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),y&&(o.polygonEnd(),y=!1),l=h=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function f(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function d(e,t){var n=i(e,t);s.point(n[0],n[1])}function p(){u.point=d,s.lineStart()}function $(){u.point=f,s.lineEnd()}var h,g,v=nT(),m=n(v),y=!1;function _(e,t){g.push([e,t]);var n=i(e,t);m.point(n[0],n[1])}function x(){m.lineStart(),g=[]}function b(){_(g[0][0],g[0][1]),m.lineEnd();var e,t=m.clean(),n=v.buffer(),r=n.length;if(g.pop(),h.push(g),g=null,r){if(1&t){var a,i=-1;if((r=(e=n[0]).length-1)>0){for(y||(o.polygonStart(),y=!0),o.lineStart();++i<r;)o.point((a=e[i])[0],a[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),l.push(n.filter(nk))}}return u}}function nk(e){return e.length>1}function nT(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:R,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function n1(e,t){return((e=e.x)[0]<0?e[1]-eT-1e-6:eT-e[1])-((t=t.x)[0]<0?t[1]-eT-1e-6:eT-t[1])}var n3=nw(nx,function(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var l,s,c,u,f,d,p,$=i>0?e0:-e0,h=_(i-n);1e-6>_(h-e0)?(e.point(n,r=(r+o)/2>0?eT:-eT),e.point(a,r),e.lineEnd(),e.lineStart(),e.point($,r),e.point(i,r),t=0):a!==$&&h>=e0&&(1e-6>_(n-a)&&(n-=1e-6*a),1e-6>_(i-$)&&(i-=1e-6*$),r=(l=n,s=r,c=i,u=o,_(p=Math.sin(l-c))>1e-6?Math.atan((Math.sin(s)*(d=Math.cos(u))*Math.sin(c)-Math.sin(u)*(f=Math.cos(s))*Math.sin(l))/(f*d*p)):(s+u)/2),e.point(a,r),e.lineEnd(),e.lineStart(),e.point($,r),t=0),e.point(n=i,r=o),a=$},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var a;if(null==e)a=n*eT,r.point(-e0,a),r.point(0,a),r.point(e0,a),r.point(e0,0),r.point(e0,-a),r.point(0,-a),r.point(-e0,-a),r.point(-e0,0),r.point(-e0,a);else if(_(e[0]-t[0])>1e-6){var i=e[0]<t[0]?e0:-e0;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])},[-e0,-e0/2]);function nA(e,t,n,r){return function(a){var i,o=a.a,l=a.b,s=o.x,c=o.y,u=0,f=1,d=l.x-s,p=l.y-c;if(i=e-s,d||!(i>0)){if(i/=d,d<0){if(i<u)return;i<f&&(f=i)}else if(d>0){if(i>f)return;i>u&&(u=i)}if(i=n-s,d||!(i<0)){if(i/=d,d<0){if(i>f)return;i>u&&(u=i)}else if(d>0){if(i<u)return;i<f&&(f=i)}if(i=t-c,p||!(i>0)){if(i/=p,p<0){if(i<u)return;i<f&&(f=i)}else if(p>0){if(i>f)return;i>u&&(u=i)}if(i=r-c,p||!(i<0)){if(i/=p,p<0){if(i>f)return;i>u&&(u=i)}else if(p>0){if(i<u)return;i<f&&(f=i)}return u>0&&(a.a={x:s+u*d,y:c+u*p}),f<1&&(a.b={x:s+f*d,y:c+f*p}),a}}}}}}function n4(t,n,r,a){return function(s){var c,u,f,d,p,$,h,g,v,m,y,_=s,x=nT(),b=nA(t,n,r,a),w={point:A,lineStart:function(){w.point=L,u&&u.push(f=[]),m=!0,v=!1,h=g=NaN},lineEnd:function(){c&&(L(d,p),$&&v&&x.rejoin(),c.push(x.buffer())),w.point=A,v&&s.lineEnd()},polygonStart:function(){s=x,c=[],u=[],y=!0},polygonEnd:function(){s=_,c=e.merge(c);var n=function(e){for(var t=0,n=u.length,r=e[1],a=0;a<n;++a)for(var i,o=1,l=u[a],s=l.length,c=l[0];o<s;++o)i=l[o],c[1]<=r?i[1]>r&&e4(c,i,e)>0&&++t:i[1]<=r&&0>e4(c,i,e)&&--t,c=i;return 0!==t}([t,a]),r=y&&n,i=c.length;(r||i)&&(s.polygonStart(),r&&(s.lineStart(),k(null,null,1,s),s.lineEnd()),i&&nb(c,o,n,k,s),s.polygonEnd()),c=u=f=null}};function k(e,o,s,c){var u=0,f=0;if(null==e||(u=i(e,s))!==(f=i(o,s))||0>l(e,o)^s>0)do c.point(0===u||3===u?t:r,u>1?a:n);while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function T(e,i){return t<=e&&e<=r&&n<=i&&i<=a}function A(e,t){T(e,t)&&s.point(e,t)}function L(e,t){var n=T(e=Math.max(-1e9,Math.min(1e9,e)),t=Math.max(-1e9,Math.min(1e9,t)));if(u&&f.push([e,t]),m)d=e,p=t,$=n,m=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&v)s.point(e,t);else{var r={a:{x:h,y:g},b:{x:e,y:t}};b(r)?(v||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),y=!1):n&&(s.lineStart(),s.point(e,t),y=!1)}h=e,g=t,v=n}return w};function i(e,a){return 1e-6>_(e[0]-t)?a>0?0:3:1e-6>_(e[0]-r)?a>0?2:1:1e-6>_(e[1]-n)?a>0?1:0:a>0?3:2}function o(e,t){return l(e.x,t.x)}function l(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function n2(e){var t=0,n=e0/3,r=nZ(e),a=r(t,n);return a.parallels=function(e){return arguments.length?r(t=e[0]*e0/180,n=e[1]*e0/180):[t/e0*180,n/e0*180]},a}function nL(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,a=1+n*(2*r-n),i=Math.sqrt(a)/r;function o(e,t){var n=Math.sqrt(a-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),i-n*Math.cos(e)]}return o.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,eL((a-(e*e+n*n)*r*r)/(2*r))]},o}e.geo.clipExtent=function(){var e,t,n,r,a,i,o={stream:function(e){return a&&(a.valid=!1),(a=i(e)).valid=!0,a},extent:function(l){return arguments.length?(i=n4(e=+l[0][0],t=+l[0][1],n=+l[1][0],r=+l[1][1]),a&&(a.valid=!1,a=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return n2(nL)}).raw=nL,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,a,i=e.geo.albers(),o=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};function c(e){var i=e[0],o=e[1];return t=null,n(i,o),t||(r(i,o),t)||a(i,o),t}return c.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?l:i).invert(e)},c.stream=function(e){var t=i.stream(e),n=o.stream(e),r=l.stream(e);return{point:function(e,a){t.point(e,a),n.point(e,a),r.point(e,a)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},c.precision=function(e){return arguments.length?(i.precision(e),o.precision(e),l.precision(e),c):i.precision()},c.scale=function(e){return arguments.length?(i.scale(e),o.scale(.35*e),l.scale(e),c.translate(i.translate())):i.scale()},c.translate=function(e){if(!arguments.length)return i.translate();var t=i.scale(),u=+e[0],f=+e[1];return n=i.translate(e).clipExtent([[u-.455*t,f-.238*t],[u+.455*t,f+.238*t]]).stream(s).point,r=o.translate([u-.307*t,f+.201*t]).clipExtent([[u-.425*t+1e-6,f+.12*t+1e-6],[u-.214*t-1e-6,f+.234*t-1e-6]]).stream(s).point,a=l.translate([u-.205*t,f+.212*t]).clipExtent([[u-.214*t+1e-6,f+.166*t+1e-6],[u-.115*t-1e-6,f+.234*t-1e-6]]).stream(s).point,c},c.scale(1070)};var n6,nC,nS,n5,n7,nM,nO={point:R,lineStart:R,lineEnd:R,polygonStart:function(){nC=0,nO.lineStart=nD},polygonEnd:function(){nO.lineStart=nO.lineEnd=nO.point=R,n6+=_(nC/2)}};function nD(){var e,t,n,r;function a(e,t){nC+=r*e-n*t,n=e,r=t}nO.point=function(i,o){nO.point=a,e=n=i,t=r=o},nO.lineEnd=function(){a(e,t)}}var nP={point:function(e,t){e<nS&&(nS=e),e>n7&&(n7=e),t<n5&&(n5=t),t>nM&&(nM=t)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function nz(){var e=nR(4.5),t=[],n={point:r,lineStart:function(){n.point=a},lineEnd:o,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=nR(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function a(e,r){t.push("M",e,",",r),n.point=i}function i(e,n){t.push("L",e,",",n)}function o(){n.point=r}function l(){t.push("Z")}return n}function nR(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var nI,nE={point:nF,lineStart:nN,lineEnd:nH,polygonStart:function(){nE.lineStart=nB},polygonEnd:function(){nE.point=nF,nE.lineStart=nN,nE.lineEnd=nH}};function nF(e,t){tX+=e,tW+=t,++tQ}function nN(){var e,t;function n(n,r){var a=n-e,i=r-t,o=Math.sqrt(a*a+i*i);t9+=o*(e+n)/2,tJ+=o*(t+r)/2,tK+=o,nF(e=n,t=r)}nE.point=function(r,a){nE.point=n,nF(e=r,t=a)}}function nH(){nE.point=nF}function nB(){var e,t,n,r;function a(e,t){var a=e-n,i=t-r,o=Math.sqrt(a*a+i*i);t9+=o*(n+e)/2,tJ+=o*(r+t)/2,tK+=o,ne+=(o=r*e-n*t)*(n+e),nt+=o*(r+t),nn+=3*o,nF(n=e,r=t)}nE.point=function(i,o){nE.point=a,nF(e=n=i,t=r=o)},nE.lineEnd=function(){a(e,t)}}function nV(e){var t=4.5,n={point:r,lineStart:function(){n.point=a},lineEnd:o,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:R};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,ew)}function a(t,r){e.moveTo(t,r),n.point=i}function i(t,n){e.lineTo(t,n)}function o(){n.point=r}function l(){e.closePath()}return n}function nj(e){var t=.5,n=Math.cos(30*e1),r=16;function a(e){return(r?o:i)(e)}function i(t){return nq(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function o(t){var n,a,i,o,s,c,u,f,d,p,$,h,g={point:v,lineStart:m,lineEnd:_,polygonStart:function(){t.polygonStart(),g.lineStart=x},polygonEnd:function(){t.polygonEnd(),g.lineStart=m}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){f=NaN,g.point=y,t.lineStart()}function y(n,a){var i=no([n,a]),o=e(n,a);l(f,d,u,p,$,h,f=o[0],d=o[1],u=n,p=i[0],$=i[1],h=i[2],r,t),t.point(f,d)}function _(){g.point=v,t.lineEnd()}function x(){m(),g.point=b,g.lineEnd=w}function b(e,t){y(n=e,t),a=f,i=d,o=p,s=$,c=h,g.point=y}function w(){l(f,d,u,p,$,h,a,i,n,o,s,c,r,t),g.lineEnd=_,_()}return g}function l(r,a,i,o,s,c,u,f,d,p,$,h,g,v){var m=u-r,y=f-a,x=m*m+y*y;if(x>4*t&&g--){var b=o+p,w=s+$,k=c+h,T=Math.sqrt(b*b+w*w+k*k),A=Math.asin(k/=T),L=1e-6>_(_(k)-1)||1e-6>_(i-d)?(i+d)/2:Math.atan2(w,b),C=e(L,A),S=C[0],M=C[1],O=S-r,D=M-a,P=y*O-m*D;(P*P/x>t||_((m*O+y*D)/x-.5)>.3||o*p+s*$+c*h<n)&&(l(r,a,i,o,s,c,S,M,L,b/=T,w/=T,k,g,v),v.point(S,M),l(S,M,L,b,w,k,u,f,d,p,$,h,g,v))}}return a.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,a):Math.sqrt(t)},a}function nU(e){this.stream=e}function nq(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function nG(e){return nZ(function(){return e})()}function nZ(t){var n,r,a,i,o,l,s=nj(function(e,t){return[(e=n(e,t))[0]*c+i,o-e[1]*c]}),c=150,u=480,f=250,d=0,p=0,$=0,h=0,g=0,v=n3,m=O,y=null,x=null;function b(e){return[(e=a(e[0]*e1,e[1]*e1))[0]*c+i,o-e[1]*c]}function w(e){return(e=a.invert((e[0]-i)/c,(o-e[1])/c))&&[e[0]*e3,e[1]*e3]}function k(){a=n_(r=nQ($,h,g),n);var e=n(d,p);return i=u-e[0]*c,o=f+e[1]*c,T()}function T(){return l&&(l.valid=!1,l=null),b}return b.stream=function(e){return l&&(l.valid=!1),(l=nY(v(r,s(m(e))))).valid=!0,l},b.clipAngle=function(e){return arguments.length?(v=null==e?(y=e,n3):function e(t){var n=Math.cos(t),r=n>0,a=_(n)>1e-6;return nw(i,function(e){var t,n,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(f,d){var p,$,h=[f,d],g=i(f,d),v=r?g?0:l(f,d):g?l(f+(f<0?e0:-e0),d):0;(!t&&(c=s=g)&&e.lineStart(),g!==s&&($=o(t,h),(np(t,$)||np(h,$))&&(h[0]+=1e-6,h[1]+=1e-6,g=i(h[0],h[1]))),g!==s)?(u=0,g?(e.lineStart(),$=o(h,t),e.point($[0],$[1])):($=o(t,h),e.point($[0],$[1]),e.lineEnd()),t=$):a&&t&&r^g&&!(v&n)&&(p=o(h,t,!0))&&(u=0,r?(e.lineStart(),e.point(p[0][0],p[0][1]),e.point(p[1][0],p[1][1]),e.lineEnd()):(e.point(p[1][0],p[1][1]),e.lineEnd(),e.lineStart(),e.point(p[0][0],p[0][1]))),!g||t&&np(t,h)||e.point(h[0],h[1]),t=h,s=g,n=v},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return u|(c&&s)<<1}}},re(t,6*e1),r?[0,-t]:[-e0,t-e0]);function i(e,t){return Math.cos(e)*Math.cos(t)>n}function o(e,t,r){var a=[1,0,0],i=ns(no(e),no(t)),o=nl(i,i),l=i[0],s=o-l*l;if(!s)return!r&&e;var c=ns(a,i),u=nu(a,n*o/s);nc(u,nu(i,-n*l/s));var f=c,d=nl(u,f),p=nl(f,f),$=d*d-p*(nl(u,u)-1);if(!($<0)){var h=Math.sqrt($),g=nu(f,(-d-h)/p);if(nc(g,u),g=nd(g),!r)return g;var v,m=e[0],y=t[0],x=e[1],b=t[1];y<m&&(v=m,m=y,y=v);var w=y-m,k=1e-6>_(w-e0);if(!k&&b<x&&(v=x,x=b,b=v),k||w<1e-6?k?x+b>0^g[1]<(1e-6>_(g[0]-m)?x:b):x<=g[1]&&g[1]<=b:w>e0^(m<=g[0]&&g[0]<=y)){var T=nu(f,(-d+h)/p);return nc(T,u),[g,nd(T)]}}}function l(e,n){var a=r?t:e0-t,i=0;return e<-a?i|=1:e>a&&(i|=2),n<-a?i|=4:n>a&&(i|=8),i}}((y=+e)*e1),T()):y},b.clipExtent=function(e){return arguments.length?(x=e,m=e?n4(e[0][0],e[0][1],e[1][0],e[1][1]):O,T()):x},b.scale=function(e){return arguments.length?(c=+e,k()):c},b.translate=function(e){return arguments.length?(u=+e[0],f=+e[1],k()):[u,f]},b.center=function(e){return arguments.length?(d=e[0]%360*e1,p=e[1]%360*e1,k()):[d*e3,p*e3]},b.rotate=function(e){return arguments.length?($=e[0]%360*e1,h=e[1]%360*e1,g=e.length>2?e[2]%360*e1:0,k()):[$*e3,h*e3,g*e3]},e.rebind(b,s,"precision"),function(){return n=t.apply(this,arguments),b.invert=n.invert&&w,k()}}function nY(e){return nq(e,function(t,n){e.point(t*e1,n*e1)})}function nX(e,t){return[e,t]}function nW(e,t){return[e>e0?e-ew:e<-e0?e+ew:e,t]}function nQ(e,t,n){return e?t||n?n_(nJ(e),nK(t,n)):nJ(e):t||n?nK(t,n):nW}function n9(e){return function(t,n){return[(t+=e)>e0?t-ew:t<-e0?t+ew:t,n]}}function nJ(e){var t=n9(e);return t.invert=n9(-e),t}function nK(e,t){var n=Math.cos(e),r=Math.sin(e),a=Math.cos(t),i=Math.sin(t);function o(e,t){var o=Math.cos(t),l=Math.cos(e)*o,s=Math.sin(e)*o,c=Math.sin(t),u=c*n+l*r;return[Math.atan2(s*a-u*i,l*n-c*r),eL(u*a+s*i)]}return o.invert=function(e,t){var o=Math.cos(t),l=Math.cos(e)*o,s=Math.sin(e)*o,c=Math.sin(t),u=c*a-s*i;return[Math.atan2(s*a+c*i,l*n+u*r),eL(u*n-l*r)]},o}function re(e,t){var n=Math.cos(e),r=Math.sin(e);return function(a,i,o,l){var s=o*t;null!=a?(a=rt(n,a),i=rt(n,i),(o>0?a<i:a>i)&&(a+=o*ew)):(a=e+o*ew,i=e-.5*s);for(var c,u=a;o>0?u>i:u<i;u-=s)l.point((c=nd([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function rt(e,t){var n=no(t);n[0]-=e,nf(n);var r=e2(-n[1]);return((0>-n[2]?-r:r)+2*Math.PI-1e-6)%(2*Math.PI)}function rn(t,n,r){var a=e.range(t,n-1e-6,r).concat(n);return function(e){return a.map(function(t){return[e,t]})}}function rr(t,n,r){var a=e.range(t,n-1e-6,r).concat(n);return function(e){return a.map(function(t){return[t,e]})}}function ra(e){return e.source}function ri(e){return e.target}e.geo.path=function(){var t,n,r,a,i,o=4.5;function l(t){return t&&("function"==typeof o&&a.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=r(a)),e.geo.stream(t,i)),a.result()}function s(){return i=null,l}return l.area=function(t){return n6=0,e.geo.stream(t,r(nO)),n6},l.centroid=function(t){return tX=tW=tQ=t9=tJ=tK=ne=nt=nn=0,e.geo.stream(t,r(nE)),nn?[ne/nn,nt/nn]:tK?[t9/tK,tJ/tK]:tQ?[tX/tQ,tW/tQ]:[NaN,NaN]},l.bounds=function(t){return n7=nM=-(nS=n5=1/0),e.geo.stream(t,r(nP)),[[nS,n5],[n7,nM]]},l.projection=function(e){var n,a;return arguments.length?(r=(t=e)?e.stream||(n=e,a=nj(function(e,t){return n([e*e3,t*e3])}),function(e){return nY(a(e))}):O,s()):t},l.context=function(e){return arguments.length?(a=null==(n=e)?new nz:new nV(e),"function"!=typeof o&&a.pointRadius(o),s()):n},l.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(a.pointRadius(+e),+e),l):o},l.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new nU(t);for(var r in e)n[r]=e[r];return n}}},nU.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=nG,e.geo.projectionMutator=nZ,(e.geo.equirectangular=function(){return nG(nX)}).raw=nX.invert=nX,e.geo.rotation=function(e){function t(t){return(t=e(t[0]*e1,t[1]*e1))[0]*=e3,t[1]*=e3,t}return e=nQ(e[0]%360*e1,e[1]*e1,e.length>2?e[2]*e1:0),t.invert=function(t){return(t=e.invert(t[0]*e1,t[1]*e1))[0]*=e3,t[1]*=e3,t},t},nW.invert=nX,e.geo.circle=function(){var e,t,n=[0,0],r=6;function a(){var e="function"==typeof n?n.apply(this,arguments):n,r=nQ(-e[0]*e1,-e[1]*e1,0).invert,a=[];return t(null,null,1,{point:function(e,t){a.push(e=r(e,t)),e[0]*=e3,e[1]*=e3}}),{type:"Polygon",coordinates:[a]}}return a.origin=function(e){return arguments.length?(n=e,a):n},a.angle=function(n){return arguments.length?(t=re((e=+n)*e1,r*e1),a):e},a.precision=function(n){return arguments.length?(t=re(e*e1,(r=+n)*e1),a):r},a.angle(90)},e.geo.distance=function(e,t){var n,r=(t[0]-e[0])*e1,a=e[1]*e1,i=t[1]*e1,o=Math.cos(r),l=Math.sin(a),s=Math.cos(a),c=Math.sin(i),u=Math.cos(i);return Math.atan2(Math.sqrt((n=u*Math.sin(r))*n+(n=s*c-l*u*o)*n),l*c+s*u*o)},e.geo.graticule=function(){var t,n,r,a,i,o,l,s,c,u,f,d,p=10,$=p,h=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return e.range(Math.ceil(a/h)*h,r,h).map(f).concat(e.range(Math.ceil(s/g)*g,l,g).map(d)).concat(e.range(Math.ceil(n/p)*p,t,p).filter(function(e){return _(e%h)>1e-6}).map(c)).concat(e.range(Math.ceil(o/$)*$,i,$).filter(function(e){return _(e%g)>1e-6}).map(u))}return m.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},m.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(l).slice(1),f(r).reverse().slice(1),d(s).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.majorExtent(e).minorExtent(e):m.minorExtent()},m.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],s=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),s>l&&(e=s,s=l,l=e),m.precision(v)):[[a,s],[r,l]]},m.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),m.precision(v)):[[n,o],[t,i]]},m.step=function(e){return arguments.length?m.majorStep(e).minorStep(e):m.minorStep()},m.majorStep=function(e){return arguments.length?(h=+e[0],g=+e[1],m):[h,g]},m.minorStep=function(e){return arguments.length?(p=+e[0],$=+e[1],m):[p,$]},m.precision=function(e){return arguments.length?(v=+e,c=rn(o,i,90),u=rr(n,t,v),f=rn(s,l,90),d=rr(a,r,v),m):v},m.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])},e.geo.greatArc=function(){var t,n,r=ra,a=ri;function i(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||a.apply(this,arguments)]}}return i.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||a.apply(this,arguments))},i.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,i):r},i.target=function(e){return arguments.length?(a=e,n="function"==typeof e?null:e,i):a},i.precision=function(){return arguments.length?i:0},i},e.geo.interpolate=function(e,t){var n,r,a,i,o,l,s,c,u,f,d,p,$,h,g;return n=e[0]*e1,r=e[1]*e1,a=t[0]*e1,i=t[1]*e1,o=Math.cos(r),l=Math.sin(r),s=Math.cos(i),c=Math.sin(i),u=o*Math.cos(n),f=o*Math.sin(n),d=s*Math.cos(a),p=s*Math.sin(a),h=1/Math.sin($=2*Math.asin(Math.sqrt(eC(i-r)+o*s*eC(a-n)))),(g=$?function(e){var t=Math.sin(e*=$)*h,n=Math.sin($-e)*h,r=n*u+t*d,a=n*f+t*p;return[Math.atan2(a,r)*e3,Math.atan2(n*l+t*c,Math.sqrt(r*r+a*a))*e3]}:function(){return[n*e3,r*e3]}).distance=$,g},e.geo.length=function(t){return nI=0,e.geo.stream(t,ro),nI};var ro={sphere:R,point:R,lineStart:function(){var e,t,n;function r(r,a){var i=Math.sin(a*=e1),o=Math.cos(a),l=_((r*=e1)-e),s=Math.cos(l);nI+=Math.atan2(Math.sqrt((l=o*Math.sin(l))*l+(l=n*i-t*o*s)*l),t*i+n*o*s),e=r,t=i,n=o}ro.point=function(a,i){e=a*e1,t=Math.sin(i*=e1),n=Math.cos(i),ro.point=r},ro.lineEnd=function(){ro.point=ro.lineEnd=R}},lineEnd:R,polygonStart:R,polygonEnd:R};function rl(e,t){function n(t,n){var r=Math.cos(n),a=e(Math.cos(t)*r);return[a*r*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),a=t(r),i=Math.sin(a);return[Math.atan2(e*i,r*Math.cos(a)),Math.asin(r&&n*i/r)]},n}var rs=rl(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return nG(rs)}).raw=rs;var rc=rl(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},O);function ru(e,t){var n=Math.cos(e),r=function(e){return Math.tan(e0/4+e/2)},a=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),i=n*Math.pow(r(e),a)/a;if(!a)return rp;function o(e,t){i>0?t<-eT+1e-6&&(t=-eT+1e-6):t>eT-1e-6&&(t=eT-1e-6);var n=i/Math.pow(r(t),a);return[n*Math.sin(a*e),i-n*Math.cos(a*e)]}return o.invert=function(e,t){var n=i-t,r=eA(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(i/r,1/a))-eT]},o}function rf(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),a=n/r+e;if(1e-6>_(r))return nX;function i(e,t){var n=a-t;return[n*Math.sin(r*e),a-n*Math.cos(r*e)]}return i.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,a-eA(r)*Math.sqrt(e*e+n*n)]},i}(e.geo.azimuthalEquidistant=function(){return nG(rc)}).raw=rc,(e.geo.conicConformal=function(){return n2(ru)}).raw=ru,(e.geo.conicEquidistant=function(){return n2(rf)}).raw=rf;var rd=rl(function(e){return 1/e},Math.atan);function rp(e,t){return[e,Math.log(Math.tan(e0/4+t/2))]}function r$(e){var t,n=nG(e),r=n.scale,a=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=a.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=i.apply(n,arguments);if(o===n){if(t=null==e){var l=e0*r(),s=a();i([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else t&&(o=null);return o},n.clipExtent(null)}(e.geo.gnomonic=function(){return nG(rd)}).raw=rd,rp.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-eT]},(e.geo.mercator=function(){return r$(rp)}).raw=rp;var rh=rl(function(){return 1},Math.asin);(e.geo.orthographic=function(){return nG(rh)}).raw=rh;var rg=rl(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function rv(e,t){return[Math.log(Math.tan(e0/4+t/2)),-e]}function rm(e){return e[0]}function ry(e){return e[1]}function r_(e){for(var t=e.length,n=[0,1],r=2,a=2;a<t;a++){for(;r>1&&0>=e4(e[n[r-2]],e[n[r-1]],e[a]);)--r;n[r++]=a}return n.slice(0,r)}function rx(e,t){return e[0]-t[0]||e[1]-t[1]}(e.geo.stereographic=function(){return nG(rg)}).raw=rg,rv.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-eT]},(e.geo.transverseMercator=function(){var e=r$(rv),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=rv,e.geom={},e.geom.hull=function(e){var t=rm,n=ry;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,a=tt(t),i=tt(n),o=e.length,l=[],s=[];for(r=0;r<o;r++)l.push([+a.call(this,e[r],r),+i.call(this,e[r],r),r]);for(l.sort(rx),r=0;r<o;r++)s.push([l[r][0],-l[r][1]]);var c=r_(l),u=r_(s),f=u[0]===c[0],d=u[u.length-1]===c[c.length-1],p=[];for(r=c.length-1;r>=0;--r)p.push(e[l[c[r]][2]]);for(r=+f;r<u.length-d;++r)p.push(e[l[u[r]][2]]);return p}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},e.geom.polygon=function(e){return V(e,rb),e};var rb=e.geom.polygon.prototype=[];function r8(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function r0(e,t,n,r){var a=e[0],i=n[0],o=t[0]-a,l=r[0]-i,s=e[1],c=n[1],u=t[1]-s,f=r[1]-c,d=(l*(s-c)-f*(a-i))/(f*o-l*u);return[a+d*o,s+d*u]}function rw(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}rb.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],a=0;++t<n;)e=r,r=this[t],a+=e[1]*r[0]-e[0]*r[1];return .5*a},rb.centroid=function(e){var t,n,r=-1,a=this.length,i=0,o=0,l=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++r<a;)t=l,l=this[r],n=t[0]*l[1]-l[0]*t[1],i+=(t[0]+l[0])*n,o+=(t[1]+l[1])*n;return[i*e,o*e]},rb.clip=function(e){for(var t,n,r,a,i,o,l=rw(e),s=-1,c=this.length-rw(this),u=this[c-1];++s<c;){for(t=e.slice(),e.length=0,a=this[s],i=t[(r=t.length-l)-1],n=-1;++n<r;)r8(o=t[n],u,a)?(r8(i,u,a)||e.push(r0(i,o,u,a)),e.push(o)):r8(i,u,a)&&e.push(r0(i,o,u,a)),i=o;l&&e.push(e[0]),u=a}return e};var rk,rT,r1,r3,rA,r4=[],r2=[];function rL(){rj(this),this.edge=this.site=this.circle=null}function r6(e){var t=r4.pop()||new rL;return t.site=e,t}function rC(e){rR(e),r1.remove(e),r4.push(e),rj(e)}function rS(e){var t=e.circle,n=t.x,r=t.cy,a={x:n,y:r},i=e.P,o=e.N,l=[e];rC(e);for(var s=i;s.circle&&1e-6>_(n-s.circle.x)&&1e-6>_(r-s.circle.cy);)i=s.P,l.unshift(s),rC(s),s=i;l.unshift(s),rR(s);for(var c=o;c.circle&&1e-6>_(n-c.circle.x)&&1e-6>_(r-c.circle.cy);)o=c.N,l.push(c),rC(c),c=o;l.push(c),rR(c);var u,f=l.length;for(u=1;u<f;++u)c=l[u],s=l[u-1],rH(c.edge,s.site,c.site,a);s=l[0],(c=l[f-1]).edge=rF(s.site,c.site,null,a),rz(s),rz(c)}function r5(e){for(var t,n,r,a,i=e.x,o=e.y,l=r1._;l;)if((r=r7(l,o)-i)>1e-6)l=l.L;else{if(!((a=i-rM(l,o))>1e-6)){r>-.000001?(t=l.P,n=l):a>-.000001?(t=l,n=l.N):t=n=l;break}if(!l.R){t=l;break}l=l.R}var s=r6(e);if(r1.insert(t,s),t||n){if(t===n)return rR(t),n=r6(t.site),r1.insert(s,n),s.edge=n.edge=rF(t.site,s.site),rz(t),void rz(n);if(n){rR(t),rR(n);var c=t.site,u=c.x,f=c.y,d=e.x-u,p=e.y-f,$=n.site,h=$.x-u,g=$.y-f,v=2*(d*g-p*h),m=d*d+p*p,y=h*h+g*g,_={x:(g*m-p*y)/v+u,y:(d*y-h*m)/v+f};rH(n.edge,c,$,_),s.edge=rF(c,e,null,_),n.edge=rF(e,$,null,_),rz(t),rz(n)}else s.edge=rF(t.site,s.site)}}function r7(e,t){var n=e.site,r=n.x,a=n.y,i=a-t;if(!i)return r;var o=e.P;if(!o)return-1/0;var l=(n=o.site).x,s=n.y,c=s-t;if(!c)return l;var u=l-r,f=1/i-1/c,d=u/c;return f?(-d+Math.sqrt(d*d-2*f*(u*u/(-2*c)-s+c/2+a-i/2)))/f+r:(r+l)/2}function rM(e,t){var n=e.N;if(n)return r7(n,t);var r=e.site;return r.y===t?r.x:1/0}function rO(e){this.site=e,this.edges=[]}function rD(e,t){return t.angle-e.angle}function rP(){rj(this),this.x=this.y=this.arc=this.site=this.cy=null}function rz(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,a=e.site,i=n.site;if(r!==i){var o=a.x,l=a.y,s=r.x-o,c=r.y-l,u=i.x-o,f=2*(s*(g=i.y-l)-c*u);if(!(f>=-.000000000001)){var d=s*s+c*c,p=u*u+g*g,$=(g*d-c*p)/f,h=(s*p-u*d)/f,g=h+l,v=r2.pop()||new rP;v.arc=e,v.site=a,v.x=$+o,v.y=g+Math.sqrt($*$+h*h),v.cy=g,e.circle=v;for(var m=null,y=rA._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){m=y.P;break}y=y.L}else{if(!y.R){m=y;break}y=y.R}rA.insert(m,v),m||(r3=v)}}}}function rR(e){var t=e.circle;t&&(t.P||(r3=t.N),rA.remove(t),r2.push(t),rj(t),e.circle=null)}function rI(e,t){var n=e.b;if(n)return!0;var r,a,i=e.a,o=t[0][0],l=t[1][0],s=t[0][1],c=t[1][1],u=e.l,f=e.r,d=u.x,p=u.y,$=f.x,h=f.y,g=(d+$)/2;if(h===p){if(g<o||g>=l)return;if(d>$){if(i){if(i.y>=c)return}else i={x:g,y:s};n={x:g,y:c}}else{if(i){if(i.y<s)return}else i={x:g,y:c};n={x:g,y:s}}}else if(a=(p+h)/2-(r=(d-$)/(h-p))*g,r<-1||r>1){if(d>$){if(i){if(i.y>=c)return}else i={x:(s-a)/r,y:s};n={x:(c-a)/r,y:c}}else{if(i){if(i.y<s)return}else i={x:(c-a)/r,y:c};n={x:(s-a)/r,y:s}}}else if(p<h){if(i){if(i.x>=l)return}else i={x:o,y:r*o+a};n={x:l,y:r*l+a}}else{if(i){if(i.x<o)return}else i={x:l,y:r*l+a};n={x:o,y:r*o+a}}return e.a=i,e.b=n,!0}function rE(e,t){this.l=e,this.r=t,this.a=this.b=null}function rF(e,t,n,r){var a=new rE(e,t);return rk.push(a),n&&rH(a,e,t,n),r&&rH(a,t,e,r),rT[e.i].edges.push(new rB(a,e,t)),rT[t.i].edges.push(new rB(a,t,e)),a}function rN(e,t,n){var r=new rE(e,null);return r.a=t,r.b=n,rk.push(r),r}function rH(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function rB(e,t,n){var r=e.a,a=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function rV(){this._=null}function rj(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function rU(e,t){var n=t,r=t.R,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function rq(e,t){var n=t,r=t.L,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function rG(e){for(;e.L;)e=e.L;return e}function rZ(e,t){var n,r,a,i=e.sort(rY).pop();for(rk=[],rT=Array(e.length),r1=new rV,rA=new rV;;)if(a=r3,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===n&&i.y===r||(rT[i.i]=new rO(i),r5(i),n=i.x,r=i.y),i=e.pop();else{if(!a)break;rS(a.arc)}t&&(function(e){for(var t,n=rk,r=nA(e[0][0],e[0][1],e[1][0],e[1][1]),a=n.length;a--;)(!rI(t=n[a],e)||!r(t)||1e-6>_(t.a.x-t.b.x)&&1e-6>_(t.a.y-t.b.y))&&(t.a=t.b=null,n.splice(a,1))}(t),function(e){for(var t,n,r,a,i,o,l,s,c,u,f=e[0][0],d=e[1][0],p=e[0][1],$=e[1][1],h=rT,g=h.length;g--;)if((i=h[g])&&i.prepare())for(s=(l=i.edges).length,o=0;o<s;)r=(u=l[o].end()).x,a=u.y,t=(c=l[++o%s].start()).x,n=c.y,(_(r-t)>1e-6||_(a-n)>1e-6)&&(l.splice(o,0,new rB(rN(i.site,u,1e-6>_(r-f)&&$-a>1e-6?{x:f,y:1e-6>_(t-f)?n:$}:1e-6>_(a-$)&&d-r>1e-6?{x:1e-6>_(n-$)?t:d,y:$}:1e-6>_(r-d)&&a-p>1e-6?{x:d,y:1e-6>_(t-d)?n:p}:1e-6>_(a-p)&&r-f>1e-6?{x:1e-6>_(n-p)?t:f,y:p}:null),i.site,null)),++s)}(t));var o={cells:rT,edges:rk};return r1=rA=rk=rT=null,o}function rY(e,t){return t.y-e.y||t.x-e.x}rO.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(rD),t.length},rB.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},rV.prototype={insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=rG(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(a=r.R)&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(rU(this,n),n=(e=n).U),n.C=!1,r.C=!0,rq(this,r)):(a=r.L)&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(rq(this,n),n=(e=n).U),n.C=!1,r.C=!0,rU(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,a=e.U,i=e.L,o=e.R;if(n=i?o?rG(o):i:o,a?a.L===e?a.L=n:a.R=n:this._=n,i&&o?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==o?(a=n.U,n.U=e.U,e=n.R,a.L=e,n.R=o,o.U=n):(n.U=a,a=n,e=n.R)):(r=e.C,e=n),e&&(e.U=a),!r){if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===a.L){if((t=a.R).C&&(t.C=!1,a.C=!0,rU(this,a),t=a.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,rq(this,t),t=a.R),t.C=a.C,a.C=t.R.C=!1,rU(this,a),e=this._;break}}else if((t=a.L).C&&(t.C=!1,a.C=!0,rq(this,a),t=a.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rU(this,t),t=a.L),t.C=a.C,a.C=t.L.C=!1,rq(this,a),e=this._;break}t.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}}},e.geom.voronoi=function(e){var t=rm,n=ry,r=t,a=n,i=rX;if(e)return o(e);function o(e){var t=Array(e.length),n=i[0][0],r=i[0][1],a=i[1][0],o=i[1][1];return rZ(l(e),i).cells.forEach(function(i,l){var s=i.edges,c=i.site;(t[l]=s.length?s.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=n&&c.x<=a&&c.y>=r&&c.y<=o?[[n,o],[a,o],[a,r],[n,r]]:[]).point=e[l]}),t}function l(e){return e.map(function(e,t){return{x:1e-6*Math.round(r(e,t)/1e-6),y:1e-6*Math.round(a(e,t)/1e-6),i:t}})}return o.links=function(e){return rZ(l(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(e){var t=[];return rZ(l(e)).cells.forEach(function(n,r){for(var a,i,o,l,s=n.site,c=n.edges.sort(rD),u=-1,f=c.length,d=c[f-1].edge,p=d.l===s?d.r:d.l;++u<f;)a=p,p=(d=c[u].edge).l===s?d.r:d.l,r<a.i&&r<p.i&&(o=a,l=p,((i=s).x-l.x)*(o.y-i.y)-(i.x-o.x)*(l.y-i.y)<0)&&t.push([e[r],e[a.i],e[p.i]])}),t},o.x=function(e){return arguments.length?(r=tt(t=e),o):t},o.y=function(e){return arguments.length?(a=tt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(i=null==e?rX:e,o):i===rX?null:i},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):i===rX?null:i&&i[1]},o};var rX=[[-1e6,-1e6],[1e6,1e6]];function rW(e){return e.x}function rQ(e){return e.y}function r9(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,a=t.g,i=t.b,o=n.r-r,l=n.g-a,s=n.b-i;return function(e){return"#"+eX(Math.round(r+o*e))+eX(Math.round(a+l*e))+eX(Math.round(i+s*e))}}function rJ(e,t){var n,r={},a={};for(n in e)n in t?r[n]=ar(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in r)a[n]=r[n](e);return a}}function rK(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ae(e,t){var n,r,a,i=at.lastIndex=an.lastIndex=0,o=-1,l=[],s=[];for(e+="",t+="";(n=at.exec(e))&&(r=an.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:rK(n,r)})),i=an.lastIndex;return i<t.length&&(a=t.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?(t=s[0].x,function(e){return t(e)+""}):function(){return t}:(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,a){var i,o=rm,l=ry;if(i=arguments.length)return o=rW,l=rQ,3===i&&(a=n,r=t,n=t=0),s(e);function s(e){var s,c,u,f,d,p,$,h,g,v=tt(o),m=tt(l);if(null!=t)p=t,$=n,h=r,g=a;else if(h=g=-(p=$=1/0),c=[],u=[],d=e.length,i)for(f=0;f<d;++f)(s=e[f]).x<p&&(p=s.x),s.y<$&&($=s.y),s.x>h&&(h=s.x),s.y>g&&(g=s.y),c.push(s.x),u.push(s.y);else for(f=0;f<d;++f){var y=+v(s=e[f],f),x=+m(s,f);y<p&&(p=y),x<$&&($=x),y>h&&(h=y),x>g&&(g=x),c.push(y),u.push(x)}var b=h-p,w=g-$;function k(e,t,n,r,a,i,o,l){if(!isNaN(n)&&!isNaN(r)){if(e.leaf){var s=e.x,c=e.y;if(null!=s){if(_(s-n)+_(c-r)<.01)T(e,t,n,r,a,i,o,l);else{var u=e.point;e.x=e.y=e.point=null,T(e,u,s,c,a,i,o,l),T(e,t,n,r,a,i,o,l)}}else e.x=n,e.y=r,e.point=t}else T(e,t,n,r,a,i,o,l)}}function T(e,t,n,r,a,i,o,l){var s=.5*(a+o),c=.5*(i+l),u=n>=s,f=r>=c,d=f<<1|u;e.leaf=!1,u?a=s:o=s,f?i=c:l=c,k(e=e.nodes[d]||(e.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,r,a,i,o,l)}b>w?g=$+b:h=p+w;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){k(A,e,+v(e,++f),+m(e,f),p,$,h,g)},visit:function(e){(function e(t,n,r,a,i,o){if(!t(n,r,a,i,o)){var l=.5*(r+i),s=.5*(a+o),c=n.nodes;c[0]&&e(t,c[0],r,a,l,s),c[1]&&e(t,c[1],l,a,i,s),c[2]&&e(t,c[2],r,s,l,o),c[3]&&e(t,c[3],l,s,i,o)}})(e,A,p,$,h,g)},find:function(e){var t,n,r,a,i,o,l,s,c;return t=A,n=e[0],r=e[1],a=p,i=$,o=h,l=g,c=1/0,function e(t,u,f,d,p){if(!(u>o||f>l||d<a||p<i)){if($=t.point){var $,h=n-t.x,g=r-t.y,v=h*h+g*g;if(v<c){var m=Math.sqrt(c=v);a=n-m,i=r-m,o=n+m,l=r+m,s=$}}for(var y=t.nodes,_=.5*(u+d),x=.5*(f+p),b=(r>=x)<<1|n>=_,w=b+4;b<w;++b)if(t=y[3&b])switch(3&b){case 0:e(t,u,f,_,x);break;case 1:e(t,_,f,d,x);break;case 2:e(t,u,x,_,p);break;case 3:e(t,_,x,d,p)}}}(t,a,i,o,l),s}};if(f=-1,null==t){for(;++f<d;)k(A,e[f],c[f],u[f],p,$,h,g);--f}else e.forEach(A.add);return c=u=e=s=null,A}return s.x=function(e){return arguments.length?(o=e,s):o},s.y=function(e){return arguments.length?(l=e,s):l},s.extent=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),s):null==t?null:[[t,n],[r,a]]},s.size=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=n=0,r=+e[0],a=+e[1]),s):null==t?null:[r-t,a-n]},s},e.interpolateRgb=r9,e.interpolateObject=rJ,e.interpolateNumber=rK,e.interpolateString=ae;var at=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,an=RegExp(at.source,"g");function ar(t,n){for(var r,a=e.interpolators.length;--a>=0&&!(r=e.interpolators[a](t,n)););return r}function aa(e,t){var n,r=[],a=[],i=e.length,o=t.length,l=Math.min(e.length,t.length);for(n=0;n<l;++n)r.push(ar(e[n],t[n]));for(;n<i;++n)a[n]=e[n];for(;n<o;++n)a[n]=t[n];return function(e){for(n=0;n<l;++n)a[n]=r[n](e);return a}}e.interpolate=ar,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?te.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?r9:ae:t instanceof eO?r9:Array.isArray(t)?aa:"object"===n&&isNaN(t)?rJ:rK)(e,t)}],e.interpolateArray=aa;var ai=function(){return O},ao=e.map({linear:ai,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return au},cubic:function(){return af},sin:function(){return ap},exp:function(){return a$},circle:function(){return ah},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/ew*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*ew/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return ag}}),al=e.map({in:O,out:as,"in-out":ac,"out-in":function(e){return ac(as(e))}});function as(e){return function(t){return 1-e(1-t)}}function ac(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}}function au(e){return e*e}function af(e){return e*e*e}function ad(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function ap(e){return 1-Math.cos(e*eT)}function a$(e){return Math.pow(2,10*(e-1))}function ah(e){return 1-Math.sqrt(1-e*e)}function ag(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function av(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function am(e){var t,n,r,a=[e.a,e.b],i=[e.c,e.d],o=a_(a),l=ay(a,i),s=a_(((t=i)[0]+=(r=-l)*(n=a)[0],t[1]+=r*n[1],t))||0;a[0]*i[1]<i[0]*a[1]&&(a[0]*=-1,a[1]*=-1,o*=-1,l*=-1),this.rotate=(o?Math.atan2(a[1],a[0]):Math.atan2(-i[0],i[1]))*e3,this.translate=[e.e,e.f],this.scale=[o,s],this.skew=s?Math.atan2(l,s)*e3:0}function ay(e,t){return e[0]*t[0]+e[1]*t[1]}function a_(e){var t=Math.sqrt(ay(e,e));return t&&(e[0]/=t,e[1]/=t),t}e.ease=function(e){var t,r=e.indexOf("-"),a=r>=0?e.slice(0,r):e,i=r>=0?e.slice(r+1):"in";return a=ao.get(a)||ai,t=(i=al.get(i)||O)(a.apply(null,n.call(arguments,1))),function(e){return e<=0?0:e>=1?1:t(e)}},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,a=t.c,i=t.l,o=n.h-r,l=n.c-a,s=n.l-i;return isNaN(l)&&(l=0,a=isNaN(a)?n.c:a),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return eE(r+o*e,a+l*e,i+s*e)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,a=t.s,i=t.l,o=n.h-r,l=n.s-a,s=n.l-i;return isNaN(l)&&(l=0,a=isNaN(a)?n.s:a),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return ez(r+o*e,a+l*e,i+s*e)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,a=t.a,i=t.b,o=n.l-r,l=n.a-a,s=n.b-i;return function(e){return eB(r+o*e,a+l*e,i+s*e)+""}},e.interpolateRound=av,e.transform=function(t){var n=a.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new am(t?t.matrix:ax)})(t)},am.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ax={a:1,b:0,c:0,d:1,e:0,f:0};function ab(e){return e.length?e.pop()+",":""}function a8(t,n){var r,a,i,o,l,s,c,u,f=[],d=[];return t=e.transform(t),n=e.transform(n),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push("translate(",null,",",null,")");r.push({i:a-4,x:rK(e[0],t[0])},{i:a-2,x:rK(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(t.translate,n.translate,f,d),r=t.rotate,a=n.rotate,i=f,o=d,r!==a?(r-a>180?a+=360:a-r>180&&(r+=360),o.push({i:i.push(ab(i)+"rotate(",null,")")-2,x:rK(r,a)})):a&&i.push(ab(i)+"rotate("+a+")"),l=t.skew,s=n.skew,c=f,u=d,l!==s?u.push({i:c.push(ab(c)+"skewX(",null,")")-2,x:rK(l,s)}):s&&c.push(ab(c)+"skewX("+s+")"),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push(ab(n)+"scale(",null,",",null,")");r.push({i:a-4,x:rK(e[0],t[0])},{i:a-2,x:rK(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(ab(n)+"scale("+t+")")}(t.scale,n.scale,f,d),t=n=null,function(e){for(var t,n=-1,r=d.length;++n<r;)f[(t=d[n]).i]=t.x(e);return f.join("")}}function a0(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function aw(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function ak(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=aT(e),r=aT(t),a=n.pop(),i=r.pop(),o=null;a===i;)o=a,a=n.pop(),i=r.pop();return o}(t,n),a=[t];t!==r;)t=t.parent,a.push(t);for(var i=a.length;n!==r;)a.splice(i,0,n),n=n.parent;return a}function aT(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function a1(e){e.fixed|=2}function a3(e){e.fixed&=-7}function aA(e){e.fixed|=4,e.px=e.x,e.py=e.y}function a4(e){e.fixed&=-5}e.interpolateTransform=a8,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(ak(e[n]));return t}},e.layout.chord=function(){var t,n,r,a,i,o,l,s={},c=0;function u(){var s,u,d,p,$,h={},g=[],v=e.range(a),m=[];for(t=[],n=[],s=0,p=-1;++p<a;){for(u=0,$=-1;++$<a;)u+=r[p][$];g.push(u),m.push(e.range(a)),s+=u}for(i&&v.sort(function(e,t){return i(g[e],g[t])}),o&&m.forEach(function(e,t){e.sort(function(e,n){return o(r[t][e],r[t][n])})}),s=(ew-c*a)/s,u=0,p=-1;++p<a;){for(d=u,$=-1;++$<a;){var y=v[p],_=m[y][$],x=r[y][_],b=u,w=u+=x*s;h[y+"-"+_]={index:y,subindex:_,startAngle:b,endAngle:w,value:x}}n[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(p=-1;++p<a;)for($=p-1;++$<a;){var k=h[p+"-"+$],T=h[$+"-"+p];(k.value||T.value)&&t.push(k.value<T.value?{source:T,target:k}:{source:k,target:T})}l&&f()}function f(){t.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return s.matrix=function(e){return arguments.length?(a=(r=e)&&r.length,t=n=null,s):r},s.padding=function(e){return arguments.length?(c=e,t=n=null,s):c},s.sortGroups=function(e){return arguments.length?(i=e,t=n=null,s):i},s.sortSubgroups=function(e){return arguments.length?(o=e,t=null,s):o},s.sortChords=function(e){return arguments.length?(l=e,t&&f(),s):l},s.chords=function(){return t||u(),t},s.groups=function(){return n||u(),n},s},e.layout.force=function(){var t,n,r,a,i,o,l={},s=e.dispatch("start","tick","end"),c=[1,1],u=.9,f=a2,d=aL,p=-30,$=a6,h=.1,g=.64,v=[],m=[];function y(e){return function(t,n,r,a){if(t.point!==e){var i=t.cx-e.x,o=t.cy-e.y,l=a-n,s=i*i+o*o;if(l*l/g<s){if(s<$){var c=t.charge/s;e.px-=i*c,e.py-=o*c}return!0}t.point&&s&&s<$&&(c=t.pointCharge/s,e.px-=i*c,e.py-=o*c)}return!t.charge}}function _(t){t.px=e.event.x,t.py=e.event.y,l.resume()}return l.tick=function(){if((r*=.99)<.005)return t=null,s.end({type:"end",alpha:r=0}),!0;var n,l,f,d,$,g,_,x,b,w=v.length,k=m.length;for(l=0;l<k;++l)d=(f=m[l]).source,(g=(x=($=f.target).x-d.x)*x+(b=$.y-d.y)*b)&&(x*=g=r*i[l]*((g=Math.sqrt(g))-a[l])/g,b*=g,$.x-=x*(_=d.weight+$.weight?d.weight/(d.weight+$.weight):.5),$.y-=b*_,d.x+=x*(_=1-_),d.y+=b*_);if((_=r*h)&&(x=c[0]/2,b=c[1]/2,l=-1,_))for(;++l<w;)(f=v[l]).x+=(x-f.x)*_,f.y+=(b-f.y)*_;if(p)for(function e(t,n,r){var a=0,i=0;if(t.charge=0,!t.leaf)for(var o,l=t.nodes,s=l.length,c=-1;++c<s;)null!=(o=l[c])&&(e(o,n,r),t.charge+=o.charge,a+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=n*r[t.point.index];t.charge+=t.pointCharge=u,a+=u*t.point.x,i+=u*t.point.y}t.cx=a/t.charge,t.cy=i/t.charge}(n=e.geom.quadtree(v),r,o),l=-1;++l<w;)(f=v[l]).fixed||n.visit(y(f));for(l=-1;++l<w;)(f=v[l]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*u,f.y-=(f.py-(f.py=f.y))*u);s.tick({type:"tick",alpha:r})},l.nodes=function(e){return arguments.length?(v=e,l):v},l.links=function(e){return arguments.length?(m=e,l):m},l.size=function(e){return arguments.length?(c=e,l):c},l.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,l):d},l.friction=function(e){return arguments.length?(u=+e,l):u},l.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,l):p},l.chargeDistance=function(e){return arguments.length?($=e*e,l):Math.sqrt($)},l.gravity=function(e){return arguments.length?(h=+e,l):h},l.theta=function(e){return arguments.length?(g=e*e,l):Math.sqrt(g)},l.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,s.end({type:"end",alpha:r=0})):e>0&&(s.start({type:"start",alpha:r=e}),t=tc(l.tick)),l):r},l.start=function(){var e,t,n,r=v.length,s=m.length,u=c[0],$=c[1];for(e=0;e<r;++e)(n=v[e]).index=e,n.weight=0;for(e=0;e<s;++e)"number"==typeof(n=m[e]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)isNaN((n=v[e]).x)&&(n.x=h("x",u)),isNaN(n.y)&&(n.y=h("y",$)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(a=[],"function"==typeof f)for(e=0;e<s;++e)a[e]=+f.call(this,m[e],e);else for(e=0;e<s;++e)a[e]=f;if(i=[],"function"==typeof d)for(e=0;e<s;++e)i[e]=+d.call(this,m[e],e);else for(e=0;e<s;++e)i[e]=d;if(o=[],"function"==typeof p)for(e=0;e<r;++e)o[e]=+p.call(this,v[e],e);else for(e=0;e<r;++e)o[e]=p;function h(n,a){if(!t){for(t=Array(r),c=0;c<r;++c)t[c]=[];for(c=0;c<s;++c){var i=m[c];t[i.source.index].push(i.target),t[i.target.index].push(i.source)}}for(var o,l=t[e],c=-1,u=l.length;++c<u;)if(!isNaN(o=l[c][n]))return o;return Math.random()*a}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(n||(n=e.behavior.drag().origin(O).on("dragstart.force",a1).on("drag.force",_).on("dragend.force",a3)),!arguments.length)return n;this.on("mouseover.force",aA).on("mouseout.force",a4).call(n)},e.rebind(l,s,"on")};var a2=20,aL=1,a6=1/0;function aC(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=aD,t}function aS(e,t){for(var n,r,a=[e];null!=(e=a.pop());)if(t(e),(r=e.children)&&(n=r.length))for(;--n>=0;)a.push(r[n])}function a5(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(e=r.pop());)t(e)}function a7(e){return e.children}function aM(e){return e.value}function aO(e,t){return t.value-e.value}function aD(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}e.layout.hierarchy=function(){var e=aO,t=a7,n=aM;function r(a){var i,o,l,s,c=[a],u=[];for(a.depth=0;null!=(s=c.pop());)if(u.push(s),(o=t.call(r,s,s.depth))&&(i=o.length)){for(;--i>=0;)c.push(l=o[i]),l.parent=s,l.depth=s.depth+1;n&&(s.value=0),s.children=o}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return a5(a,function(t){var r,a;e&&(r=t.children)&&r.sort(e),n&&(a=t.parent)&&(a.value+=t.value)}),u}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(aS(e,function(e){e.children&&(e.value=0)}),a5(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,r){var a=t.call(this,e,r);return function e(t,n,r,a){var i=t.children;if(t.x=n,t.y=t.depth*a,t.dx=r,t.dy=a,i&&(o=i.length)){var o,l,s,c=-1;for(r=t.value?r/t.value:0;++c<o;)e(l=i[c],n,s=l.value*r,a),n+=s}}(a[0],0,n[0],n[1]/function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,i=-1;++i<a;)r=Math.max(r,e(n[i]));return 1+r}(a[0])),a}return r.size=function(e){return arguments.length?(n=e,r):n},aC(r,t)},e.layout.pie=function(){var t=Number,n=aP,r=0,a=ew,i=0;function o(l){var s,c=l.length,u=l.map(function(e,n){return+t.call(o,e,n)}),f=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof a?a.apply(this,arguments):a)-f,p=Math.min(Math.abs(d)/c,+("function"==typeof i?i.apply(this,arguments):i)),$=p*(d<0?-1:1),h=e.sum(u),g=h?(d-c*$)/h:0,v=e.range(c),m=[];return null!=n&&v.sort(n===aP?function(e,t){return u[t]-u[e]}:function(e,t){return n(l[e],l[t])}),v.forEach(function(e){m[e]={data:l[e],value:s=u[e],startAngle:f,endAngle:f+=s*g+$,padAngle:p}}),m}return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(e){return arguments.length?(n=e,o):n},o.startAngle=function(e){return arguments.length?(r=e,o):r},o.endAngle=function(e){return arguments.length?(a=e,o):a},o.padAngle=function(e){return arguments.length?(i=e,o):i},o};var aP={};function az(e){return e.x}function aR(e){return e.y}function aI(e,t,n){e.y0=t,e.y=n}e.layout.stack=function(){var t=O,n=aN,r=aH,a=aI,i=az,o=aR;function l(s,c){if(!(p=s.length))return s;var u=s.map(function(e,n){return t.call(l,e,n)}),f=u.map(function(e){return e.map(function(e,t){return[i.call(l,e,t),o.call(l,e,t)]})}),d=n.call(l,f,c);u=e.permute(u,d),f=e.permute(f,d);var p,$,h,g,v=r.call(l,f,c),m=u[0].length;for(h=0;h<m;++h)for(a.call(l,u[0][h],g=v[h],f[0][h][1]),$=1;$<p;++$)a.call(l,u[$][h],g+=f[$-1][h][1],f[$][h][1]);return s}return l.values=function(e){return arguments.length?(t=e,l):t},l.order=function(e){return arguments.length?(n="function"==typeof e?e:aE.get(e)||aN,l):n},l.offset=function(e){return arguments.length?(r="function"==typeof e?e:aF.get(e)||aH,l):r},l.x=function(e){return arguments.length?(i=e,l):i},l.y=function(e){return arguments.length?(o=e,l):o},l.out=function(e){return arguments.length?(a=e,l):a},l};var aE=e.map({"inside-out":function(t){var n,r,a=t.length,i=t.map(aB),o=t.map(aV),l=e.range(a).sort(function(e,t){return i[e]-i[t]}),s=0,c=0,u=[],f=[];for(n=0;n<a;++n)r=l[n],s<c?(s+=o[r],u.push(r)):(c+=o[r],f.push(r));return f.reverse().concat(u)},reverse:function(t){return e.range(t.length).reverse()},default:aN}),aF=e.map({silhouette:function(e){var t,n,r,a=e.length,i=e[0].length,o=[],l=0,s=[];for(n=0;n<i;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];r>l&&(l=r),o.push(r)}for(n=0;n<i;++n)s[n]=(l-o[n])/2;return s},wiggle:function(e){var t,n,r,a,i,o,l,s,c,u=e.length,f=e[0],d=f.length,p=[];for(p[0]=s=c=0,n=1;n<d;++n){for(t=0,a=0;t<u;++t)a+=e[t][n][1];for(t=0,i=0,l=f[n][0]-f[n-1][0];t<u;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*l);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/l;i+=o*e[t][n][1]}p[n]=s-=a?i/a*l:0,s<c&&(c=s)}for(n=0;n<d;++n)p[n]-=c;return p},expand:function(e){var t,n,r,a=e.length,i=e[0].length,o=1/a,l=[];for(n=0;n<i;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];if(r)for(t=0;t<a;t++)e[t][n][1]/=r;else for(t=0;t<a;t++)e[t][n][1]=o}for(n=0;n<i;++n)l[n]=0;return l},zero:aH});function aN(t){return e.range(t.length)}function aH(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function aB(e){for(var t,n=1,r=0,a=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>a&&(r=n,a=t);return r}function aV(e){return e.reduce(aj,0)}function aj(e,t){return e+t[1]}function aU(e,t){return aq(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function aq(e,t){for(var n=-1,r=+e[0],a=(e[1]-r)/t,i=[];++n<=t;)i[n]=a*n+r;return i}function aG(t){return[e.min(t),e.max(t)]}function aZ(e,t){return e.value-t.value}function aY(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function aX(e,t){e._pack_next=t,t._pack_prev=e}function aW(e,t){var n=t.x-e.x,r=t.y-e.y,a=e.r+t.r;return .999*a*a>n*n+r*r}function aQ(e){if((t=e.children)&&(s=t.length)){var t,n,r,a,i,o,l,s,c=1/0,u=-1/0,f=1/0,d=-1/0;if(t.forEach(a9),(n=t[0]).x=-n.r,n.y=0,y(n),s>1&&((r=t[1]).x=r.r,r.y=0,y(r),s>2))for(aK(n,r,a=t[2]),y(a),aY(n,a),n._pack_prev=a,aY(a,r),r=n._pack_next,i=3;i<s;i++){aK(n,r,a=t[i]);var p=0,$=1,h=1;for(o=r._pack_next;o!==r;o=o._pack_next,$++)if(aW(o,a)){p=1;break}if(1==p)for(l=n._pack_prev;l!==o._pack_prev&&!aW(l,a);l=l._pack_prev,h++);p?($<h||$==h&&r.r<n.r?aX(n,r=o):aX(n=l,r),i--):(aY(n,a),r=a,y(a))}var g=(c+u)/2,v=(f+d)/2,m=0;for(i=0;i<s;i++)(a=t[i]).x-=g,a.y-=v,m=Math.max(m,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=m,t.forEach(aJ)}function y(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}}function a9(e){e._pack_next=e._pack_prev=e}function aJ(e){delete e._pack_next,delete e._pack_prev}function aK(e,t,n){var r=e.r+n.r,a=t.x-e.x,i=t.y-e.y;if(r&&(a||i)){var o=t.r+n.r,l=a*a+i*i,s=.5+((r*=r)-(o*=o))/(2*l),c=Math.sqrt(Math.max(0,2*o*(r+l)-(r-=l)*r-o*o))/(2*l);n.x=e.x+s*a+c*i,n.y=e.y+s*i-c*a}else n.x=e.x+r,n.y=e.y}function ie(e,t){return e.parent==t.parent?1:2}function it(e){var t=e.children;return t.length?t[0]:e.t}function ir(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ia(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ii(e,t,n){return e.a.parent===t.parent?e.a:n}function io(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function il(e,t){var n=e.x+t[3],r=e.y+t[0],a=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return a<0&&(n+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:a,dy:i}}function is(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ic(e){return e.rangeExtent?e.rangeExtent():is(e.range())}function iu(e,t,n,r){var a=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(a(e))}}function id(e,t){var n,r=0,a=e.length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function ip(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:i$}e.layout.histogram=function(){var t=!0,n=Number,r=aG,a=aU;function i(i,o){for(var l,s,c=[],u=i.map(n,this),f=r.call(this,u,o),d=a.call(this,f,u,o),p=(o=-1,u.length),$=d.length-1,h=t?1:1/p;++o<$;)(l=c[o]=[]).dx=d[o+1]-(l.x=d[o]),l.y=0;if($>0)for(o=-1;++o<p;)(s=u[o])>=f[0]&&s<=f[1]&&((l=c[e.bisect(d,s,1,$)-1]).y+=h,l.push(i[o]));return c}return i.value=function(e){return arguments.length?(n=e,i):n},i.range=function(e){return arguments.length?(r=tt(e),i):r},i.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return aq(t,e)}:tt(e),i):a},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(aZ),r=0,a=[1,1];function i(e,i){var o=n.call(this,e,i),l=o[0],s=a[0],c=a[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,a5(l,function(e){e.r=+u(e.value)}),a5(l,aQ),r){var f=r*(t?1:Math.max(2*l.r/s,2*l.r/c))/2;a5(l,function(e){e.r+=f}),a5(l,aQ),a5(l,function(e){e.r-=f})}return function e(t,n,r,a){var i=t.children;if(t.x=n+=a*t.x,t.y=r+=a*t.y,t.r*=a,i)for(var o=-1,l=i.length;++o<l;)e(i[o],n,r,a)}(l,s/2,c/2,t?1:1/Math.max(2*l.r/s,2*l.r/c)),o}return i.size=function(e){return arguments.length?(a=e,i):a},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(e){return arguments.length?(r=+e,i):r},aC(i,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ie,r=[1,1],a=null;function i(e,i){var c=t.call(this,e,i),u=c[0],f=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var a,i=t.children,o=0,l=i.length;o<l;++o)r.push((i[o]=a={_:i[o],parent:t,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return n.children[0]}(u);if(a5(f,o),f.parent.m=-f.z,aS(f,l),a)aS(u,s);else{var d=u,p=u,$=u;aS(u,function(e){e.x<d.x&&(d=e),e.x>p.x&&(p=e),e.depth>$.depth&&($=e)});var h=n(d,p)/2-d.x,g=r[0]/(p.x+n(p,d)/2+h),v=r[1]/($.depth||1);aS(u,function(e){e.x=(e.x+h)*g,e.y=e.depth*v})}return c}function o(e){var t=e.children,r=e.parent.children,a=e.i?r[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,a=e.children,i=a.length;--i>=0;)(t=a[i]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var i=(t[0].z+t[t.length-1].z)/2;a?(e.z=a.z+n(e._,a._),e.m=e.z-i):e.z=i}else a&&(e.z=a.z+n(e._,a._));e.parent.A=function(e,t,r){if(t){for(var a,i=e,o=e,l=t,s=i.parent.children[0],c=i.m,u=o.m,f=l.m,d=s.m;l=ir(l),i=it(i),l&&i;)s=it(s),(o=ir(o)).a=e,(a=l.z+f-i.z-c+n(l._,i._))>0&&(ia(ii(l,e,r),e,a),c+=a,u+=a),f+=l.m,c+=i.m,d+=s.m,u+=o.m;l&&!ir(o)&&(o.t=l,o.m+=f-u),i&&!it(s)&&(s.t=i,s.m+=c-d,r=e)}return r}(e,a,e.parent.A||r[0])}function l(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=r[0],e.y=e.depth*r[1]}return i.separation=function(e){return arguments.length?(n=e,i):n},i.size=function(e){return arguments.length?(a=null==(r=e)?s:null,i):a?null:r},i.nodeSize=function(e){return arguments.length?(a=null==(r=e)?null:s,i):a?r:null},aC(i,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ie,r=[1,1],a=!1;function i(i,o){var l,s=t.call(this,i,o),c=s[0],u=0;a5(c,function(t){var r,a,i=t.children;i&&i.length?(t.x=(r=i).reduce(function(e,t){return e+t.x},0)/r.length,t.y=(a=i,1+e.max(a,function(e){return e.y}))):(t.x=l?u+=n(t,l):0,t.y=0,l=t)});var f=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(c),d=function e(t){var n,r=t.children;return r&&(n=r.length)?e(r[n-1]):t}(c),p=f.x-n(f,d)/2,$=d.x+n(d,f)/2;return a5(c,a?function(e){e.x=(e.x-c.x)*r[0],e.y=(c.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/($-p)*r[0],e.y=(1-(c.y?e.y/c.y:1))*r[1]}),s}return i.separation=function(e){return arguments.length?(n=e,i):n},i.size=function(e){return arguments.length?(a=null==(r=e),i):a?null:r},i.nodeSize=function(e){return arguments.length?(a=null!=(r=e),i):a?r:null},aC(i,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,a=[1,1],i=null,o=io,l=!1,s="squarify",c=.5*(1+Math.sqrt(5));function u(e,t){for(var n,r,a=-1,i=e.length;++a<i;)r=(n=e[a]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,a,i=o(e),l=[],c=t.slice(),d=1/0,h="slice"===s?i.dx:"dice"===s?i.dy:"slice-dice"===s?1&e.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(u(c,i.dx*i.dy/e.value),l.area=0;(a=c.length)>0;)l.push(n=c[a-1]),l.area+=n.area,"squarify"!==s||(r=p(l,h))<=d?(c.pop(),d=r):(l.area-=l.pop().area,$(l,h,i,!1),h=Math.min(i.dx,i.dy),l.length=l.area=0,d=1/0);l.length&&($(l,h,i,!0),l.length=l.area=0),t.forEach(f)}}function d(e){var t=e.children;if(t&&t.length){var n,r=o(e),a=t.slice(),i=[];for(u(a,r.dx*r.dy/e.value),i.area=0;n=a.pop();)i.push(n),i.area+=n.area,null!=n.z&&($(i,n.z?r.dx:r.dy,r,!a.length),i.length=i.area=0);t.forEach(d)}}function p(e,t){for(var n,r=e.area,a=0,i=1/0,o=-1,l=e.length;++o<l;)(n=e[o].area)&&(n<i&&(i=n),n>a&&(a=n));return t*=t,(r*=r)?Math.max(t*a*c/r,r/(t*i*c)):1/0}function $(e,t,n,a){var i,o=-1,l=e.length,s=n.x,c=n.y,u=t?r(e.area/t):0;if(t==n.dx){for((a||u>n.dy)&&(u=n.dy);++o<l;)(i=e[o]).x=s,i.y=c,i.dy=u,s+=i.dx=Math.min(n.x+n.dx-s,u?r(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((a||u>n.dx)&&(u=n.dx);++o<l;)(i=e[o]).x=s,i.y=c,i.dx=u,c+=i.dy=Math.min(n.y+n.dy-c,u?r(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function h(e){var r=t||n(e),i=r[0];return i.x=i.y=0,i.value?(i.dx=a[0],i.dy=a[1]):i.dx=i.dy=0,t&&n.revalue(i),u([i],i.dx*i.dy/i.value),(t?d:f)(i),l&&(t=r),r}return h.size=function(e){return arguments.length?(a=e,h):a},h.padding=function(e){var t;return arguments.length?(o=null==(i=e)?io:"function"==(t=typeof e)?function t(n){var r=e.call(h,n,n.depth);return null==r?io(n):il(n,"number"==typeof r?[r,r,r,r]:r)}:("number"===t&&(e=[e,e,e,e]),function t(n){return il(n,e)}),h):i},h.round=function(e){return arguments.length?(r=e?Math.round:Number,h):r!=Number},h.sticky=function(e){return arguments.length?(l=e,t=null,h):l},h.ratio=function(e){return arguments.length?(c=e,h):c},h.mode=function(e){return arguments.length?(s=e+"",h):s},aC(h,n)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,a;do a=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r;while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var i$={floor:O,ceil:O};function ih(t,n,r,a){var i=[],o=[],l=0,s=Math.min(t.length,n.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++l<=s;)i.push(r(t[l-1],t[l])),o.push(a(n[l-1],n[l]));return function(n){var r=e.bisect(t,n,1,s)-1;return o[r](i[r](n))}}function ig(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function iv(e,t){return id(e,ip(im(e,t)[2])),id(e,ip(im(e,t)[2])),e}function im(e,t){null==t&&(t=10);var n=is(e),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function iy(t,n){return e.range.apply(e,im(t,n))}function i_(t,n,r){var a=im(t,n);if(r){var i,o,l,s=th.exec(r);if(s.shift(),"s"===s[8]){var c=e.formatPrefix(Math.max(_(a[0]),_(a[1])));return s[7]||(s[7]="."+ib(c.scale(a[2]))),s[8]="f",r=e.format(s.join("")),function(e){return r(c.scale(e))+c.symbol}}s[7]||(s[7]="."+(i=s[8],o=a,l=ib(o[2]),i in ix?Math.abs(l-ib(Math.max(_(o[0]),_(o[1]))))+ +("e"!==i):l-2*("%"===i))),r=s.join("")}else r=",."+ib(a[2])+"f";return e.format(r)}e.scale.linear=function(){return function e(t,n,r,a){var i,o;function l(){var e=Math.min(t.length,n.length)>2?ih:iu,l=a?aw:a0;return i=e(t,n,l,r),o=e(n,t,l,ar),s}function s(e){return i(e)}return s.invert=function(e){return o(e)},s.domain=function(e){return arguments.length?(t=e.map(Number),l()):t},s.range=function(e){return arguments.length?(n=e,l()):n},s.rangeRound=function(e){return s.range(e).interpolate(av)},s.clamp=function(e){return arguments.length?(a=e,l()):a},s.interpolate=function(e){return arguments.length?(r=e,l()):r},s.ticks=function(e){return iy(t,e)},s.tickFormat=function(e,n){return i_(t,e,n)},s.nice=function(e){return iv(t,e),l()},s.copy=function(){return e(t,n,r,a)},l()}([0,1],[0,1],ar,!1)};var ix={s:1,g:1,p:1,r:1,e:1};function ib(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}e.scale.log=function(){return function t(n,r,a,i){function o(e){return(a?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(r)}function l(e){return a?Math.pow(r,e):-Math.pow(r,-e)}function s(e){return n(o(e))}return s.invert=function(e){return l(n.invert(e))},s.domain=function(e){return arguments.length?(a=e[0]>=0,n.domain((i=e.map(Number)).map(o)),s):i},s.base=function(e){return arguments.length?(r=+e,n.domain(i.map(o)),s):r},s.nice=function(){var e=id(i.map(o),a?Math:i0);return n.domain(e),i=e.map(l),s},s.ticks=function(){var e=is(i),t=[],n=e[0],s=e[1],c=Math.floor(o(n)),u=Math.ceil(o(s)),f=r%1?2:r;if(isFinite(u-c)){if(a){for(;c<u;c++)for(var d=1;d<f;d++)t.push(l(c)*d);t.push(l(c))}else for(t.push(l(c));c++<u;)for(d=f-1;d>0;d--)t.push(l(c)*d);for(c=0;t[c]<n;c++);for(u=t.length;t[u-1]>s;u--);t=t.slice(c,u)}return t},s.tickFormat=function(t,n){if(!arguments.length)return i8;arguments.length<2?n=i8:"function"!=typeof n&&(n=e.format(n));var a=Math.max(1,r*t/s.ticks().length);return function(e){var t=e/l(Math.round(o(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},s.copy=function(){return t(n.copy(),r,a,i)},ig(s,n)}(e.scale.linear().domain([0,1]),10,!0,[1,10])};var i8=e.format(".0e"),i0={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function iw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}e.scale.pow=function(){return function e(t,n,r){var a=iw(n),i=iw(1/n);function o(e){return t(a(e))}return o.invert=function(e){return i(t.invert(e))},o.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(a)),o):r},o.ticks=function(e){return iy(r,e)},o.tickFormat=function(e,t){return i_(r,e,t)},o.nice=function(e){return o.domain(iv(r,e))},o.exponent=function(e){return arguments.length?(a=iw(n=e),i=iw(1/n),t.domain(r.map(a)),o):n},o.copy=function(){return e(t.copy(),n,r)},ig(o,t)}(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return function t(n,r){var a,i,o;function l(e){return i[((a.get(e)||("range"===r.t?a.set(e,n.push(e)):NaN))-1)%i.length]}function s(t,r){return e.range(n.length).map(function(e){return t+r*e})}return l.domain=function(e){if(!arguments.length)return n;n=[],a=new b;for(var t,i=-1,o=e.length;++i<o;)a.has(t=e[i])||a.set(t,n.push(t));return l[r.t].apply(l,r.a)},l.range=function(e){return arguments.length?(i=e,o=0,r={t:"range",a:arguments},l):i},l.rangePoints=function(e,t){arguments.length<2&&(t=0);var a=e[0],c=e[1],u=n.length<2?(a=(a+c)/2,0):(c-a)/(n.length-1+t);return i=s(a+u*t/2,u),o=0,r={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var a=e[0],c=e[1],u=n.length<2?(a=c=Math.round((a+c)/2),0):(c-a)/(n.length-1+t)|0;return i=s(a+Math.round(u*t/2+(c-a-(n.length-1+t)*u)/2),u),o=0,r={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(e,t,a){arguments.length<2&&(t=0),arguments.length<3&&(a=t);var c=e[1]<e[0],u=e[c-0],f=(e[1-c]-u)/(n.length-t+2*a);return i=s(u+f*a,f),c&&i.reverse(),o=f*(1-t),r={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(e,t,a){arguments.length<2&&(t=0),arguments.length<3&&(a=t);var c=e[1]<e[0],u=e[c-0],f=e[1-c],d=Math.floor((f-u)/(n.length-t+2*a));return i=s(u+Math.round((f-u-(n.length-t)*d)/2),d),c&&i.reverse(),o=Math.round(d*(1-t)),r={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return o},l.rangeExtent=function(){return is(r.a[0])},l.copy=function(){return t(n,r)},l.domain(n)}([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(ik)},e.scale.category20=function(){return e.scale.ordinal().range(iT)},e.scale.category20b=function(){return e.scale.ordinal().range(i1)},e.scale.category20c=function(){return e.scale.ordinal().range(i3)};var ik=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(eZ),iT=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(eZ),i1=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(eZ),i3=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(eZ);function iA(){return 0}e.scale.quantile=function(){return function t(n,r){var a;function i(){var t=0,i=r.length;for(a=[];++t<i;)a[t-1]=e.quantile(n,t/i);return o}function o(t){if(!isNaN(t=+t))return r[e.bisect(a,t)]}return o.domain=function(e){return arguments.length?(n=e.map(h).filter(g).sort($),i()):n},o.range=function(e){return arguments.length?(r=e,i()):r},o.quantiles=function(){return a},o.invertExtent=function(e){return(e=r.indexOf(e))<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return t(n,r)},i()}([],[])},e.scale.quantize=function(){return function e(t,n,r){var a,i;function o(e){return r[Math.max(0,Math.min(i,Math.floor(a*(e-t))))]}function l(){return a=r.length/(n-t),i=r.length-1,o}return o.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],l()):[t,n]},o.range=function(e){return arguments.length?(r=e,l()):r},o.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/a+t,e+1/a]},o.copy=function(){return e(t,n,r)},l()}(0,1,[0,1])},e.scale.threshold=function(){return function t(n,r){function a(t){if(t<=t)return r[e.bisect(n,t)]}return a.domain=function(e){return arguments.length?(n=e,a):n},a.range=function(e){return arguments.length?(r=e,a):r},a.invertExtent=function(e){return[n[(e=r.indexOf(e))-1],n[e]]},a.copy=function(){return t(n,r)},a}([.5],[0,1])},e.scale.identity=function(){return function e(t){function n(e){return+e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(e){return iy(t,e)},n.tickFormat=function(e,n){return i_(t,e,n)},n.copy=function(){return e(t)},n}([0,1])},e.svg={},e.svg.arc=function(){var e=i2,t=iL,n=iA,r=i4,a=i6,i=iC,o=iS;function l(){var l=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),u=a.apply(this,arguments)-eT,f=i.apply(this,arguments)-eT,d=Math.abs(f-u),p=u>f?0:1;if(c<l&&($=c,c=l,l=$),d>=ek)return s(c,p)+(l?s(l,1-p):"")+"Z";var $,h,g,v,m,y,_,x,b,w,k,T,A=0,L=0,C=[];if((v=(+o.apply(this,arguments)||0)/2)&&(g=r===i4?Math.sqrt(l*l+c*c):+r.apply(this,arguments),p||(L*=-1),c&&(L=eL(g/c*Math.sin(v))),l&&(A=eL(g/l*Math.sin(v)))),c){m=c*Math.cos(u+L),y=c*Math.sin(u+L),_=c*Math.cos(f-L),x=c*Math.sin(f-L);var S=Math.abs(f-u-2*L)<=e0?0:1;if(L&&i5(m,y,_,x)===p^S){var M=(u+f)/2;m=c*Math.cos(M),y=c*Math.sin(M),_=x=null}}else m=y=0;if(l){b=l*Math.cos(f-A),w=l*Math.sin(f-A),k=l*Math.cos(u+A),T=l*Math.sin(u+A);var O=Math.abs(u-f+2*A)<=e0?0:1;if(A&&i5(b,w,k,T)===1-p^O){var D=(u+f)/2;b=l*Math.cos(D),w=l*Math.sin(D),k=T=null}}else b=w=0;if(d>1e-6&&($=Math.min(Math.abs(c-l)/2,+n.apply(this,arguments)))>.001){h=l<c^p?0:1;var P=$,z=$;if(d<e0){var R=null==k?[b,w]:null==_?[m,y]:r0([m,y],[k,T],[_,x],[b,w]),I=m-R[0],E=y-R[1],F=_-R[0],N=x-R[1],H=1/Math.sin(Math.acos((I*F+E*N)/(Math.sqrt(I*I+E*E)*Math.sqrt(F*F+N*N)))/2),B=Math.sqrt(R[0]*R[0]+R[1]*R[1]);z=Math.min($,(l-B)/(H-1)),P=Math.min($,(c-B)/(H+1))}if(null!=_){var V=i7(null==k?[b,w]:[k,T],[m,y],c,P,p),j=i7([_,x],[b,w],c,P,p);$===P?C.push("M",V[0],"A",P,",",P," 0 0,",h," ",V[1],"A",c,",",c," 0 ",1-p^i5(V[1][0],V[1][1],j[1][0],j[1][1]),",",p," ",j[1],"A",P,",",P," 0 0,",h," ",j[0]):C.push("M",V[0],"A",P,",",P," 0 1,",h," ",j[0])}else C.push("M",m,",",y);if(null!=k){var U=i7([m,y],[k,T],l,-z,p),q=i7([b,w],null==_?[m,y]:[_,x],l,-z,p);$===z?C.push("L",q[0],"A",z,",",z," 0 0,",h," ",q[1],"A",l,",",l," 0 ",p^i5(q[1][0],q[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",z,",",z," 0 0,",h," ",U[0]):C.push("L",q[0],"A",z,",",z," 0 0,",h," ",U[0])}else C.push("L",b,",",w)}else C.push("M",m,",",y),null!=_&&C.push("A",c,",",c," 0 ",S,",",p," ",_,",",x),C.push("L",b,",",w),null!=k&&C.push("A",l,",",l," 0 ",O,",",1-p," ",k,",",T);return C.push("Z"),C.join("")}function s(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return l.innerRadius=function(t){return arguments.length?(e=tt(t),l):e},l.outerRadius=function(e){return arguments.length?(t=tt(e),l):t},l.cornerRadius=function(e){return arguments.length?(n=tt(e),l):n},l.padRadius=function(e){return arguments.length?(r=e==i4?i4:tt(e),l):r},l.startAngle=function(e){return arguments.length?(a=tt(e),l):a},l.endAngle=function(e){return arguments.length?(i=tt(e),l):i},l.padAngle=function(e){return arguments.length?(o=tt(e),l):o},l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-eT;return[Math.cos(r)*n,Math.sin(r)*n]},l};var i4="auto";function i2(e){return e.innerRadius}function iL(e){return e.outerRadius}function i6(e){return e.startAngle}function iC(e){return e.endAngle}function iS(e){return e&&e.padAngle}function i5(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function i7(e,t,n,r,a){var i=e[0]-t[0],o=e[1]-t[1],l=(a?r:-r)/Math.sqrt(i*i+o*o),s=l*o,c=-l*i,u=e[0]+s,f=e[1]+c,d=t[0]+s,p=t[1]+c,$=(u+d)/2,h=(f+p)/2,g=d-u,v=p-f,m=g*g+v*v,y=n-r,_=u*p-d*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,y*y*m-_*_)),b=(_*v-g*x)/m,w=(-_*g-v*x)/m,k=(_*v+g*x)/m,T=(-_*g+v*x)/m,A=b-$,L=w-h,C=k-$,S=T-h;return A*A+L*L>C*C+S*S&&(b=k,w=T),[[b-s,w-c],[b*n/y,w*n/y]]}function iM(e){var t=rm,n=ry,r=nx,a=iD,i=a.key,o=.7;function l(i){var l,s=[],c=[],u=-1,f=i.length,d=tt(t),p=tt(n);function $(){s.push("M",a(e(c),o))}for(;++u<f;)r.call(this,l=i[u],u)?c.push([+d.call(this,l,u),+p.call(this,l,u)]):c.length&&($(),c=[]);return c.length&&$(),s.length?s.join(""):null}return l.x=function(e){return arguments.length?(t=e,l):t},l.y=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.interpolate=function(e){return arguments.length?(i="function"==typeof e?a=e:(a=iO.get(e)||iD).key,l):i},l.tension=function(e){return arguments.length?(o=e,l):o},l}e.svg.line=function(){return iM(O)};var iO=e.map({linear:iD,"linear-closed":iP,step:function(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")},"step-before":iz,"step-after":iR,basis:iF,"basis-open":function(e){if(e.length<4)return iD(e);for(var t,n=[],r=-1,a=e.length,i=[0],o=[0];++r<3;)t=e[r],i.push(t[0]),o.push(t[1]);for(n.push(iN(iV,i)+","+iN(iV,o)),--r;++r<a;)t=e[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),ij(n,i,o);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,a=e.length,i=a+4,o=[],l=[];++r<4;)n=e[r%a],o.push(n[0]),l.push(n[1]);for(t=[iN(iV,o),",",iN(iV,l)],--r;++r<i;)n=e[r%a],o.shift(),o.push(n[0]),l.shift(),l.push(n[1]),ij(t,o,l);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,a,i=e[0][0],o=e[0][1],l=e[n][0]-i,s=e[n][1]-o,c=-1;++c<=n;)r=e[c],a=c/n,r[0]=t*r[0]+(1-t)*(i+a*l),r[1]=t*r[1]+(1-t)*(o+a*s);return iF(e)},cardinal:function(e,t){return e.length<3?iD(e):e[0]+iI(e,iE(e,t))},"cardinal-open":function(e,t){return e.length<4?iD(e):e[1]+iI(e.slice(1,-1),iE(e,t))},"cardinal-closed":function(e,t){return e.length<3?iP(e):e[0]+iI((e.push(e[0]),e),iE([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?iD(e):e[0]+iI(e,function(e){for(var t,n,r,a,i=[],o=function(e){for(var t=0,n=e.length-1,r=[],a=e[0],i=e[1],o=r[0]=iU(a,i);++t<n;)r[t]=(o+(o=iU(a=i,i=e[t+1])))/2;return r[t]=o,r}(e),l=-1,s=e.length-1;++l<s;)t=iU(e[l],e[l+1]),1e-6>_(t)?o[l]=o[l+1]=0:(a=(n=o[l]/t)*n+(r=o[l+1]/t)*r)>9&&(a=3*t/Math.sqrt(a),o[l]=a*n,o[l+1]=a*r);for(l=-1;++l<=s;)a=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+o[l]*o[l])),i.push([a||0,o[l]*a||0]);return i}(e))}});function iD(e){return e.length>1?e.join("L"):e+"Z"}function iP(e){return e.join("L")+"Z"}function iz(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("V",(r=e[t])[1],"H",r[0]);return a.join("")}function iR(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r=e[t])[0],"V",r[1]);return a.join("")}function iI(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return iD(e);var n=e.length!=t.length,r="",a=e[0],i=e[1],o=t[0],l=o,s=1;if(n&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=e[1],s=2),t.length>1){l=t[1],i=e[s],s++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,s++)i=e[s],l=t[c],r+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}if(n){var u=e[s];r+="Q"+(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+u[0]+","+u[1]}return r}function iE(e,t){for(var n,r=[],a=(1-t)/2,i=e[0],o=e[1],l=1,s=e.length;++l<s;)n=i,i=o,r.push([a*((o=e[l])[0]-n[0]),a*(o[1]-n[1])]);return r}function iF(e){if(e.length<3)return iD(e);var t=1,n=e.length,r=e[0],a=r[0],i=r[1],o=[a,a,a,(r=e[1])[0]],l=[i,i,i,r[1]],s=[a,",",i,"L",iN(iV,o),",",iN(iV,l)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),l.shift(),l.push(r[1]),ij(s,o,l);return e.pop(),s.push("L",r),s.join("")}function iN(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}iO.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var iH=[0,2/3,1/3,0],iB=[0,1/3,2/3,0],iV=[0,1/6,2/3,1/6];function ij(e,t,n){e.push("C",iN(iH,t),",",iN(iH,n),",",iN(iB,t),",",iN(iB,n),",",iN(iV,t),",",iN(iV,n))}function iU(e,t){return(t[1]-e[1])/(t[0]-e[0])}function iq(e){for(var t,n,r,a=-1,i=e.length;++a<i;)n=(t=e[a])[0],r=t[1]-eT,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function iG(e){var t=rm,n=rm,r=0,a=ry,i=nx,o=iD,l=o.key,s=o,c="L",u=.7;function f(l){var f,d,p,$=[],h=[],g=[],v=-1,m=l.length,y=tt(t),_=tt(r),x=t===n?function(){return d}:tt(n),b=r===a?function(){return p}:tt(a);function w(){$.push("M",o(e(g),u),c,s(e(h.reverse()),u),"Z")}for(;++v<m;)i.call(this,f=l[v],v)?(h.push([d=+y.call(this,f,v),p=+_.call(this,f,v)]),g.push([+x.call(this,f,v),+b.call(this,f,v)])):h.length&&(w(),h=[],g=[]);return h.length&&w(),$.length?$.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=a=e,f):a},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(a=e,f):a},f.defined=function(e){return arguments.length?(i=e,f):i},f.interpolate=function(e){return arguments.length?(l="function"==typeof e?o=e:(o=iO.get(e)||iD).key,s=o.reverse||o,c=o.closed?"M":"L",f):l},f.tension=function(e){return arguments.length?(u=e,f):u},f}function iZ(e){return e.radius}function iY(e){return[e.x,e.y]}function iX(){return 64}function iW(){return"circle"}function iQ(e){var t=Math.sqrt(e/e0);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}e.svg.line.radial=function(){var e=iM(iq);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},iz.reverse=iR,iR.reverse=iz,e.svg.area=function(){return iG(O)},e.svg.area.radial=function(){var e=iG(iq);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){var e=ra,t=ri,n=iZ,r=i6,a=iC;function i(n,r){var a,i,s,c,u,f,d,p,$,h,g,v,m,y,_=o(this,e,n,r),x=o(this,t,n,r);return"M"+_.p0+l(_.r,_.p1,_.a1-_.a0)+(i=x,((a=_).a0==i.a0&&a.a1==i.a1?(s=_.r,c=_.p1,u=_.r,f=_.p0,"Q 0,0 "+f):(d=_.r,p=_.p1,$=x.r,h=x.p0,"Q 0,0 "+h+l(x.r,x.p1,x.a1-x.a0)+(g=x.r,v=x.p1,m=_.r,y=_.p0,"Q 0,0 "+y)))+"Z")}function o(e,t,i,o){var l=t.call(e,i,o),s=n.call(e,l,o),c=r.call(e,l,o)-eT,u=a.call(e,l,o)-eT;return{r:s,a0:c,a1:u,p0:[s*Math.cos(c),s*Math.sin(c)],p1:[s*Math.cos(u),s*Math.sin(u)]}}function l(e,t,n){return"A"+e+","+e+" 0 "+ +(n>e0)+",1 "+t}function s(e,t,n,r){return"Q 0,0 "+r}return i.radius=function(e){return arguments.length?(n=tt(e),i):n},i.source=function(t){return arguments.length?(e=tt(t),i):e},i.target=function(e){return arguments.length?(t=tt(e),i):t},i.startAngle=function(e){return arguments.length?(r=tt(e),i):r},i.endAngle=function(e){return arguments.length?(a=tt(e),i):a},i},e.svg.diagonal=function(){var e=ra,t=ri,n=iY;function r(r,a){var i=e.call(this,r,a),o=t.call(this,r,a),l=(i.y+o.y)/2,s=[i,{x:i.x,y:l},{x:o.x,y:l},o];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(t){return arguments.length?(e=tt(t),r):e},r.target=function(e){return arguments.length?(t=tt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=iY,r=t.projection;return t.projection=function(e){var t;return arguments.length?r((t=n=e,function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-eT;return[n*Math.cos(r),n*Math.sin(r)]})):n},t},e.svg.symbol=function(){var e=iW,t=iX;function n(n,r){return(i9.get(e.call(this,n,r))||iQ)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=tt(t),n):e},n.size=function(e){return arguments.length?(t=tt(e),n):t},n};var i9=e.map({circle:iQ,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*iK)),n=t*iK;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/iJ),n=t*iJ/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/iJ),n=t*iJ/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=i9.keys();var iJ=Math.sqrt(3),iK=Math.tan(30*e1);Z.transition=function(e){for(var t,n,r=or||++oo,a=oc(e),i=[],o=oa||{time:Date.now(),ease:ad,delay:0,duration:250},l=-1,s=this.length;++l<s;){i.push(t=[]);for(var c=this[l],u=-1,f=c.length;++u<f;)(n=c[u])&&ou(n,u,a,r,o),t.push(n)}return on(i,a,r)},Z.interrupt=function(e){return this.each(null==e?oe:ot(oc(e)))};var oe=ot(oc());function ot(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function on(e,t,n){return V(e,oi),e.namespace=t,e.id=n,e}var or,oa,oi=[],oo=0;function ol(e,t,n,r){var a=e.id,i=e.namespace;return ef(e,"function"==typeof n?function(e,o,l){e[i][a].tween.set(t,r(n.call(e,e.__data__,o,l)))}:(n=r(n),function(e){e[i][a].tween.set(t,n)}))}function os(e){return null==e&&(e=""),function(){this.textContent=e}}function oc(e){return null==e?"__transition__":"__transition_"+e+"__"}function ou(e,t,n,r,a){var i,o,l,s,c,u=e[n]||(e[n]={active:0,count:0}),f=u[r];function d(n){var a=u.active,d=u[a];for(var $ in d&&(d.timer.c=null,d.timer.t=NaN,--u.count,delete u[a],d.event&&d.event.interrupt.call(e,e.__data__,d.index)),u)if(+$<r){var h=u[$];h.timer.c=null,h.timer.t=NaN,--u.count,delete u[$]}o.c=p,tc(function(){return o.c&&p(n||1)&&(o.c=null,o.t=NaN),1},0,i),u.active=r,f.event&&f.event.start.call(e,e.__data__,t),c=[],f.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&c.push(r)}),s=f.ease,l=f.duration}function p(a){for(var i=a/l,o=s(i),d=c.length;d>0;)c[--d].call(e,o);if(i>=1)return f.event&&f.event.end.call(e,e.__data__,t),--u.count?delete u[r]:delete e[n],1}f||(o=tc(function(e){var t=f.delay;if(o.t=t+i,t<=e)return d(e-t);o.c=d},0,i=a.time),f=u[r]={tween:new b,time:i,timer:o,delay:a.delay,duration:a.duration,ease:a.ease,index:t},a=null,++u.count)}oi.call=Z.call,oi.empty=Z.empty,oi.node=Z.node,oi.size=Z.size,e.transition=function(t,n){return t&&t.transition?or?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=oi,oi.select=function(e){var t,n,r,a=this.id,i=this.namespace,o=[];e=Y(e);for(var l=-1,s=this.length;++l<s;){o.push(t=[]);for(var c=this[l],u=-1,f=c.length;++u<f;)(r=c[u])&&(n=e.call(r,r.__data__,u,l))?("__data__"in r&&(n.__data__=r.__data__),ou(n,u,i,a,r[i][a]),t.push(n)):t.push(null)}return on(o,i,a)},oi.selectAll=function(e){var t,n,r,a,i,o=this.id,l=this.namespace,s=[];e=X(e);for(var c=-1,u=this.length;++c<u;)for(var f=this[c],d=-1,p=f.length;++d<p;)if(r=f[d]){i=r[l][o],n=e.call(r,r.__data__,d,c),s.push(t=[]);for(var $=-1,h=n.length;++$<h;)(a=n[$])&&ou(a,$,l,o,i),t.push(a)}return on(s,l,o)},oi.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=ec(e));for(var a=0,i=this.length;a<i;a++){r.push(t=[]);for(var o,l=0,s=(o=this[a]).length;l<s;l++)(n=o[l])&&e.call(n,n.__data__,l,a)&&t.push(n)}return on(r,this.namespace,this.id)},oi.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):ef(this,null==t?function(t){t[r][n].tween.remove(e)}:function(a){a[r][n].tween.set(e,t)})},oi.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?a8:ar,a=e.ns.qualify(t);function i(){this.removeAttribute(a)}function o(){this.removeAttributeNS(a.space,a.local)}return ol(this,"attr."+t,n,a.local?function e(t){return null==t?o:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}:function e(t){return null==t?i:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=r(n,t),function(t){this.setAttribute(a,e(t))})})})},oi.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(e,t){var a=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return a&&function(e){this.setAttributeNS(r.space,r.local,a(e))}}:function(e,t){var a=n.call(this,e,t,this.getAttribute(r));return a&&function(e){this.setAttribute(r,a(e))}})},oi.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function a(){this.style.removeProperty(e)}return ol(this,"style."+e,t,function t(r){return null==r?a:(r+="",function(){var t,a=o(this).getComputedStyle(this,null).getPropertyValue(e);return a!==r&&(t=ar(a,r),function(r){this.style.setProperty(e,t(r),n)})})})},oi.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function r(a,i){var l=t.call(this,a,i,o(this).getComputedStyle(this,null).getPropertyValue(e));return l&&function(t){this.style.setProperty(e,l(t),n)}})},oi.text=function(e){return ol(this,"text",e,os)},oi.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},oi.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ef(this,function(e){e[r][n].ease=t}))},oi.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:ef(this,"function"==typeof e?function(r,a,i){r[n][t].delay=+e.call(r,r.__data__,a,i)}:(e=+e,function(r){r[n][t].delay=e}))},oi.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:ef(this,"function"==typeof e?function(r,a,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,a,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},oi.each=function(t,n){var r=this.id,a=this.namespace;if(arguments.length<2){var i=oa,o=or;try{or=r,ef(this,function(e,n,i){oa=e[a][r],t.call(e,e.__data__,n,i)})}finally{oa=i,or=o}}else ef(this,function(i){var o=i[a][r];(o.event||(o.event=e.dispatch("start","end","interrupt"))).on(t,n)});return this},oi.transition=function(){for(var e,t,n,r=this.id,a=++oo,i=this.namespace,o=[],l=0,s=this.length;l<s;l++){o.push(e=[]);for(var c,u=0,f=(c=this[l]).length;u<f;u++)(t=c[u])&&ou(t,u,i,a,{time:(n=t[i][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return on(o,i,a)},e.svg.axis=function(){var t,n=e.scale.linear(),a=of,i=6,o=6,l=3,s=[10],c=null;function u(r){r.each(function(){var r,u=e.select(this),f=this.__chart__||n,d=this.__chart__=n.copy(),p=null==c?d.ticks?d.ticks.apply(d,s):d.domain():c,$=null==t?d.tickFormat?d.tickFormat.apply(d,s):O:t,h=u.selectAll(".tick").data(p,d),g=h.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),v=e.transition(h.exit()).style("opacity",1e-6).remove(),m=e.transition(h.order()).style("opacity",1),y=Math.max(i,0)+l,_=ic(d),x=u.selectAll(".domain").data([0]),b=(x.enter().append("path").attr("class","domain"),e.transition(x));g.append("line"),g.append("text");var w,k,T,A,L=g.select("line"),C=m.select("line"),S=h.select("text").text($),M=g.select("text"),D=m.select("text"),P="top"===a||"left"===a?-1:1;if("bottom"===a||"top"===a?(r=op,w="x",T="y",k="x2",A="y2",S.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+_[0]+","+P*o+"V0H"+_[1]+"V"+P*o)):(r=o$,w="y",T="x",k="y2",A="x2",S.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),b.attr("d","M"+P*o+","+_[0]+"H0V"+_[1]+"H"+P*o)),L.attr(A,P*i),M.attr(T,P*y),C.attr(k,0).attr(A,P*i),D.attr(w,0).attr(T,P*y),d.rangeBand){var z=d,R=z.rangeBand()/2;f=d=function(e){return z(e)+R}}else f.rangeBand?f=d:v.call(r,d,f);g.call(r,f,d),m.call(r,d,d)})}return u.scale=function(e){return arguments.length?(n=e,u):n},u.orient=function(e){return arguments.length?(a=e in od?e+"":of,u):a},u.ticks=function(){return arguments.length?(s=r(arguments),u):s},u.tickValues=function(e){return arguments.length?(c=e,u):c},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(e){var t=arguments.length;return t?(i=+e,o=+arguments[t-1],u):i},u.innerTickSize=function(e){return arguments.length?(i=+e,u):i},u.outerTickSize=function(e){return arguments.length?(o=+e,u):o},u.tickPadding=function(e){return arguments.length?(l=+e,u):l},u.tickSubdivide=function(){return arguments.length&&u},u};var of="bottom",od={top:1,right:1,bottom:1,left:1};function op(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function o$(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}e.svg.brush=function(){var t,n,r=H(d,"brushstart","brush","brushend"),a=null,i=null,l=[0,0],s=[0,0],c=!0,u=!0,f=og[0];function d(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(f,O);r.exit().remove(),r.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return oh[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var o,l=e.transition(t),s=e.transition(n);a&&(o=ic(a),s.attr("x",o[0]).attr("width",o[1]-o[0]),$(l)),i&&(o=ic(i),s.attr("y",o[0]).attr("height",o[1]-o[0]),h(l)),p(l)})}function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+l[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"})}function $(e){e.select(".extent").attr("x",l[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function h(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var f,g,v=this,m=e.select(e.event.target),y=r.of(v,arguments),_=e.select(v),x=m.datum(),b=!/^(n|s)$/.test(x)&&a,w=!/^(e|w)$/.test(x)&&i,k=m.classed("extent"),T=e_(v),A=e.mouse(v),L=e.select(o(v)).on("keydown.brush",function t(){32==e.event.keyCode&&(k||(f=null,A[0]-=l[1],A[1]-=s[1],k=2),F())}).on("keyup.brush",function t(){32==e.event.keyCode&&2==k&&(A[0]+=l[1],A[1]+=s[1],k=0,F())});if(e.event.changedTouches?L.on("touchmove.brush",M).on("touchend.brush",D):L.on("mousemove.brush",M).on("mouseup.brush",D),_.interrupt().selectAll("*").interrupt(),k)A[0]=l[0]-A[0],A[1]=s[0]-A[1];else if(x){var C=+/w$/.test(x),S=+/^n/.test(x);g=[l[1-C]-A[0],s[1-S]-A[1]],A[0]=l[C],A[1]=s[S]}else e.event.altKey&&(f=A.slice());function M(){var t=e.mouse(v),n=!1;g&&(t[0]+=g[0],t[1]+=g[1]),k||(e.event.altKey?(f||(f=[(l[0]+l[1])/2,(s[0]+s[1])/2]),A[0]=l[+(t[0]<f[0])],A[1]=s[+(t[1]<f[1])]):f=null),b&&O(t,a,0)&&($(_),n=!0),w&&O(t,i,1)&&(h(_),n=!0),n&&(p(_),y({type:"brush",mode:k?"move":"resize"}))}function O(e,r,a){var i,o,d=ic(r),p=d[0],$=d[1],h=A[a],g=a?s:l,v=g[1]-g[0];if(k&&(p-=h,$-=v+h),i=(a?u:c)?Math.max(p,Math.min($,e[a])):e[a],k?o=(i+=h)+v:(f&&(h=Math.max(p,Math.min($,2*f[a]-i))),h<i?(o=i,i=h):o=h),g[0]!=i||g[1]!=o)return a?n=null:t=null,g[0]=i,g[1]=o,!0}function D(){M(),_.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),e.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),y({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",m.style("cursor")),y({type:"brushstart"}),M()}return d.event=function(a){a.each(function(){var a=r.of(this,arguments),i={x:l,y:s,i:t,j:n},o=this.__chart__||i;this.__chart__=i,or?e.select(this).transition().each("start.brush",function(){t=o.i,n=o.j,l=o.x,s=o.y,a({type:"brushstart"})}).tween("brush:brush",function(){var e=aa(l,i.x),r=aa(s,i.y);return t=n=null,function(t){l=i.x=e(t),s=i.y=r(t),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,n=i.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},d.x=function(e){return arguments.length?(f=og[!(a=e)<<1|!i],d):a},d.y=function(e){return arguments.length?(f=og[!a<<1|!(i=e)],d):i},d.clamp=function(e){return arguments.length?(a&&i?(c=!!e[0],u=!!e[1]):a?c=!!e:i&&(u=!!e),d):a&&i?[c,u]:a?c:i?u:null},d.extent=function(e){var r,o,c,u,f;return arguments.length?(a&&(r=e[0],o=e[1],i&&(r=r[0],o=o[0]),t=[r,o],a.invert&&(r=a(r),o=a(o)),o<r&&(f=r,r=o,o=f),r==l[0]&&o==l[1]||(l=[r,o])),i&&(c=e[0],u=e[1],a&&(c=c[1],u=u[1]),n=[c,u],i.invert&&(c=i(c),u=i(u)),u<c&&(f=c,c=u,u=f),c==s[0]&&u==s[1]||(s=[c,u])),d):(a&&(t?(r=t[0],o=t[1]):(r=l[0],o=l[1],a.invert&&(r=a.invert(r),o=a.invert(o)),o<r&&(f=r,r=o,o=f))),i&&(n?(c=n[0],u=n[1]):(c=s[0],u=s[1],i.invert&&(c=i.invert(c),u=i.invert(u)),u<c&&(f=c,c=u,u=f))),a&&i?[[r,c],[o,u]]:a?[r,o]:i&&[c,u])},d.clear=function(){return d.empty()||(l=[0,0],s=[0,0],t=n=null),d},d.empty=function(){return!!a&&l[0]==l[1]||!!i&&s[0]==s[1]},e.rebind(d,r,"on")};var oh={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},og=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ov=tm.format=tE.timeFormat,om=ov.utc,oy=om("%Y-%m-%dT%H:%M:%S.%LZ");function o_(e){return e.toISOString()}function ox(t,n,r){function a(e){return t(e)}function i(t,r){var a=(t[1]-t[0])/r,i=e.bisect(o8,a);return i==o8.length?[n.year,im(t.map(function(e){return e/31536e6}),r)[2]]:i?n[a/o8[i-1]<o8[i]/a?i-1:i]:[ok,im(t,r)[2]]}return a.invert=function(e){return ob(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain().map(ob)},a.nice=function(e,t){var n=a.domain(),r=is(n),o=null==e?i(r,10):"number"==typeof e&&i(r,e);function l(n){return!isNaN(n)&&!e.range(n,ob(+n+1),t).length}return o&&(e=o[0],t=o[1]),a.domain(id(n,t>1?{floor:function(t){for(;l(t=e.floor(t));)t=ob(t-1);return t},ceil:function(t){for(;l(t=e.ceil(t));)t=ob(+t+1);return t}}:e))},a.ticks=function(e,t){var n=is(a.domain()),r=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],ob(+n[1]+1),t<1?1:t)},a.tickFormat=function(){return r},a.copy=function(){return ox(t.copy(),n,r)},ig(a,t)}function ob(e){return new Date(e)}ov.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?o_:oy,o_.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},o_.toString=oy.toString,tm.second=tb(function(e){return new ty(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),tm.seconds=tm.second.range,tm.seconds.utc=tm.second.utc.range,tm.minute=tb(function(e){return new ty(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),tm.minutes=tm.minute.range,tm.minutes.utc=tm.minute.utc.range,tm.hour=tb(function(e){var t=e.getTimezoneOffset()/60;return new ty(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),tm.hours=tm.hour.range,tm.hours.utc=tm.hour.utc.range,tm.month=tb(function(e){return(e=tm.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),tm.months=tm.month.range,tm.months.utc=tm.month.utc.range;var o8=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],o0=[[tm.second,1],[tm.second,5],[tm.second,15],[tm.second,30],[tm.minute,1],[tm.minute,5],[tm.minute,15],[tm.minute,30],[tm.hour,1],[tm.hour,3],[tm.hour,6],[tm.hour,12],[tm.day,1],[tm.day,2],[tm.week,1],[tm.month,1],[tm.month,3],[tm.year,1]],ow=ov.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",nx]]),ok={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(ob)},floor:O,ceil:O};o0.year=tm.year,tm.scale=function(){return ox(e.scale.linear(),o0,ow)};var oT=o0.map(function(e){return[e[0].utc,e[1]]}),o1=om.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",nx]]);function o3(e){return JSON.parse(e.responseText)}function oA(e){var t=a.createRange();return t.selectNode(a.body),t.createContextualFragment(e.responseText)}oT.year=tm.year.utc,tm.scale.utc=function(){return ox(e.scale.linear(),oT,o1)},e.text=tn(function(e){return e.responseText}),e.json=function(e,t){return tr(e,"application/json",o3,t)},e.html=function(e,t){return tr(e,"text/html",oA,t)},e.xml=tn(function(e){return e.responseXML}),"object"==typeof t&&t.exports?t.exports=e:this.d3=e}()},{}],10:[function(e,t,n){(function(r,a){(function(){var i,o;i=this,o=function(){"use strict";function t(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,l=void 0,s=function(e,t){h[i]=e,h[i+1]=t,2===(i+=2)&&(l?l(g):x())},c="undefined"!=typeof window?window:void 0,u=c||{},f=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==r&&"[object process]"===({}).toString.call(r),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function $(){var e=setTimeout;return function(){return e(g,1)}}var h=Array(1e3);function g(){for(var e=0;e<i;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;i=0}var v,m,y,_,x=void 0;function b(e,t){var n=this,r=new this.constructor(T);void 0===r[k]&&R(r);var a=n._state;if(a){var i=arguments[a-1];s(function(){return P(a,r,i,n._result)})}else O(n,r,e,t);return r}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return L(t,e),t}d?x=function(){return r.nextTick(g)}:f?(m=0,y=new f(g),_=document.createTextNode(""),y.observe(_,{characterData:!0}),x=function(){_.data=m=++m%2}):p?((v=new MessageChannel).port1.onmessage=g,x=function(){return v.port2.postMessage(0)}):x=void 0===c&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(g)}:$()}catch(t){return $()}}():$();var k=Math.random().toString(36).substring(2);function T(){}function A(e,n,r){var a,i,o,l,c;n.constructor===e.constructor&&r===b&&n.constructor.resolve===w?(a=e,1===(i=n)._state?S(a,i._result):2===i._state?M(a,i._result):O(i,void 0,function(e){return L(a,e)},function(e){return M(a,e)})):void 0===r?S(e,n):t(r)?(o=e,l=n,c=r,s(function(e){var t=!1,n=function(e,t,n,r){try{e.call(t,n,r)}catch(a){return a}}(c,l,function(n){t||(t=!0,l!==n?L(e,n):S(e,n))},function(n){t||(t=!0,M(e,n))},e._label);!t&&n&&(t=!0,M(e,n))},o)):S(e,n)}function L(e,t){if(e===t)M(e,TypeError("You cannot resolve a promise with itself"));else if(r=typeof(n=t),null===n||"object"!==r&&"function"!==r)S(e,t);else{var n,r,a=void 0;try{a=t.then}catch(i){return void M(e,i)}A(e,t,a)}}function C(e){e._onerror&&e._onerror(e._result),D(e)}function S(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(D,e))}function M(e,t){void 0===e._state&&(e._state=2,e._result=t,s(C,e))}function O(e,t,n,r){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+1]=n,a[i+2]=r,0===i&&e._state&&s(D,e)}function D(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)r=t[o],a=t[o+n],r?P(n,r,a,i):a(i);e._subscribers.length=0}}function P(e,n,r,a){var i=t(r),o=void 0,l=void 0,s=!0;if(i){try{o=r(a)}catch(c){s=!1,l=c}if(n===o)return void M(n,TypeError("A promises callback cannot return that same promise."))}else o=a;void 0!==n._state||(i&&s?L(n,o):!1===s?M(n,l):1===e?S(n,o):2===e&&M(n,o))}var z=0;function R(e){e[k]=z++,e._state=void 0,e._result=void 0,e._subscribers=[]}var I=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[k]||R(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&S(this.promise,this._result))):M(this.promise,Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===w){var a=void 0,i=void 0,o=!1;try{a=e.then}catch(l){o=!0,i=l}if(a===b&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===E){var s=new n(T);o?M(s,i):A(s,e,a),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?M(r,n):this._result[t]=n),0===this._remaining&&S(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){return n._settledAt(1,t,e)},function(e){return n._settledAt(2,t,e)})},e}(),E=function(){function e(t){this[k]=z++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){L(e,t)},function(t){M(e,t)})}catch(n){M(e,n)}}(this,t):function(){throw TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return E.prototype.then=b,E.all=function(e){return new I(this,e).promise},E.race=function(e){var t=this;return new t(n(e)?function(n,r){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(TypeError("You must pass an array to race."))})},E.resolve=w,E.reject=function(e){var t=new this(T);return M(t,e),t},E._setScheduler=function(e){l=e},E._setAsap=function(e){s=e},E._asap=s,E.polyfill=function(){var e=void 0;if(void 0!==a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(i){}if("[object Promise]"===r&&!n.cast)return}e.Promise=E},E.Promise=E,E},"object"==typeof n&&void 0!==t?t.exports=o():i.ES6Promise=o()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:57}],11:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0==(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":46}],12:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],l=t[5],s=t[6],c=t[7],u=t[8],f=t[9],d=t[10],p=t[11],$=t[12],h=t[13],g=t[14],v=t[15];return e[0]=l*(d*v-p*g)-f*(s*v-c*g)+h*(s*p-c*d),e[1]=-(r*(d*v-p*g)-f*(a*v-i*g)+h*(a*p-i*d)),e[2]=r*(s*v-c*g)-l*(a*v-i*g)+h*(a*c-i*s),e[3]=-(r*(s*p-c*d)-l*(a*p-i*d)+f*(a*c-i*s)),e[4]=-(o*(d*v-p*g)-u*(s*v-c*g)+$*(s*p-c*d)),e[5]=n*(d*v-p*g)-u*(a*v-i*g)+$*(a*p-i*d),e[6]=-(n*(s*v-c*g)-o*(a*v-i*g)+$*(a*c-i*s)),e[7]=n*(s*p-c*d)-o*(a*p-i*d)+u*(a*c-i*s),e[8]=o*(f*v-p*h)-u*(l*v-c*h)+$*(l*p-c*f),e[9]=-(n*(f*v-p*h)-u*(r*v-i*h)+$*(r*p-i*f)),e[10]=n*(l*v-c*h)-o*(r*v-i*h)+$*(r*c-i*l),e[11]=-(n*(l*p-c*f)-o*(r*p-i*f)+u*(r*c-i*l)),e[12]=-(o*(f*g-d*h)-u*(l*g-s*h)+$*(l*d-s*f)),e[13]=n*(f*g-d*h)-u*(r*g-a*h)+$*(r*d-a*f),e[14]=-(n*(l*g-s*h)-o*(r*g-a*h)+$*(r*s-a*l)),e[15]=n*(l*d-s*f)-o*(r*d-a*f)+u*(r*s-a*l),e}},{}],13:[function(e,t,n){t.exports=function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],14:[function(e,t,n){t.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],15:[function(e,t,n){t.exports=function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],16:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],l=e[6],s=e[7],c=e[8],u=e[9],f=e[10],d=e[11],p=e[12],$=e[13],h=e[14],g=e[15];return(t*o-n*i)*(f*g-d*h)-(t*l-r*i)*(u*g-d*$)+(t*s-a*i)*(u*h-f*$)+(n*l-r*o)*(c*g-d*p)-(n*s-a*o)*(c*h-f*p)+(r*s-a*l)*(c*$-u*p)}},{}],17:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,l=r+r,s=a+a,c=n*o,u=r*o,f=r*l,d=a*o,p=a*l,$=a*s,h=i*o,g=i*l,v=i*s;return e[0]=1-f-$,e[1]=u+v,e[2]=d-g,e[3]=0,e[4]=u-v,e[5]=1-c-$,e[6]=p+h,e[7]=0,e[8]=d+g,e[9]=p-h,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],18:[function(e,t,n){t.exports=function(e,t,n){var r,a,i,o=n[0],l=n[1],s=n[2],c=Math.sqrt(o*o+l*l+s*s);return 1e-6>Math.abs(c)?null:(o*=c=1/c,l*=c,s*=c,r=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=l*o*i+s*r,e[2]=s*o*i-l*r,e[3]=0,e[4]=o*l*i-s*r,e[5]=l*l*i+a,e[6]=s*l*i+o*r,e[7]=0,e[8]=o*s*i+l*r,e[9]=l*s*i-o*r,e[10]=s*s*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},{}],19:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],l=r+r,s=a+a,c=i+i,u=r*l,f=r*s,d=r*c,p=a*s,$=a*c,h=i*c,g=o*l,v=o*s,m=o*c;return e[0]=1-(p+h),e[1]=f+m,e[2]=d-v,e[3]=0,e[4]=f-m,e[5]=1-(u+h),e[6]=$+g,e[7]=0,e[8]=d+v,e[9]=$-g,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},{}],20:[function(e,t,n){t.exports=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],21:[function(e,t,n){t.exports=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}},{}],22:[function(e,t,n){t.exports=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],23:[function(e,t,n){t.exports=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],24:[function(e,t,n){t.exports=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],25:[function(e,t,n){t.exports=function(e,t,n,r,a,i,o){var l=1/(n-t),s=1/(a-r),c=1/(i-o);return e[0]=2*i*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*s,e[6]=0,e[7]=0,e[8]=(n+t)*l,e[9]=(a+r)*s,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}},{}],26:[function(e,t,n){t.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],27:[function(e,t,n){t.exports={create:e("./create"),clone:e("./clone"),copy:e("./copy"),identity:e("./identity"),transpose:e("./transpose"),invert:e("./invert"),adjoint:e("./adjoint"),determinant:e("./determinant"),multiply:e("./multiply"),translate:e("./translate"),scale:e("./scale"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),fromRotation:e("./fromRotation"),fromRotationTranslation:e("./fromRotationTranslation"),fromScaling:e("./fromScaling"),fromTranslation:e("./fromTranslation"),fromXRotation:e("./fromXRotation"),fromYRotation:e("./fromYRotation"),fromZRotation:e("./fromZRotation"),fromQuat:e("./fromQuat"),frustum:e("./frustum"),perspective:e("./perspective"),perspectiveFromFieldOfView:e("./perspectiveFromFieldOfView"),ortho:e("./ortho"),lookAt:e("./lookAt"),str:e("./str")}},{"./adjoint":12,"./clone":13,"./copy":14,"./create":15,"./determinant":16,"./fromQuat":17,"./fromRotation":18,"./fromRotationTranslation":19,"./fromScaling":20,"./fromTranslation":21,"./fromXRotation":22,"./fromYRotation":23,"./fromZRotation":24,"./frustum":25,"./identity":26,"./invert":28,"./lookAt":29,"./multiply":30,"./ortho":31,"./perspective":32,"./perspectiveFromFieldOfView":33,"./rotate":34,"./rotateX":35,"./rotateY":36,"./rotateZ":37,"./scale":38,"./str":39,"./translate":40,"./transpose":41}],28:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],l=t[5],s=t[6],c=t[7],u=t[8],f=t[9],d=t[10],p=t[11],$=t[12],h=t[13],g=t[14],v=t[15],m=n*l-r*o,y=n*s-a*o,_=n*c-i*o,x=r*s-a*l,b=r*c-i*l,w=a*c-i*s,k=u*h-f*$,T=u*g-d*$,A=u*v-p*$,L=f*g-d*h,C=f*v-p*h,S=d*v-p*g,M=m*S-y*C+_*L+x*A-b*T+w*k;return M?(M=1/M,e[0]=(l*S-s*C+c*L)*M,e[1]=(a*C-r*S-i*L)*M,e[2]=(h*w-g*b+v*x)*M,e[3]=(d*b-f*w-p*x)*M,e[4]=(s*A-o*S-c*T)*M,e[5]=(n*S-a*A+i*T)*M,e[6]=(g*_-$*w-v*y)*M,e[7]=(u*w-d*_+p*y)*M,e[8]=(o*C-l*A+c*k)*M,e[9]=(r*A-n*C-i*k)*M,e[10]=($*b-h*_+v*m)*M,e[11]=(f*_-u*b-p*m)*M,e[12]=(l*T-o*L-s*k)*M,e[13]=(n*L-r*T+a*k)*M,e[14]=(h*y-$*x-g*m)*M,e[15]=(u*x-f*y+d*m)*M,e):null}},{}],29:[function(e,t,n){var r=e("./identity");t.exports=function(e,t,n,a){var i,o,l,s,c,u,f,d,p,$,h=t[0],g=t[1],v=t[2],m=a[0],y=a[1],_=a[2],x=n[0],b=n[1],w=n[2];return 1e-6>Math.abs(h-x)&&1e-6>Math.abs(g-b)&&1e-6>Math.abs(v-w)?r(e):(f=h-x,$=1/Math.sqrt(f*f+(d=g-b)*d+(p=v-w)*p),i=y*(p*=$)-_*(d*=$),($=Math.sqrt(i*i+(o=_*(f*=$)-m*p)*o+(l=m*d-y*f)*l))?(i*=$=1/$,o*=$,l*=$):(i=0,o=0,l=0),s=d*l-p*o,($=Math.sqrt(s*s+(c=p*i-f*l)*c+(u=f*o-d*i)*u))?(s*=$=1/$,c*=$,u*=$):(s=0,c=0,u=0),e[0]=i,e[1]=s,e[2]=f,e[3]=0,e[4]=o,e[5]=c,e[6]=d,e[7]=0,e[8]=l,e[9]=u,e[10]=p,e[11]=0,e[12]=-(i*h+o*g+l*v),e[13]=-(s*h+c*g+u*v),e[14]=-(f*h+d*g+p*v),e[15]=1,e)}},{"./identity":26}],30:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],l=t[4],s=t[5],c=t[6],u=t[7],f=t[8],d=t[9],p=t[10],$=t[11],h=t[12],g=t[13],v=t[14],m=t[15],y=n[0],_=n[1],x=n[2],b=n[3];return e[0]=y*r+_*l+x*f+b*h,e[1]=y*a+_*s+x*d+b*g,e[2]=y*i+_*c+x*p+b*v,e[3]=y*o+_*u+x*$+b*m,y=n[4],_=n[5],x=n[6],b=n[7],e[4]=y*r+_*l+x*f+b*h,e[5]=y*a+_*s+x*d+b*g,e[6]=y*i+_*c+x*p+b*v,e[7]=y*o+_*u+x*$+b*m,y=n[8],_=n[9],x=n[10],b=n[11],e[8]=y*r+_*l+x*f+b*h,e[9]=y*a+_*s+x*d+b*g,e[10]=y*i+_*c+x*p+b*v,e[11]=y*o+_*u+x*$+b*m,y=n[12],_=n[13],x=n[14],b=n[15],e[12]=y*r+_*l+x*f+b*h,e[13]=y*a+_*s+x*d+b*g,e[14]=y*i+_*c+x*p+b*v,e[15]=y*o+_*u+x*$+b*m,e}},{}],31:[function(e,t,n){t.exports=function(e,t,n,r,a,i,o){var l=1/(t-n),s=1/(r-a),c=1/(i-o);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*l,e[13]=(a+r)*s,e[14]=(o+i)*c,e[15]=1,e}},{}],32:[function(e,t,n){t.exports=function(e,t,n,r,a){var i=1/Math.tan(t/2),o=1/(r-a);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*r*o,e[15]=0,e}},{}],33:[function(e,t,n){t.exports=function(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),s=2/(o+l),c=2/(a+i);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-l)*s*.5,e[9]=(a-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}},{}],34:[function(e,t,n){t.exports=function(e,t,n,r){var a,i,o,l,s,c,u,f,d,p,$,h,g,v,m,y,_,x,b,w,k,T,A,L,C=r[0],S=r[1],M=r[2],O=Math.sqrt(C*C+S*S+M*M);return 1e-6>Math.abs(O)?null:(C*=O=1/O,S*=O,M*=O,a=Math.sin(n),o=1-(i=Math.cos(n)),l=t[0],s=t[1],c=t[2],u=t[3],f=t[4],d=t[5],p=t[6],$=t[7],h=t[8],g=t[9],v=t[10],m=t[11],y=C*C*o+i,_=S*C*o+M*a,x=M*C*o-S*a,b=C*S*o-M*a,w=S*S*o+i,k=M*S*o+C*a,T=C*M*o+S*a,A=S*M*o-C*a,L=M*M*o+i,e[0]=l*y+f*_+h*x,e[1]=s*y+d*_+g*x,e[2]=c*y+p*_+v*x,e[3]=u*y+$*_+m*x,e[4]=l*b+f*w+h*k,e[5]=s*b+d*w+g*k,e[6]=c*b+p*w+v*k,e[7]=u*b+$*w+m*k,e[8]=l*T+f*A+h*L,e[9]=s*T+d*A+g*L,e[10]=c*T+p*A+v*L,e[11]=u*T+$*A+m*L,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}},{}],35:[function(e,t,n){t.exports=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],l=t[6],s=t[7],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+u*r,e[6]=l*a+f*r,e[7]=s*a+d*r,e[8]=c*a-i*r,e[9]=u*a-o*r,e[10]=f*a-l*r,e[11]=d*a-s*r,e}},{}],36:[function(e,t,n){t.exports=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],l=t[2],s=t[3],c=t[8],u=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*r,e[1]=o*a-u*r,e[2]=l*a-f*r,e[3]=s*a-d*r,e[8]=i*r+c*a,e[9]=o*r+u*a,e[10]=l*r+f*a,e[11]=s*r+d*a,e}},{}],37:[function(e,t,n){t.exports=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],l=t[2],s=t[3],c=t[4],u=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+u*r,e[2]=l*a+f*r,e[3]=s*a+d*r,e[4]=c*a-i*r,e[5]=u*a-o*r,e[6]=f*a-l*r,e[7]=d*a-s*r,e}},{}],38:[function(e,t,n){t.exports=function(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],39:[function(e,t,n){t.exports=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},{}],40:[function(e,t,n){t.exports=function(e,t,n){var r,a,i,o,l,s,c,u,f,d,p,$,h=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*h+t[4]*g+t[8]*v+t[12],e[13]=t[1]*h+t[5]*g+t[9]*v+t[13],e[14]=t[2]*h+t[6]*g+t[10]*v+t[14],e[15]=t[3]*h+t[7]*g+t[11]*v+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],l=t[4],s=t[5],c=t[6],u=t[7],f=t[8],d=t[9],p=t[10],$=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=l,e[5]=s,e[6]=c,e[7]=u,e[8]=f,e[9]=d,e[10]=p,e[11]=$,e[12]=r*h+l*g+f*v+t[12],e[13]=a*h+s*g+d*v+t[13],e[14]=i*h+c*g+p*v+t[14],e[15]=o*h+u*g+$*v+t[15]),e}},{}],41:[function(e,t,n){t.exports=function(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},{}],42:[function(e,t,n){(function(n){(function(){"use strict";var r,a=e("is-browser");r="function"==typeof n.matchMedia?!n.matchMedia("(hover: none)").matches:a,t.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":44}],43:[function(e,t,n){"use strict";var r=e("is-browser");t.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){e=!1}return e}()},{"is-browser":44}],44:[function(e,t,n){t.exports=!0},{}],45:[function(e,t,n){"use strict";t.exports=i,t.exports.isMobile=i,t.exports.default=i;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function i(e){e||(e={});var t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;var n=e.tablet?a.test(t):r.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}},{}],46:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],47:[function(e,t,n){var r={left:0,top:0};t.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var a,i=e.clientX||0,o=e.clientY||0,l=(a=t)===window||a===document||a===document.body?r:a.getBoundingClientRect();return n[0]=i-l.left,n[1]=o-l.top,n}},{}],48:[function(e,t,n){t.exports=function(e){var t=[];return e.replace(a,function(e,n,a){var o,l,s=n.toLowerCase();for(a=(l=(o=a).match(i))?l.map(Number):[],"m"==s&&a.length>2&&(t.push([n].concat(a.splice(0,2))),s="l",n="m"==n?"l":"L");;){if(a.length==r[s])return a.unshift(n),t.push(a);if(a.length<r[s])throw Error("malformed path data");t.push([n].concat(a.splice(0,r[s])))}}),t};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],49:[function(e,t,n){/*
	 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	 * @license MIT
	 * @preserve Project Home: https://github.com/voidqk/polybooljs
	 */ var r,a=e("./lib/build-log"),i=e("./lib/epsilon"),o=e("./lib/intersecter"),l=e("./lib/segment-chainer"),s=e("./lib/segment-selector"),c=e("./lib/geojson"),u=!1,f=i();function d(e,t,n){var a=r.segments(e),i=r.segments(t),o=n(r.combine(a,i));return r.polygon(o)}r={buildLog:function(e){return!0===e?u=a():!1===e&&(u=!1),!1!==u&&u.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=o(!0,f,u);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,f,u).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,u),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,u),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,u),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,u),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,u),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,f,u),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(r,e)},polygonToGeoJSON:function(e){return c.fromPolygon(r,f,e)},union:function(e,t){return d(e,t,r.selectUnion)},intersect:function(e,t){return d(e,t,r.selectIntersect)},difference:function(e,t){return d(e,t,r.selectDifference)},differenceRev:function(e,t){return d(e,t,r.selectDifferenceRev)},xor:function(e,t){return d(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":50,"./lib/epsilon":51,"./lib/geojson":52,"./lib/intersecter":53,"./lib/segment-chainer":55,"./lib/segment-selector":56}],50:[function(e,t,n){t.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},{}],51:[function(e,t,n){t.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var a=n[0],i=n[1],o=r[0],l=r[1],s=t[0];return(o-a)*(t[1]-i)-(l-i)*(s-a)>=-e},pointBetween:function(t,n,r){var a=t[1]-n[1],i=r[0]-n[0],o=t[0]-n[0],l=r[1]-n[1],s=o*i+a*l;return!(s<e)&&!(s-(i*i+l*l)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var a=t[0]-n[0],i=t[1]-n[1],o=n[0]-r[0];return Math.abs(a*(n[1]-r[1])-o*i)<e},linesIntersect:function(t,n,r,a){var i=n[0]-t[0],o=n[1]-t[1],l=a[0]-r[0],s=a[1]-r[1],c=i*s-o*l;if(Math.abs(c)<e)return!1;var u=t[0]-r[0],f=t[1]-r[1],d=(l*f-s*u)/c,p=(i*f-o*u)/c,$={alongA:0,alongB:0,pt:[t[0]+d*i,t[1]+d*o]};return $.alongA=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,$.alongB=p<=-e?-2:p<e?-1:p-1<=-e?0:p-1<e?1:2,$},pointInsideRegion:function(t,n){for(var r=t[0],a=t[1],i=n[n.length-1][0],o=n[n.length-1][1],l=!1,s=0;s<n.length;s++){var c=n[s][0],u=n[s][1];u-a>e!=o-a>e&&(i-c)*(a-u)/(o-u)+c-r>e&&(l=!l),i=c,o=u}return l}};return t}},{}],52:[function(e,t,n){t.exports={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),a=1;a<t.length;a++)r=e.selectDifference(e.combine(r,n(t[a])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)r=e.selectUnion(e.combine(r,n(t.coordinates[a])));return e.polygon(r)}throw Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function a(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var i=a(null);function o(e,t){for(var n,i=0;i<e.children.length;i++)if(r(t,(n=e.children[i]).region))return void o(n,t);var l=a(t);for(i=0;i<e.children.length;i++)r((n=e.children[i]).region,t)&&(l.children.push(n),e.children.splice(i,1),i--);e.children.push(l)}for(var l=0;l<n.regions.length;l++){var s=n.regions[l];s.length<3||o(i,s)}function c(e,t){for(var n=0,r=e[e.length-1][0],a=e[e.length-1][1],i=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];i.push([l,s]),n+=s*r-l*a,r=l,a=s}return n<0!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var u=[];function f(e){var t=[c(e.region,!1)];u.push(t);for(var n=0;n<e.children.length;n++)t.push(d(e.children[n]))}function d(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return c(e.region,!0)}for(l=0;l<i.children.length;l++)f(i.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}}},{}],53:[function(e,t,n){var r=e("./linked-list");t.exports=function(e,t,n){function a(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var i=r.create();function o(e,n){i.insertBefore(e,function(r){var a,i,o,l,s,c,u;return 0>(a=e.isStart,i=e.pt,o=n,l=r.isStart,s=r.pt,c=r.other.pt,0!==(u=t.pointsCompare(i,s))?u:t.pointsSame(o,c)?0:a!==l?a?1:-1:t.pointAboveOrOnLine(o,l?s:c,l?c:s)?1:-1)})}function l(e,t){var n,a,i,l,s,c,u,f=(n=e,a=t,i=r.node({isStart:!0,pt:n.start,seg:n,primary:a,other:null,status:null}),o(i,n.end),i);return l=f,s=e,c=t,u=r.node({isStart:!1,pt:s.end,seg:s,primary:c,other:l,status:null}),l.other=u,o(u,l.pt),f}function s(e,t){var r,i,s=a(t,e.seg.end,e.seg);return r=e,i=t,n&&n.segmentChop(r.seg,i),r.other.remove(),r.seg.end=i,r.other.pt=i,o(r.other,r.pt),l(s,e.primary)}function c(a,o){var l=r.create();function c(e){return l.findTransition(function(n){var r,a,i,o,l,s;return r=e,a=n.ev,i=r.seg.start,o=r.seg.end,l=a.seg.start,s=a.seg.end,(t.pointsCollinear(i,l,s)?t.pointsCollinear(o,l,s)||t.pointAboveOrOnLine(o,l,s)?1:-1:t.pointAboveOrOnLine(i,l,s)?1:-1)>0})}function u(e,r){var a=e.seg,i=r.seg,o=a.start,l=a.end,c=i.start,u=i.end;n&&n.checkIntersection(a,i);var f=t.linesIntersect(o,l,c,u);if(!1===f){if(!t.pointsCollinear(o,l,c)||t.pointsSame(o,u)||t.pointsSame(l,c))return!1;var d=t.pointsSame(o,c),p=t.pointsSame(l,u);if(d&&p)return r;var $=!d&&t.pointBetween(o,c,u),h=!p&&t.pointBetween(l,c,u);if(d)return h?s(r,l):s(e,u),r;$&&(p||(h?s(r,l):s(e,u)),s(r,o))}else 0===f.alongA&&(-1===f.alongB?s(e,c):0===f.alongB?s(e,f.pt):1===f.alongB&&s(e,u)),0===f.alongB&&(-1===f.alongA?s(r,o):0===f.alongA?s(r,f.pt):1===f.alongA&&s(r,l));return!1}for(var f=[];!i.isEmpty();){var d=i.getHead();if(n&&n.vert(d.pt[0]),d.isStart){n&&n.segmentNew(d.seg,d.primary);var p,$=c(d),h=$.before?$.before.ev:null,g=$.after?$.after.ev:null;function v(){if(h){var e=u(d,h);if(e)return e}return!!g&&u(d,g)}n&&n.tempStatus(d.seg,!!h&&h.seg,!!g&&g.seg);var m,y=v();if(y&&(e?(p=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(y.seg.myFill.above=!y.seg.myFill.above):y.seg.otherFill=d.seg.myFill,n&&n.segmentUpdate(y.seg),d.other.remove(),d.remove()),i.getHead()!==d){n&&n.rewind(d.seg);continue}e?(p=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=g?g.seg.myFill.above:a,d.seg.myFill.above=p?!d.seg.myFill.below:d.seg.myFill.below):null===d.seg.otherFill&&(m=g?d.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:d.primary?o:a,d.seg.otherFill={above:m,below:m}),n&&n.status(d.seg,!!h&&h.seg,!!g&&g.seg),d.other.status=$.insert(r.node({ev:d}))}else{var _=d.status;if(null===_)throw Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&u(_.prev.ev,_.next.ev),n&&n.statusRemove(_.ev.seg),_.remove(),!d.primary){var x=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=x}f.push(d.seg)}i.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var r,a,i,o=e[e.length-1],s=0;s<e.length;s++){r=o,o=e[s];var c=t.pointsCompare(r,o);0!==c&&l((a=c<0?r:o,i=c<0?o:r,{id:n?n.segmentId():-1,start:a,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach(function(e){l(a(e.start,e.end,e),!0)}),n.forEach(function(e){l(a(e.start,e.end,e),!1)}),c(t,r)}}}},{"./linked-list":54}],54:[function(e,t,n){t.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,a=e.root.next;null!==a;){if(n(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);r=a,a=a.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},{}],55:[function(e,t,n){t.exports=function(e,t,n){var r=[],a=[];return e.forEach(function(e){var i=e.start,o=e.end;if(t.pointsSame(i,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,u=0;u<r.length;u++){var f=(g=r[u])[0],d=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(f,i)){if(k(u,!0,!0))break}else if(t.pointsSame(f,o)){if(k(u,!0,!1))break}else if(t.pointsSame(d,i)){if(k(u,!1,!0))break}else if(t.pointsSame(d,o)&&k(u,!1,!1))break}if(c===l)return r.push([i,o]),void(n&&n.chainNew(i,o));if(c===s){n&&n.chainMatch(l.index);var p=l.index,$=l.matches_pt1?o:i,h=l.matches_head,g=r[p],v=h?g[0]:g[g.length-1],m=h?g[1]:g[g.length-2],y=h?g[g.length-1]:g[0],_=h?g[g.length-2]:g[1];return t.pointsCollinear(m,v,$)&&(h?(n&&n.chainRemoveHead(l.index,$),g.shift()):(n&&n.chainRemoveTail(l.index,$),g.pop()),v=m),t.pointsSame(y,$)?(r.splice(p,1),t.pointsCollinear(_,y,v)&&(h?(n&&n.chainRemoveTail(l.index,v),g.pop()):(n&&n.chainRemoveHead(l.index,v),g.shift())),n&&n.chainClose(l.index),void a.push(g)):void(h?(n&&n.chainAddHead(l.index,$),g.unshift($)):(n&&n.chainAddTail(l.index,$),g.push($)))}var x=l.index,b=s.index;n&&n.chainConnect(x,b);var w=r[x].length<r[b].length;l.matches_head?s.matches_head?w?(T(x),A(x,b)):(T(b),A(b,x)):A(b,x):s.matches_head?A(x,b):w?(T(x),A(b,x)):(T(b),A(x,b))}function k(e,t,n){return c.index=e,c.matches_head=t,c.matches_pt1=n,c===l?(c=s,!1):(c=null,!0)}function T(e){n&&n.chainReverse(e),r[e].reverse()}function A(e,a){var i=r[e],o=r[a],l=i[i.length-1],s=i[i.length-2],c=o[0],u=o[1];t.pointsCollinear(s,l,c)&&(n&&n.chainRemoveTail(e,l),i.pop(),l=s),t.pointsCollinear(l,c,u)&&(n&&n.chainRemoveHead(a,c),o.shift()),n&&n.chainJoin(e,a),r[e]=i.concat(o),r.splice(a,1)}}),a}},{}],56:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach(function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})}),n&&n.selected(r),r}t.exports={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}}},{}],57:[function(e,t,n){var r,a,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{a="function"==typeof clearTimeout?clearTimeout:l}catch(t){a=l}}();var c,u=[],f=!1,d=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):d=-1,u.length&&$())}function $(){if(!f){var e=s(p);f=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,f=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(n){return a.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||f||s($)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],58:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,a=0,i=e.round,o=e.min,l=e.max,s=e.random;function c(t,s){if(s=s||{},(t=t||"")instanceof c)return t;if(!(this instanceof c))return new c(t,s);var u,f,d,p,$,h,g,v,m,y,_,x,b,w,k,T,A,C,O,P,R=(u=t,$={r:0,g:0,b:0},h=1,g=null,v=null,m=null,y=!1,_=!1,"string"==typeof u&&(u=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,a=!1;if(L[e])e=L[e],a=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=H.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=H.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=H.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=H.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=H.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=H.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=H.hex8.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:I(t[4]),format:a?"name":"hex8"}:(t=H.hex6.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:a?"name":"hex"}:(t=H.hex4.exec(e))?{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:I(t[4]+""+t[4]),format:a?"name":"hex8"}:!!(t=H.hex3.exec(e))&&{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:a?"name":"hex"}}(u)),"object"==typeof u&&(B(u.r)&&B(u.g)&&B(u.b)?(f=u.r,d=u.g,p=u.b,$={r:255*M(f,255),g:255*M(d,255),b:255*M(p,255)},y=!0,_="%"===String(u.r).substr(-1)?"prgb":"rgb"):B(u.h)&&B(u.s)&&B(u.v)?(g=z(u.s),v=z(u.v),$=(x=u.h,b=g,w=v,x=6*M(x,360),b=M(b,100),w=M(w,100),k=e.floor(x),T=x-k,A=w*(1-b),C=w*(1-T*b),O=w*(1-(1-T)*b),{r:255*[w,C,A,A,O,w][P=k%6],g:255*[O,w,w,C,A,A][P],b:255*[A,A,O,w,w,C][P]}),y=!0,_="hsv"):B(u.h)&&B(u.s)&&B(u.l)&&(g=z(u.s),m=z(u.l),$=function(e,t,n){var r,a,i;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=a=i=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;r=o(s,l,e+1/3),a=o(s,l,e),i=o(s,l,e-1/3)}return{r:255*r,g:255*a,b:255*i}}(u.h,g,m),y=!0,_="hsl"),u.hasOwnProperty("a")&&(h=u.a)),h=S(h),{ok:y,format:u.format||_,r:o(255,l($.r,0)),g:o(255,l($.g,0)),b:o(255,l($.b,0)),a:h});this._originalInput=t,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=i(100*this._a)/100,this._format=s.format||R.format,this._gradientType=s.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=R.ok,this._tc_id=a++}function u(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,a,i=l(e,t,n),s=o(e,t,n),c=(i+s)/2;if(i==s)r=a=0;else{var u=i-s;switch(a=c>.5?u/(2-i-s):u/(i+s),i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:a,l:c}}function f(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,a,i=l(e,t,n),s=o(e,t,n),c=i-s;if(a=0===i?0:c/i,i==s)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,v:i}}function d(e,t,n,r){var a=[P(i(e).toString(16)),P(i(t).toString(16)),P(i(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function p(e,t,n,r){return[P(R(r)),P(i(e).toString(16)),P(i(t).toString(16)),P(i(n).toString(16))].join("")}function $(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=O(n.s),c(n)}function h(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=O(n.s),c(n)}function g(e){return c(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=O(n.l),c(n)}function m(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=l(0,o(255,n.r-i(-t/100*255))),n.g=l(0,o(255,n.g-i(-t/100*255))),n.b=l(0,o(255,n.b-i(-t/100*255))),c(n)}function y(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=O(n.l),c(n)}function _(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function x(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function b(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function w(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function k(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),a=360/n,i=[c(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(c(r));return i}function A(e,t){t=t||6;for(var n=c(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],l=1/t;t--;)o.push(c({h:r,s:a,v:i})),i=(i+l)%1;return o}c.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,r,a=this.toRgb();return t=a.r/255,n=a.g/255,r=a.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=S(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,n,r,a,o,l;return t=this._r,n=this._g,r=this._b,a=this._a,o=e,l=[P(i(t).toString(16)),P(i(n).toString(16)),P(i(r).toString(16)),P(R(a))],o&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)&&l[3].charAt(0)==l[3].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0)+l[3].charAt(0):l.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*M(this._r,255))+"%",g:i(100*M(this._g,255))+"%",b:i(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%)":"rgba("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&!!C[d(this._r,this._g,this._b,!0)]},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=c(e);n="#"+p(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification($,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:z(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:s(),g:s(),b:s()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),a=c(t).toRgb(),i=n/100;return c({r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a})},c.readability=function(t,n){var r=c(t),a=c(n);return(e.max(r.getLuminance(),a.getLuminance())+.05)/(e.min(r.getLuminance(),a.getLuminance())+.05)},c.isReadable=function(e,t,n){var r,a,i,o,l,s=c.readability(e,t);switch(a=!1,(r=(o=((i=(i=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),l=(i.size||"small").toLowerCase(),"AA"!==o&&"AAA"!==o&&(o="AA"),"small"!==l&&"large"!==l&&(l="small"),{level:o,size:l})).level+r.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7}return a},c.mostReadable=function(e,t,n){var r,a,i,o,l=null,s=0;a=(n=n||{}).includeFallbackColors,i=n.level,o=n.size;for(var u=0;u<t.length;u++)(r=c.readability(e,t[u]))>s&&(s=r,l=c(t[u]));return c.isReadable(e,l,{level:i,size:o})||!a?l:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var L=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=c.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(L);function S(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function M(t,n){"string"==typeof(r=t)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(t="100%");var r,a,i="string"==typeof(a=t)&&-1!=a.indexOf("%");return t=o(n,l(0,parseFloat(t))),i&&(t=parseInt(t*n,10)/100),1e-6>e.abs(t-n)?1:t%n/parseFloat(n)}function O(e){return o(1,l(0,e))}function D(e){return parseInt(e,16)}function P(e){return 1==e.length?"0"+e:""+e}function z(e){return e<=1&&(e=100*e+"%"),e}function R(t){return e.round(255*parseFloat(t)).toString(16)}function I(e){return D(e)/255}var E,F,N,H=(F="[\\s|\\(]+("+(E="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",N="[\\s|\\(]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",{CSS_UNIT:RegExp(E),rgb:RegExp("rgb"+F),rgba:RegExp("rgba"+N),hsl:RegExp("hsl"+F),hsla:RegExp("hsla"+N),hsv:RegExp("hsv"+F),hsva:RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function B(e){return!!H.CSS_UNIT.exec(e)}void 0!==t&&t.exports?t.exports=c:window.tinycolor=c}(Math)},{}],59:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],60:[function(e,t,n){"use strict";var r=e("./arrow_paths"),a=e("../../plots/font_attributes"),i=e("../../plots/cartesian/constants"),o=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=o("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:a({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:a({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":178,"../../plot_api/plot_template":237,"../../plots/cartesian/constants":254,"../../plots/font_attributes":276,"./arrow_paths":59}],61:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("./draw").draw;function o(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach(function(t){var n=a.getFromId(e,t.xref),r=a.getFromId(e,t.yref),i=a.getRefType(t.xref),o=a.getRefType(t.yref);t._extremes={},"range"===i&&l(t,n),"range"===o&&l(t,r)})}function l(e,t){var n,r=t._id,i=r.charAt(0),o=e[i],l=e["a"+i],s=e[i+"ref"],c=e["a"+i+"ref"],u=e["_"+i+"padplus"],f=e["_"+i+"padminus"],d={x:1,y:-1}[i]*e[i+"shift"],p=3*e.arrowsize*e.arrowwidth||0,$=p+d,h=p-d,g=3*e.startarrowsize*e.arrowwidth||0,v=g+d,m=g-d;if(c===s){var y=a.findExtremes(t,[t.r2c(o)],{ppadplus:$,ppadminus:h}),_=a.findExtremes(t,[t.r2c(l)],{ppadplus:Math.max(u,v),ppadminus:Math.max(f,m)});n={min:[y.min[0],_.min[0]],max:[y.max[0],_.max[0]]}}else v=l?v+l:v,m=l?m-l:m,n=a.findExtremes(t,[t.r2c(o)],{ppadplus:Math.max(u,$,v),ppadminus:Math.max(f,h,m)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([i,o],e)}},{"../../lib":202,"../../plots/cartesian/axes":248,"./draw":66}],62:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),i=e("../../plot_api/plot_template").arrayEditor;function o(e,t){var n,r,a,i,o,s,c,u=e._fullLayout.annotations,f=[],d=[],p=[],$=(t||[]).length;for(n=0;n<u.length;n++)if(i=(a=u[n]).clicktoshow){for(r=0;r<$;r++)if(s=(o=t[r]).xaxis,c=o.yaxis,s._id===a.xref&&c._id===a.yref&&s.d2r(o.x)===l(a._xclick,s)&&c.d2r(o.y)===l(a._yclick,c)){(a.visible?"onout"===i?d:p:f).push(n);break}r===$&&a.visible&&"onout"===i&&d.push(n)}return{on:f,off:d,explicitOff:p}}function l(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:function(e,t){var n=o(e,t);return n.on.length>0||n.explicitOff.length>0},onClick:function(e,t){var n,l,s=o(e,t),c=s.on,u=s.off.concat(s.explicitOff),f={},d=e._fullLayout.annotations;if(c.length||u.length){for(n=0;n<c.length;n++)(l=i(e.layout,"annotations",d[c[n]])).modifyItem("visible",!0),r.extendFlat(f,l.getUpdateObj());for(n=0;n<u.length;n++)(l=i(e.layout,"annotations",d[u[n]])).modifyItem("visible",!1),r.extendFlat(f,l.getUpdateObj());return a.call("update",e,{},f)}}}},{"../../lib":202,"../../plot_api/plot_template":237,"../../registry":290}],63:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../color");t.exports=function(e,t,n,i){i("opacity");var o=i("bgcolor"),l=i("bordercolor"),s=a.opacity(l);i("borderpad");var c=i("borderwidth"),u=i("showarrow");if(i("text",u?" ":n._dfltTitle.annotation),i("textangle"),r.coerceFont(i,"font",n.font),i("width"),i("align"),i("height")&&i("valign"),u){var f,d,p=i("arrowside");-1!==p.indexOf("end")&&(f=i("arrowhead"),d=i("arrowsize")),-1!==p.indexOf("start")&&(i("startarrowhead",f),i("startarrowsize",d)),i("arrowcolor",s?t.bordercolor:a.defaultLine),i("arrowwidth",2*(s&&c||1)),i("standoff"),i("startstandoff")}var $=i("hovertext"),h=n.hoverlabel||{};if($){var g=i("hoverlabel.bgcolor",h.bgcolor||(a.opacity(o)?a.rgb(o):a.defaultLine)),v=i("hoverlabel.bordercolor",h.bordercolor||a.contrast(g));r.coerceFont(i,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||v})}i("captureevents",!!$)}},{"../../lib":202,"../color":75}],64:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib/to_log_range");t.exports=function(e,t,n,i){t=t||{};var o="log"===n&&"linear"===t.type,l="linear"===n&&"log"===t.type;if(o||l)for(var s,c,u=e._fullLayout.annotations,f=t._id.charAt(0),d=0;d<u.length;d++)s=u[d],c="annotations["+d+"].",s[f+"ref"]===t._id&&p(f),s["a"+f+"ref"]===t._id&&p("a"+f);function p(e){var n=s[e],l=null;l=o?a(n,t.range):Math.pow(10,n),r(l)||(l=null),i(c+e,l)}}},{"../../lib/to_log_range":226,"fast-isnumeric":11}],65:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),o=e("./common_defaults"),l=e("./attributes");function s(e,t,n){function i(n,a){return r.coerce(e,t,l,n,a)}var s=i("visible"),c=i("clicktoshow");if(s||c){o(e,t,n,i);for(var u=t.showarrow,f=["x","y"],d=[-10,-30],p={_fullLayout:n},$=0;$<2;$++){var h=f[$],g=a.coerceRef(e,t,p,h,"","paper");if("paper"!==g&&a.getFromId(p,g)._annIndices.push(t._index),a.coercePosition(t,p,i,g,h,.5),u){var v="a"+h,m=a.coerceRef(e,t,p,v,"pixel",["pixel","paper"]);"pixel"!==m&&m!==g&&(m=t[v]="pixel");var y="pixel"===m?d[$]:.4;a.coercePosition(t,p,i,m,v,y)}i(h+"anchor"),i(h+"shift")}if(r.noneOrAll(e,t,["x","y"]),u&&r.noneOrAll(e,t,["ax","ay"]),c){var _=i("xclick"),x=i("yclick");t._xclick=void 0===_?t.x:a.cleanPosition(_,p,t.xref),t._yclick=void 0===x?t.y:a.cleanPosition(x,p,t.yref)}}}t.exports=function(e,t){i(e,t,{name:"annotations",handleItemDefaults:s})}},{"../../lib":202,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"./attributes":60,"./common_defaults":63}],66:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../plots/plots"),o=e("../../lib"),l=o.strTranslate,s=e("../../plots/cartesian/axes"),c=e("../color"),u=e("../drawing"),f=e("../fx"),d=e("../../lib/svg_text_utils"),p=e("../../lib/setcursor"),$=e("../dragelement"),h=e("../../plot_api/plot_template").arrayEditor,g=e("./draw_arrow_head");function v(e,t){var n=e._fullLayout.annotations[t]||{},r=s.getFromId(e,n.xref),a=s.getFromId(e,n.yref);r&&r.setScale(),a&&a.setScale(),y(e,n,t,!1,r,a)}function m(e,t,n,r,a){var i=a[n],o=a[n+"ref"],l=-1!==n.indexOf("y"),c="domain"===s.getRefType(o),u=l?r.h:r.w;return e?c?i+(l?-t:t)/e._length:e.p2r(e.r2p(i)+t):i+(l?-t:t)/u}function y(e,t,n,i,v,y){var _,x,b=e._fullLayout,w=e._fullLayout._size,k=e._context.edits;i?(_="annotation-"+i,x=i+".annotations"):(_="annotation",x="annotations");var T=h(e.layout,x,t),A=T.modifyBase,L=T.modifyItem,C=T.getUpdateObj;b._infolayer.selectAll("."+_+'[data-index="'+n+'"]').remove();var S="clip"+b._uid+"_ann"+n;if(t._input&&!1!==t.visible){var M={x:{},y:{}},O=+t.textangle||0,D=b._infolayer.append("g").classed(_,!0).attr("data-index",String(n)).style("opacity",t.opacity),P=D.append("g").classed("annotation-text-g",!0),z=k[t.showarrow?"annotationTail":"annotationPosition"],R=t.captureevents||k.annotationText||z,I=P.append("g").style("pointer-events",R?"all":null).call(p,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",q(r.event))});t.hovertext&&I.on("mouseover",function(){var n=t.hoverlabel,r=n.font,a=this.getBoundingClientRect(),i=e.getBoundingClientRect();f.loneHover({x0:a.left-i.left,x1:a.right-i.left,y:(a.top+a.bottom)/2-i.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:e})}).on("mouseout",function(){f.loneUnhover(b._hoverlayer.node())});var E=t.borderwidth,F=E+t.borderpad,N=I.append("rect").attr("class","bg").style("stroke-width",E+"px").call(c.stroke,t.bordercolor).call(c.fill,t.bgcolor),H=t.width||t.height,B=b._topclips.selectAll("#"+S).data(H?[0]:[]);B.enter().append("clipPath").classed("annclip",!0).attr("id",S).append("rect"),B.exit().remove();var V=t.font,j=b._meta?o.templateString(t.text,b._meta):t.text,U=I.append("text").classed("annotation-text",!0).text(j);k.annotationText?U.call(d.makeEditable,{delegate:I,gd:e}).call(G).on("edit",function(n){t.text=n,this.call(G),L("text",n),v&&v.autorange&&A(v._name+".autorange",!0),y&&y.autorange&&A(y._name+".autorange",!0),a.call("_guiRelayout",e,C())}):U.call(G)}else r.selectAll("#"+S).remove();function q(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return i&&(r.subplotId=i),r}function G(n){return n.call(u.font,V).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),d.convertToTspans(n,e,Z),n}function Z(){var n=U.selectAll("a");1===n.size()&&n.text()===U.text()&&I.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(N.node());var r=I.select(".annotation-text-math-group"),f=!r.empty(),h=u.bBox((f?r:U).node()),_=h.width,x=h.height,T=t.width||_,R=t.height||x,V=Math.round(T+2*F),j=Math.round(R+2*F);function G(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),({center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5})[t]}for(var Z=!1,Y=["x","y"],X=0;X<Y.length;X++){var W,Q,J,K,ee,et=Y[X],en=t[et+"ref"]||et,er=t["a"+et+"ref"],ea={x:v,y:y}[et],ei=(O+("x"===et?0:-90))*Math.PI/180,eo=V*Math.cos(ei),el=j*Math.sin(ei),es=Math.abs(eo)+Math.abs(el),ec=t[et+"anchor"],eu=t[et+"shift"]*("x"===et?1:-1),ef=M[et],ed=s.getRefType(en);if(ea&&"domain"!==ed){var ep=ea.r2fraction(t[et]);(ep<0||ep>1)&&(er===en?((ep=ea.r2fraction(t["a"+et]))<0||ep>1)&&(Z=!0):Z=!0),W=ea._offset+ea.r2p(t[et]),K=.5}else{var e$="domain"===ed;"x"===et?(J=t[et],W=e$?ea._offset+ea._length*J:W=w.l+w.w*J):(J=1-t[et],W=e$?ea._offset+ea._length*J:W=w.t+w.h*J),K=t.showarrow?.5:J}if(t.showarrow){ef.head=W;var eh=t["a"+et];if(ee=eo*G(.5,t.xanchor)-el*G(.5,t.yanchor),er===en){var eg=s.getRefType(er);"domain"===eg?("y"===et&&(eh=1-eh),ef.tail=ea._offset+ea._length*eh):"paper"===eg?"y"===et?(eh=1-eh,ef.tail=w.t+w.h*eh):ef.tail=w.l+w.w*eh:ef.tail=ea._offset+ea.r2p(eh),Q=ee}else ef.tail=W+eh,Q=ee+eh;ef.text=ef.tail+ee;var ev=b["x"===et?"width":"height"];if("paper"===en&&(ef.head=o.constrain(ef.head,1,ev-1)),"pixel"===er){var em=-Math.max(ef.tail-3,ef.text),ey=Math.min(ef.tail+3,ef.text)-ev;em>0?(ef.tail+=em,ef.text+=em):ey>0&&(ef.tail-=ey,ef.text-=ey)}ef.tail+=eu,ef.head+=eu}else Q=ee=es*G(K,ec),ef.text=W+ee;ef.text+=eu,ee+=eu,Q+=eu,t["_"+et+"padplus"]=es/2+Q,t["_"+et+"padminus"]=es/2-Q,t["_"+et+"size"]=es,t["_"+et+"shift"]=ee}if(Z)I.remove();else{var e_=0,ex=0;if("left"!==t.align&&(e_=(T-_)*("center"===t.align?.5:1)),"top"!==t.valign&&(ex=(R-x)*("middle"===t.valign?.5:1)),f)r.select("svg").attr({x:F+e_-1,y:F+ex}).call(u.setClipUrl,H?S:null,e);else{var eb=F+ex-h.top,e8=F+e_-h.left;U.call(d.positionText,e8,eb).call(u.setClipUrl,H?S:null,e)}B.select("rect").call(u.setRect,F,F,T,R),N.call(u.setRect,E/2,E/2,V-E,j-E),I.call(u.setTranslate,Math.round(M.x.text-V/2),Math.round(M.y.text-j/2)),P.attr({transform:"rotate("+O+","+M.x.text+","+M.y.text+")"});var e0,ew=function(n,r){D.selectAll(".annotation-arrow-g").remove();var s=M.x.head,f=M.y.head,d=M.x.tail+n,p=M.y.tail+r,h=M.x.text+n,_=M.y.text+r,x=o.rotationXYMatrix(O,h,_),b=o.apply2DTransform(x),T=o.apply2DTransform2(x),S=+N.attr("width"),z=+N.attr("height"),R=h-.5*S,E=R+S,F=_-.5*z,H=F+z,B=[[R,F,R,H],[R,H,E,H],[E,H,E,F],[E,F,R,F]].map(T);if(!B.reduce(function(e,t){return!!o.segmentsIntersect(s,f,s+1e6,f+1e6,t[0],t[1],t[2],t[3])^e},!1)){B.forEach(function(e){var t=o.segmentsIntersect(d,p,s,f,e[0],e[1],e[2],e[3]);t&&(d=t.x,p=t.y)});var V=t.arrowwidth,j=t.arrowcolor,U=t.arrowside,q=D.append("g").style({opacity:c.opacity(j)}).classed("annotation-arrow-g",!0),G=q.append("path").attr("d","M"+d+","+p+"L"+s+","+f).style("stroke-width",V+"px").call(c.stroke,c.rgb(j));if(g(G,U,t),k.annotationPosition&&G.node().parentNode&&!i){var Z=s,Y=f;if(t.standoff){var X=Math.sqrt(Math.pow(s-d,2)+Math.pow(f-p,2));Z+=t.standoff*(d-s)/X,Y+=t.standoff*(p-f)/X}var W,Q,J=q.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-Z)+","+(p-Y),transform:l(Z,Y)}).style("stroke-width",V+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");$.init({element:J.node(),gd:e,prepFn:function(){var e=u.getTranslate(I);W=e.x,Q=e.y,v&&v.autorange&&A(v._name+".autorange",!0),y&&y.autorange&&A(y._name+".autorange",!0)},moveFn:function(e,n){var r=b(W,Q),a=r[0]+e,i=r[1]+n;I.call(u.setTranslate,a,i),L("x",m(v,e,"x",w,t)),L("y",m(y,n,"y",w,t)),t.axref===t.xref&&L("ax",m(v,e,"ax",w,t)),t.ayref===t.yref&&L("ay",m(y,n,"ay",w,t)),q.attr("transform",l(e,n)),P.attr({transform:"rotate("+O+","+a+","+i+")"})},doneFn:function(){a.call("_guiRelayout",e,C());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&ew(0,0),z&&$.init({element:I.node(),gd:e,prepFn:function(){e0=P.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?L("ax",m(v,e,"ax",w,t)):L("ax",t.ax+e),t.ayref===t.yref?L("ay",m(y,n,"ay",w.w,t)):L("ay",t.ay+n),ew(e,n);else{if(i)return;if(v)a=m(v,e,"x",w,t);else{var a,o,s=t._xsize/w.w,c=t.x+(t._xshift-t.xshift)/w.w-s/2;a=$.align(c+e/w.w,s,0,1,t.xanchor)}if(y)o=m(y,n,"y",w,t);else{var u=t._ysize/w.h,f=t.y-(t._yshift+t.yshift)/w.h-u/2;o=$.align(f-n/w.h,u,0,1,t.yanchor)}L("x",a),L("y",o),v&&y||(r=$.getCursor(v?.5:a,y?.5:o,t.xanchor,t.yanchor))}P.attr({transform:l(e,n)+e0}),p(I,r)},clickFn:function(n,r){t.captureevents&&e.emit("plotly_clickannotation",q(r))},doneFn:function(){p(I),a.call("_guiRelayout",e,C());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}t.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&v(e,n);return i.previousPromises(e)},drawOne:v,drawRaw:y}},{"../../lib":202,"../../lib/setcursor":222,"../../lib/svg_text_utils":224,"../../plot_api/plot_template":237,"../../plots/cartesian/axes":248,"../../plots/plots":282,"../../registry":290,"../color":75,"../dragelement":94,"../drawing":97,"../fx":115,"./draw_arrow_head":67,d3:9}],67:[function(e,t,n){"use strict";var r=e("d3"),a=e("../color"),i=e("./arrow_paths"),o=e("../../lib"),l=o.strScale,s=o.strRotate,c=o.strTranslate;t.exports=function(e,t,n){var o,u,f,d,p=e.node(),$=i[n.arrowhead||0],h=i[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),v=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf("start")>=0,y=t.indexOf("end")>=0,_=$.backoff*g+n.standoff,x=h.backoff*v+n.startstandoff;if("line"===p.nodeName){o={x:+e.attr("x1"),y:+e.attr("y1")},u={x:+e.attr("x2"),y:+e.attr("y2")};var b=o.x-u.x,w=o.y-u.y;if(d=(f=Math.atan2(w,b))+Math.PI,_&&x&&_+x>Math.sqrt(b*b+w*w))return void z();if(_){if(_*_>b*b+w*w)return void z();var k=_*Math.cos(f),T=_*Math.sin(f);u.x+=k,u.y+=T,e.attr({x2:u.x,y2:u.y})}if(x){if(x*x>b*b+w*w)return void z();var A=x*Math.cos(f),L=x*Math.sin(f);o.x-=A,o.y-=L,e.attr({x1:o.x,y1:o.y})}}else if("path"===p.nodeName){var C=p.getTotalLength(),S="";if(C<_+x)return void z();var M=p.getPointAtLength(0),O=p.getPointAtLength(.1);f=Math.atan2(M.y-O.y,M.x-O.x),o=p.getPointAtLength(Math.min(x,C)),S="0px,"+x+"px,";var D=p.getPointAtLength(C),P=p.getPointAtLength(C-.1);d=Math.atan2(D.y-P.y,D.x-P.x),u=p.getPointAtLength(Math.max(0,C-_)),S+=C-(S?x+_:_)+"px,"+C+"px",e.style("stroke-dasharray",S)}function z(){e.style("stroke-dasharray","0px,100px")}function R(t,i,o,u){t.path&&(t.noRotate&&(o=0),r.select(p.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:c(i.x,i.y)+s(180*o/Math.PI)+l(u)}).style({fill:a.rgb(n.arrowcolor),"stroke-width":0}))}m&&R(h,o,f,v),y&&R($,u,d,g)}},{"../../lib":202,"../color":75,"./arrow_paths":59,d3:9}],68:[function(e,t,n){"use strict";var r=e("./draw"),a=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":260,"./attributes":60,"./calc_autorange":61,"./click":62,"./convert_coords":64,"./defaults":65,"./draw":66}],69:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),a=e("../../plot_api/edit_types").overrideAll,i=e("../../plot_api/plot_template").templatedArray;t.exports=a(i("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":230,"../../plot_api/plot_template":237,"../annotations/attributes":60}],70:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes");function i(e,t){var n=t.fullSceneLayout.domain,i=t.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,o),a.setConvert(e._xa),e._xa._offset=i.l+n.x[0]*i.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*i.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,o),a.setConvert(e._ya),e._ya._offset=i.t+(1-n.y[1])*i.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*i.h*(n.y[1]-n.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)i(t[n],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":202,"../../plots/cartesian/axes":248}],71:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),o=e("../annotations/common_defaults"),l=e("./attributes");function s(e,t,n,i){function s(n,a){return r.coerce(e,t,l,n,a)}function c(e){var r=e+"axis",i={_fullLayout:{}};return i._fullLayout[r]=n[r],a.coercePosition(t,i,s,e,e,.5)}s("visible")&&(o(e,t,i.fullLayout,s),c("x"),c("y"),c("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",s("xanchor"),s("yanchor"),s("xshift"),s("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",s("ax",-10),s("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){i(e,t,{name:"annotations",handleItemDefaults:s,fullLayout:n.fullLayout})}},{"../../lib":202,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"../annotations/common_defaults":63,"./attributes":69}],72:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,a=e("../../plots/gl3d/project"),i=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,o=t.annotations,l=0;l<o.length;l++){for(var s=o[l],c=!1,u=0;u<3;u++){var f=i[u],d=s[f],p=t[f+"axis"].r2fraction(d);if(p<0||p>1){c=!0;break}}c?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+l+'"]').remove():(s._pdata=a(e.glplot.cameraParams,[t.xaxis.r2l(s.x)*n[0],t.yaxis.r2l(s.y)*n[1],t.zaxis.r2l(s.z)*n[2]]),r(e.graphDiv,s,l,e.id,s._xa,s._ya))}}},{"../../plots/gl3d/project":279,"../annotations/draw":66}],73:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib");t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:function(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var i=n.attrRegex,o=Object.keys(e),l=0;l<o.length;l++){var s=o[l];i.test(s)&&(e[s].annotations||[]).length&&(a.pushUnique(t._basePlotModules,n),a.pushUnique(t._subplots.gl3d,s))}},convert:e("./convert"),draw:e("./draw")}},{"../../lib":202,"../../registry":290,"./attributes":69,"./convert":70,"./defaults":71,"./draw":72}],74:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],75:[function(e,t,n){"use strict";var r=e("tinycolor2"),a=e("fast-isnumeric"),i=t.exports={},o=e("./attributes");i.defaults=o.defaults;var l=i.defaultLine=o.defaultLine;i.lightLine=o.lightLine;var s=i.background=o.background;function c(e){if(a(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),i="a"===t.charAt(3)&&4===r.length;if(!i&&3!==r.length)return e;for(var o=0;o<r.length;o++){if(!r[o].length||(r[o]=Number(r[o]),!(r[o]>=0)))return e;if(3===o)r[o]>1&&(r[o]=1);else if(r[o]>=1)return e}var l=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return i?"rgba("+l+", "+r[3]+")":"rgb("+l+")"}i.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},i.rgb=function(e){return i.tinyRGB(r(e))},i.opacity=function(e){return e?r(e).getAlpha():0},i.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},i.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var a=r(t||s).toRgb(),i=1===a.a?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a};return r({r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a}).toRgbString()},i.contrast=function(e,t,n){var a=r(e);return 1!==a.getAlpha()&&(a=r(i.combine(e,s))),(a.isDark()?t?a.lighten(t):s:n?a.darken(n):l).toString()},i.stroke=function(e,t){var n=r(t);e.style({stroke:i.tinyRGB(n),"stroke-opacity":n.getAlpha()})},i.fill=function(e,t){var n=r(t);e.style({fill:i.tinyRGB(n),"fill-opacity":n.getAlpha()})},i.clean=function(e){if(e&&"object"==typeof e){var t,n,r,a,o=Object.keys(e);for(t=0;t<o.length;t++)if(a=e[r=o[t]],"color"===r.substr(r.length-5)){if(Array.isArray(a))for(n=0;n<a.length;n++)a[n]=c(a[n]);else e[r]=c(a)}else if("colorscale"===r.substr(r.length-10)&&Array.isArray(a))for(n=0;n<a.length;n++)Array.isArray(a[n])&&(a[n][1]=c(a[n][1]));else if(Array.isArray(a)){var l=a[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(n=0;n<a.length;n++)i.clean(a[n])}else a&&"object"==typeof a&&i.clean(a)}}},{"./attributes":74,"fast-isnumeric":11,tinycolor2:58}],76:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),a=e("../../plots/font_attributes"),i=e("../../lib/extend").extendFlat,o=e("../../plot_api/edit_types").overrideAll;t.exports=o({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:i({},r.ticks,{dflt:""}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:a({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:a({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:a({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":196,"../../plot_api/edit_types":230,"../../plots/cartesian/layout_attributes":262,"../../plots/font_attributes":276}],77:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],78:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/plot_template"),i=e("../../plots/cartesian/tick_value_defaults"),o=e("../../plots/cartesian/tick_mark_defaults"),l=e("../../plots/cartesian/tick_label_defaults"),s=e("./attributes");t.exports=function(e,t,n){var c=a.newContainer(t,"colorbar"),u=e.colorbar||{};function f(e,t){return r.coerce(u,c,s,e,t)}var d=f("thicknessmode");f("thickness","fraction"===d?30/(n.width-n.margin.l-n.margin.r):30);var p=f("lenmode");f("len","fraction"===p?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(u,c,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var $=f("ticklabelposition");i(u,c,f,"linear");var h={outerTicks:!1,font:n.font};-1!==$.indexOf("inside")&&(h.bgColor="black"),l(u,c,f,"linear",h),o(u,c,f,"linear",h),f("title.text",n._dfltTitle.colorbar),r.coerceFont(f,"title.font",n.font),f("title.side")}},{"../../lib":202,"../../plot_api/plot_template":237,"../../plots/cartesian/tick_label_defaults":269,"../../plots/cartesian/tick_mark_defaults":270,"../../plots/cartesian/tick_value_defaults":271,"./attributes":76}],79:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),i=e("../../plots/plots"),o=e("../../registry"),l=e("../../plots/cartesian/axes"),s=e("../dragelement"),c=e("../../lib"),u=c.strTranslate,f=e("../../lib/extend").extendFlat,d=e("../../lib/setcursor"),p=e("../drawing"),$=e("../color"),h=e("../titles"),g=e("../../lib/svg_text_utils"),v=e("../colorscale/helpers").flipScale,m=e("../../plots/cartesian/axis_defaults"),y=e("../../plots/cartesian/position_defaults"),_=e("../../plots/cartesian/layout_attributes"),x=e("../../constants/alignment"),b=x.LINE_SPACING,w=x.FROM_TL,k=x.FROM_BR,T=e("./constants").cn;t.exports={draw:function(e){var t=e._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(e){var t,n,r,a,i=e._fullLayout,o=e.calcdata,l=[];function s(e){return f(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof a.calc?a.calc(e,r,t):(t._fillgradient=n.reversescale?v(n.colorscale):n.colorscale,t._zrange=[n[a.min],n[a.max]])}for(var u=0;u<o.length;u++){var d=(r=o[u][0].trace)._module.colorbar;if(!0===r.visible&&d)for(var p=Array.isArray(d),$=p?d:[d],h=0;h<$.length;h++){var g=(a=$[h]).container;(n=g?r[g]:r)&&n.showscale&&((t=s(n.colorbar))._id="cb"+r.uid+(p&&g?"-"+g:""),t._traceIndex=r.index,t._propPrefix=(g?g+".":"")+"colorbar.",t._meta=r._meta,c(),l.push(t))}}for(var m in i._colorAxes)if((n=i[m]).showscale){var y=i._colorAxes[m];(t=s(n.colorbar))._id="cb"+m,t._propPrefix=m+".colorbar.",t._meta=i._meta,a={min:"cmin",max:"cmax"},"heatmap"!==y[0]&&(r=y[1],a.calc=r._module.colorbar.calc),c(),l.push(t)}return l}(e),function(e){return e._id});t.enter().append("g").attr("class",function(e){return e._id}).classed(T.colorbar,!0),t.each(function(t){var n=r.select(this);c.ensureSingle(n,"rect",T.cbbg),c.ensureSingle(n,"g",T.cbfills),c.ensureSingle(n,"g",T.cblines),c.ensureSingle(n,"g",T.cbaxis,function(e){e.classed(T.crisp,!0)}),c.ensureSingle(n,"g",T.cbtitleunshift,function(e){e.append("g").classed(T.cbtitle,!0)}),c.ensureSingle(n,"rect",T.cboutline);var v,x,A,L,C,S,M,O=function(e,t,n){var o=n._fullLayout,s=o._size,d=t._fillcolor,v=t._line,x=t.title,A=x.side,L=t._zrange||r.extent(("function"==typeof d?d:v.color).domain()),C="function"==typeof v.color?v.color:function(){return v.color},S="function"==typeof d?d:function(){return d},M=t._levels,O=function(e,t,n){var r,a,i=t._levels,o=[],l=[],s=i.end+i.size/100,c=i.size,u=1.001*n[0]-.001*n[1],f=1.001*n[1]-.001*n[0];for(a=0;a<1e5&&(r=i.start+a*c,!(c>0?r>=s:r<=s));a++)r>u&&r<f&&o.push(r);if(t._fillgradient)l=[0];else if("function"==typeof t._fillcolor){var d=t._filllevels;if(d)for(s=d.end+d.size/100,c=d.size,a=0;a<1e5&&(r=d.start+a*c,!(c>0?r>=s:r<=s));a++)r>n[0]&&r<n[1]&&l.push(r);else(l=o.map(function(e){return e-i.size/2})).push(l[l.length-1]+i.size)}else t._fillcolor&&"string"==typeof t._fillcolor&&(l=[0]);return i.size<0&&(o.reverse(),l.reverse()),{line:o,fill:l}}(0,t,L),D=O.fill,P=O.line,z=Math.round(t.thickness*("fraction"===t.thicknessmode?s.w:1)),R=z/s.w,I=Math.round(t.len*("fraction"===t.lenmode?s.h:1)),E=I/s.h,F=t.xpad/s.w,N=(t.borderwidth+t.outlinewidth)/2,H=t.ypad/s.h,B=Math.round(t.x*s.w+t.xpad),V=t.x-R*(({middle:.5,right:1})[t.xanchor]||0),j=t.y+E*((({top:-.5,bottom:.5})[t.yanchor]||0)-.5),U=Math.round(s.h*(1-j)),q=U-I;t._lenFrac=E,t._thickFrac=R,t._xLeftFrac=V,t._yBottomFrac=j;var G=t._axis=function(e,t,n){var r=e._fullLayout,a={type:"linear",range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,ticklabelposition:t.ticklabelposition,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},i={type:"linear",_id:"y"+t._id},o={letter:"y",font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function l(e,t){return c.coerce(a,i,_,e,t)}return m(a,i,l,o,r),y(a,i,l,o),i}(n,t,L);if(G.position=t.x+F+R,-1!==["top","bottom"].indexOf(A)&&(G.title.side=A,G.titlex=t.x+F,G.titley=j+("top"===x.side?E-H:H)),v.color&&"auto"===t.tickmode){G.tickmode="linear",G.tick0=M.start;var Z=M.size,Y=c.constrain((U-q)/50,4,15)+1,X=(L[1]-L[0])/((t.nticks||Y)*Z);if(X>1){var W=Math.pow(10,Math.floor(Math.log(X)/Math.LN10));Z*=W*c.roundUp(X/W,[2,5,10]),(Math.abs(M.start)/M.size+1e-6)%1<2e-6&&(G.tick0=0)}G.dtick=Z}G.domain=[j+H,j+E-H],G.setScale(),e.attr("transform",u(Math.round(s.l),Math.round(s.t)));var Q,J=e.select("."+T.cbtitleunshift).attr("transform",u(-Math.round(s.l),-Math.round(s.t))),K=e.select("."+T.cbaxis),ee=0;function et(r,a){var i={propContainer:G,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:o._dfltTitle.colorbar,containerGroup:e.select("."+T.cbtitle)},l="h"===r.charAt(0)?r.substr(1):"h"+r;e.selectAll("."+l+",."+l+"-math-group").remove(),h.draw(n,r,f(i,a||{}))}return c.syncOrAsync([i.previousPromises,function(){if(-1!==["top","bottom"].indexOf(A)){var e,n=s.l+(t.x+F)*s.w,r=G.title.font.size;e="top"===A?(1-(j+E-H))*s.h+s.t+3+.75*r:(1-(j+H))*s.h+s.t-3-.25*r,et(G._id+"title",{attributes:{x:n,y:e,"text-anchor":"start"}})}},function(){if(-1!==["top","bottom"].indexOf(A)){var i=e.select("."+T.cbtitle),o=i.select("text"),f=[-t.outlinewidth/2,t.outlinewidth/2],d=i.select(".h"+G._id+"title-math-group").node(),$=15.6;if(o.node()&&($=parseInt(o.node().style.fontSize,10)*b),d?(ee=p.bBox(d).height)>$&&(f[1]-=(ee-$)/2):o.node()&&!o.classed(T.jsPlaceholder)&&(ee=p.bBox(o.node()).height),ee){if(ee+=5,"top"===A)G.domain[1]-=ee/s.h,f[1]*=-1;else{G.domain[0]+=ee/s.h;var h=g.lineCount(o);f[1]+=(1-h)*$}i.attr("transform",u(f[0],f[1])),G.setScale()}}e.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",u(0,Math.round(s.h*(1-G.domain[1])))),K.attr("transform",u(0,Math.round(-s.t)));var m=e.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(D);m.enter().append("rect").classed(T.cbfill,!0).style("stroke","none"),m.exit().remove();var y=L.map(G.c2p).map(Math.round).sort(function(e,t){return e-t});m.each(function(e,i){var o=[0===i?L[0]:(D[i]+D[i-1])/2,i===D.length-1?L[1]:(D[i]+D[i+1])/2].map(G.c2p).map(Math.round);o[1]=c.constrain(o[1]+(o[1]>o[0])?1:-1,y[0],y[1]);var l=r.select(this).attr({x:B,width:Math.max(z,2),y:r.min(o),height:Math.max(r.max(o)-r.min(o),2)});if(t._fillgradient)p.gradient(l,n,t._id,"vertical",t._fillgradient,"fill");else{var s=S(e).replace("e-","");l.attr("fill",a(s).toHexString())}});var _=e.select("."+T.cblines).selectAll("path."+T.cbline).data(v.color&&v.width?P:[]);_.enter().append("path").classed(T.cbline,!0),_.exit().remove(),_.each(function(e){r.select(this).attr("d","M"+B+","+(Math.round(G.c2p(e))+v.width/2%1)+"h"+z).call(p.lineGroupStyle,v.width,C(e),v.dash)}),K.selectAll("g."+G._id+"tick,path").remove();var x=B+z+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),w=l.calcTicks(G),k=l.getTickSigns(G)[2];return l.drawTicks(n,G,{vals:"inside"===G.ticks?l.clipEnds(G,w):w,layer:K,path:l.makeTickPath(G,x,k),transFn:l.makeTransTickFn(G)}),l.drawLabels(n,G,{vals:w,layer:K,transFn:l.makeTransTickLabelFn(G),labelFns:l.makeLabelFns(G,x)})},function(){if(-1===["top","bottom"].indexOf(A)){var e=G.title.font.size,t=G._offset+G._length/2,a=s.l+(G.position||0)*s.w+("right"===G.side?10+e*(G.showticklabels?1:.5):-10-e*(G.showticklabels?.5:0));et("h"+G._id+"title",{avoid:{selection:r.select(n).selectAll("g."+G._id+"tick"),side:A,offsetLeft:s.l,offsetTop:0,maxShift:o.width},attributes:{x:a,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},i.previousPromises,function(){var r=z+t.outlinewidth/2;if(-1===G.ticklabelposition.indexOf("inside")&&(r+=p.bBox(K.node()).width),(Q=J.select("text")).node()&&!Q.classed(T.jsPlaceholder)){var a,o=J.select(".h"+G._id+"title-math-group").node();r=Math.max(r,a=o&&-1!==["top","bottom"].indexOf(A)?p.bBox(o).width:p.bBox(J.node()).right-B-s.l)}var l=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,c=U-q;e.select("."+T.cbbg).attr({x:B-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:q-N,width:Math.max(l,2),height:Math.max(c+2*N,2)}).call($.fill,t.bgcolor).call($.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+T.cboutline).attr({x:B,y:q+t.ypad+("top"===A?ee:0),width:Math.max(z,2),height:Math.max(c-2*t.ypad-ee,2)}).call($.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var f=({center:.5,right:1}[t.xanchor]||0)*l;e.attr("transform",u(s.l-f,s.t));var d={},h=w[t.yanchor],g=k[t.yanchor];"pixels"===t.lenmode?(d.y=t.y,d.t=c*h,d.b=c*g):(d.t=d.b=0,d.yt=t.y+t.len*h,d.yb=t.y-t.len*g);var v=w[t.xanchor],m=k[t.xanchor];if("pixels"===t.thicknessmode)d.x=t.x,d.l=l*v,d.r=l*m;else{var y=l-z;d.l=y*v,d.r=y*m,d.xl=t.x-t.thickness*v,d.xr=t.x+t.thickness*m}i.autoMargin(n,t._id,d)}],n)}(n,t,e);O&&O.then&&(e._promises||[]).push(O),e._context.edits.colorbarPosition&&(v=n,x=t,M=(A=e)._fullLayout._size,s.init({element:v.node(),gd:A,prepFn:function(){L=v.attr("transform"),d(v)},moveFn:function(e,t){v.attr("transform",L+u(e,t)),C=s.align(x._xLeftFrac+e/M.w,x._thickFrac,0,1,x.xanchor),S=s.align(x._yBottomFrac-t/M.h,x._lenFrac,0,1,x.yanchor),d(v,s.getCursor(C,S,x.xanchor,x.yanchor))},doneFn:function(){if(d(v),void 0!==C&&void 0!==S){var e={};e[x._propPrefix+"x"]=C,e[x._propPrefix+"y"]=S,void 0!==x._traceIndex?o.call("_guiRestyle",A,e,x._traceIndex):o.call("_guiRelayout",A,e)}}}))}),t.exit().each(function(t){i.autoMargin(e,t._id)}).remove(),t.order()}}},{"../../constants/alignment":177,"../../lib":202,"../../lib/extend":196,"../../lib/setcursor":222,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../plots/cartesian/axis_defaults":250,"../../plots/cartesian/layout_attributes":262,"../../plots/cartesian/position_defaults":265,"../../plots/plots":282,"../../registry":290,"../color":75,"../colorscale/helpers":86,"../dragelement":94,"../drawing":97,"../titles":170,"./constants":77,d3:9,tinycolor2:58}],80:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":202}],81:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:e("./attributes"),supplyDefaults:e("./defaults"),draw:e("./draw").draw,hasColorbar:e("./has_colorbar")}},{"./attributes":76,"./defaults":78,"./draw":79,"./has_colorbar":80}],82:[function(e,t,n){"use strict";var r=e("../colorbar/attributes"),a=e("../../lib/regex").counter,i=e("./scales.js").scales;function o(e){return"`"+e+"`"}Object.keys(i),t.exports=function(e,t){e=e||"";var n,l=(t=t||{}).cLetter||"c",s=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),c="showScaleDflt"in t?t.showScaleDflt:"z"===l,u="string"==typeof t.colorscaleDflt?i[t.colorscaleDflt]:null,f=t.editTypeOverride||"",d=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):o(d+(n=({z:"z",c:"color"})[l]));var p=l+"auto",$=l+"min",h=l+"max",g=l+"mid",v=(o(d+p),o(d+$),o(d+h),{});v[$]=v[h]=void 0;var m={};m[p]=!1;var y={};return"color"===n&&(y.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(y.color.anim=!0)),y[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},y[$]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:m},y[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:m},y[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},y.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},s||(y.showscale={valType:"boolean",dflt:c,editType:"calc"},y.colorbar=r),t.noColorAxis||(y.coloraxis={valType:"subplotid",regex:a("coloraxis"),dflt:null,editType:"calc"}),y}},{"../../lib/regex":218,"../colorbar/attributes":76,"./scales.js":90}],83:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("./helpers").extractOpts;t.exports=function(e,t,n){var o,l=e._fullLayout,s=n.vals,c=n.containerStr,u=c?a.nestedProperty(t,c).get():t,f=i(u),d=!1!==f.auto,p=f.min,$=f.max,h=f.mid,g=function(){return a.aggNums(Math.min,null,s)},v=function(){return a.aggNums(Math.max,null,s)};void 0===p?p=g():d&&(p=u._colorAx&&r(p)?Math.min(p,g()):g()),void 0===$?$=v():d&&($=u._colorAx&&r($)?Math.max($,v()):v()),d&&void 0!==h&&($-h>h-p?p=h-($-h):$-h<h-p&&($=h+(h-p))),p===$&&(p-=.5,$+=.5),f._sync("min",p),f._sync("max",$),f.autocolorscale&&(o=p*$<0?l.colorscale.diverging:p>=0?l.colorscale.sequential:l.colorscale.sequentialminus,f._sync("colorscale",o))}},{"../../lib":202,"./helpers":86,"fast-isnumeric":11}],84:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./helpers").hasColorscale,i=e("./helpers").extractOpts;t.exports=function(e,t){function n(e,t){var n=e["_"+t];void 0!==n&&(e[t]=n)}function o(e,a){var o=a.container?r.nestedProperty(e,a.container).get():e;if(o){if(o.coloraxis)o._colorAx=t[o.coloraxis];else{var l=i(o),s=l.auto;(s||void 0===l.min)&&n(o,a.min),(s||void 0===l.max)&&n(o,a.max),l.autocolorscale&&n(o,"colorscale")}}}for(var l=0;l<e.length;l++){var s=e[l],c=s._module.colorbar;if(c){if(Array.isArray(c))for(var u=0;u<c.length;u++)o(s,c[u]);else o(s,c)}a(s,"marker.line")&&o(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in t._colorAxes)o(t[f],{min:"cmin",max:"cmax"})}},{"../../lib":202,"./helpers":86}],85:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../colorbar/has_colorbar"),o=e("../colorbar/defaults"),l=e("./scales").isValid,s=e("../../registry").traceIs;function c(e,t){var n=t.slice(0,t.length-1);return t?a.nestedProperty(e,n).get()||{}:e}t.exports=function e(t,n,u,f,d){var p=d.prefix,$=d.cLetter,h="_module"in n,g=c(t,p),v=c(n,p),m=c(n._template||{},p)||{},y=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,u,f,d)};if(h){var _=u._colorAxes||{},x=f(p+"coloraxis");if(x){var b=s(n,"contour")&&a.nestedProperty(n,"contours.coloring").get()||"heatmap",w=_[x];return void(w?(w[2].push(y),w[0]!==b&&(w[0]=!1,a.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):_[x]=[b,n,[y]])}}var k=g[$+"min"],T=g[$+"max"],A=r(k)&&r(T)&&k<T;f(p+$+"auto",!A)?f(p+$+"mid"):(f(p+$+"min"),f(p+$+"max"));var L,C,S=g.colorscale,M=m.colorscale;void 0!==S&&(L=!l(S)),void 0!==M&&(L=!l(M)),f(p+"autocolorscale",L),f(p+"colorscale"),f(p+"reversescale"),"marker.line."!==p&&(p&&h&&(C=i(g)),f(p+"showscale",C)&&(p&&m&&(v._template=m),o(g,v,u)))}},{"../../lib":202,"../../registry":290,"../colorbar/defaults":78,"../colorbar/has_colorbar":80,"./scales":90,"fast-isnumeric":11}],86:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),i=e("fast-isnumeric"),o=e("../../lib"),l=e("../color"),s=e("./scales").isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],u=["min","max","mid","auto"];function f(e){var t,n,r,a,i=e._colorAx,o=i||e,l={};for(r=0;r<c.length;r++)l[a=c[r]]=o[a];if(i)for(n="c",r=0;r<u.length;r++)l[a=u[r]]=o["c"+a];else{for(r=0;r<u.length;r++)((t="c"+(a=u[r]))in o||(t="z"+a)in o)&&(l[a]=o[t]);n=t.charAt(0)}return l._sync=function(e,t){var r=-1!==u.indexOf(e)?n+e:e;o[r]=o["_"+r]=t},l}function d(e){for(var t=f(e),n=t.min,r=t.max,a=t.reversescale?p(t.colorscale):t.colorscale,i=a.length,o=Array(i),l=Array(i),s=0;s<i;s++){var c=a[s];o[s]=n+c[0]*(r-n),l[s]=c[1]}return{domain:o,range:l}}function p(e){for(var t=e.length,n=Array(t),r=t-1,a=0;r>=0;r--,a++){var i=e[r];n[a]=[1-i[0],i[1]]}return n}function $(e,t){t=t||{};for(var n=e.domain,o=e.range,s=o.length,c=Array(s),u=0;u<s;u++){var f=a(o[u]).toRgb();c[u]=[f.r,f.g,f.b,f.a]}var d,p=r.scale.linear().domain(n).range(c).clamp(!0),$=t.noNumericCheck,g=t.returnArray;return(d=$&&g?p:$?function(e){return h(p(e))}:g?function(e){return i(e)?p(e):a(e).isValid()?e:l.defaultLine}:function(e){return i(e)?h(p(e)):a(e).isValid()?e:l.defaultLine}).domain=p.domain,d.range=function(){return o},d}function h(e){return a({r:e[0],g:e[1],b:e[2],a:e[3]}).toRgbString()}t.exports={hasColorscale:function(e,t,n){var r=t?o.nestedProperty(e,t).get()||{}:e,a=r[n||"color"],l=!1;if(o.isArrayOrTypedArray(a)){for(var c=0;c<a.length;c++)if(i(a[c])){l=!0;break}}return o.isPlainObject(r)&&(l||!0===r.showscale||i(r.cmin)&&i(r.cmax)||s(r.colorscale)||o.isPlainObject(r.colorbar))},extractOpts:f,extractScale:d,flipScale:p,makeColorScaleFunc:$,makeColorScaleFuncFromTrace:function(e,t){return $(d(e),t)}}},{"../../lib":202,"../color":75,"./scales":90,d3:9,"fast-isnumeric":11,tinycolor2:58}],87:[function(e,t,n){"use strict";var r=e("./scales"),a=e("./helpers");t.exports={moduleType:"component",name:"colorscale",attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyLayoutDefaults:e("./layout_defaults"),handleDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:a.hasColorscale,extractOpts:a.extractOpts,extractScale:a.extractScale,flipScale:a.flipScale,makeColorScaleFunc:a.makeColorScaleFunc,makeColorScaleFuncFromTrace:a.makeColorScaleFuncFromTrace}},{"./attributes":82,"./calc":83,"./cross_trace_defaults":84,"./defaults":85,"./helpers":86,"./layout_attributes":88,"./layout_defaults":89,"./scales":90}],88:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,a=e("./attributes"),i=e("./scales").scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},a("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":196,"./attributes":82,"./scales":90}],89:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/plot_template"),i=e("./layout_attributes"),o=e("./defaults");t.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var l,s,c=t._colorAxes;function u(e,t){return r.coerce(l,s,i.coloraxis,e,t)}for(var f in c){var d=c[f];if(d[0])l=e[f]||{},(s=a.newContainer(t,f,"coloraxis"))._name=f,o(l,s,t,u,{prefix:"",cLetter:"c"});else{for(var p=0;p<d[2].length;p++)d[2][p]();delete t._colorAxes[f]}}}},{"../../lib":202,"../../plot_api/plot_template":237,"./defaults":85,"./layout_attributes":88}],90:[function(e,t,n){"use strict";var r=e("tinycolor2"),a={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=a.RdBu;function o(e){var t=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var a=e[n];if(2!==a.length||+a[0]<t||!r(a[1]).isValid())return!1;t=+a[0]}return!0}t.exports={scales:a,defaultScale:i,get:function(e,t){if(t||(t=i),!e)return t;function n(){try{e=a[e]||JSON.parse(e)}catch(n){e=t}}return"string"==typeof e&&(n(),"string"==typeof e&&n()),o(e)?e:t},isValid:function(e){return void 0!==a[e]||o(e)}}},{tinycolor2:58}],91:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,a){var i=(e-n)/(r-n),o=i+t/(r-n),l=(i+o)/2;return"left"===a||"bottom"===a?i:"center"===a||"middle"===a?l:"right"===a||"top"===a?o:i<2/3-l?i:o>4/3-l?o:l}},{}],92:[function(e,t,n){"use strict";var r=e("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,i){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),a[t="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*t),0,2)][e]}},{"../../lib":202}],93:[function(e,t,n){"use strict";n.selectMode=function(e){return"lasso"===e||"select"===e},n.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.openMode=function(e){return"drawline"===e||"drawopenpath"===e},n.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},n.selectingOrDrawing=function(e){return n.freeMode(e)||n.rectMode(e)}},{}],94:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),a=e("has-hover"),i=e("has-passive-events"),o=e("../../lib").removeElement,l=e("../../plots/cartesian/constants"),s=t.exports={};s.align=e("./align"),s.getCursor=e("./cursor");var c=e("./unhover");function u(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}s.unhover=c.wrapped,s.unhoverRaw=c.raw,s.init=function(e){var t,n,r,c,d,p,$,h,g=e.gd,v=1,m=g._context.doubleClickDelay,y=e.element;g._mouseDownTime||(g._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=x,i?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=x,y.addEventListener("touchstart",x,{passive:!1})):y.ontouchstart=x;var _=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function x(i){g._dragged=!1,g._dragging=!0;var o=f(i);t=o[0],n=o[1],$=i.target,p=i,h=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=t,i.clientY=n),(r=(new Date).getTime())-g._mouseDownTime<m?v+=1:(v=1,g._mouseDownTime=r),e.prepFn&&e.prepFn(i,t,n),a&&!h?(d=u()).style.cursor=window.getComputedStyle(y).cursor:a||(d=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",w),document.addEventListener("touchend",w),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",b),document.addEventListener("touchmove",b,{passive:!1}))}function b(r){r.preventDefault();var a=f(r),i=e.minDrag||l.MINDRAG,o=_(a[0]-t,a[1]-n,i),c=o[0],u=o[1];(c||u)&&(g._dragged=!0,s.unhover(g)),g._dragged&&e.moveFn&&!h&&(g._dragdata={element:y,dx:c,dy:u},e.moveFn(c,u))}function w(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",b)),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w),a?o(d):c&&(d.documentElement.style.cursor=c,c=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>m&&(v=Math.max(v-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(v,p),!h){var n;try{n=new MouseEvent("click",t)}catch(r){var i=f(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,i[0],i[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}$.dispatchEvent(n)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},s.coverSlip=u},{"../../lib":202,"../../plots/cartesian/constants":254,"./align":91,"./cursor":92,"./unhover":95,"has-hover":42,"has-passive-events":43,"mouse-event-offset":47}],95:[function(e,t,n){"use strict";var r=e("../../lib/events"),a=e("../../lib/throttle"),i=e("../../lib/dom").getGraphDiv,o=e("../fx/constants"),l=t.exports={};l.wrapped=function(e,t,n){(e=i(e))._fullLayout&&a.clear(e._fullLayout._uid+o.HOVERID),l.raw(e,t,n)},l.raw=function(e,t){var n=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},{"../../lib/dom":194,"../../lib/events":195,"../../lib/throttle":225,"../fx/constants":109}],96:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],97:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../registry"),l=e("../color"),s=e("../colorscale"),c=e("../../lib"),u=c.strTranslate,f=e("../../lib/svg_text_utils"),d=e("../../constants/xmlns_namespaces"),p=e("../../constants/alignment").LINE_SPACING,$=e("../../constants/interactions").DESELECTDIM,h=e("../../traces/scatter/subtypes"),g=e("../../traces/scatter/make_bubble_size_func"),v=e("../../components/fx/helpers").appendArrayPointValue,m=t.exports={};m.font=function(e,t,n,r){c.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(l.fill,r)},m.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},m.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},m.setRect=function(e,t,n,r,a){e.call(m.setPosition,t,n).call(m.setSize,r,a)},m.translatePoint=function(e,t,n,r){var i=n.c2p(e.x),o=r.c2p(e.y);return!!(a(i)&&a(o)&&t.node())&&("text"===t.node().nodeName?t.attr("x",i).attr("y",o):t.attr("transform",u(i,o)),!0)},m.translatePoints=function(e,t,n){e.each(function(e){var a=r.select(this);m.translatePoint(e,a,t,n)})},m.hideOutsideRangePoint=function(e,t,n,r,a,i){t.attr("display",n.isPtWithinRange(e,a)&&r.isPtWithinRange(e,i)?null:"none")},m.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,a=t.yaxis;e.each(function(t){var i=t[0].trace,l=i.xcalendar,s=i.ycalendar,c=o.traceIs(i,"bar-like")?".bartext":".point,.textpoint";e.selectAll(c).each(function(e){m.hideOutsideRangePoint(e,r.select(this),n,a,l,s)})})}},m.crispRound=function(e,t,n){return t&&a(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},m.singleLineStyle=function(e,t,n,r,a){t.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{},o=n||i.width||0,s=a||i.dash||"";l.stroke(t,r||i.color),m.dashLine(t,s,o)},m.lineGroupStyle=function(e,t,n,a){e.style("fill","none").each(function(e){var i=(((e||[])[0]||{}).trace||{}).line||{},o=t||i.width||0,s=a||i.dash||"";r.select(this).call(l.stroke,n||i.color).call(m.dashLine,s,o)})},m.dashLine=function(e,t,n){n=+n||0,t=m.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},m.dashStyle=function(e,t){var n=Math.max(t=+t||1,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},m.singleFillStyle=function(e){var t=(((r.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;t&&e.call(l.fill,t)},m.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(e){var t=r.select(this);e[0].trace&&t.call(l.fill,e[0].trace.fillcolor)})};var y=e("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(y).forEach(function(e){var t=y[e],n=t.n;m.symbolList.push(n,String(n),e,n+100,String(n+100),e+"-open"),m.symbolNames[n]=e,m.symbolFuncs[n]=t.f,t.needLine&&(m.symbolNeedLines[n]=!0),t.noDot?m.symbolNoDot[n]=!0:m.symbolList.push(n+200,String(n+200),e+"-dot",n+300,String(n+300),e+"-open-dot"),t.noFill&&(m.symbolNoFill[n]=!0)});var _=m.symbolNames.length;function x(e,t){return m.symbolFuncs[e%100](t)+(e>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(e){if(a(e))e=+e;else if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=m.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=_||e>=400?0:Math.floor(Math.max(e,0))};var b={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0},k=r.format("~.1f"),T={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:w},verticalreversed:{node:"linearGradient",attrs:w,reversed:!0}};m.gradient=function(e,t,n,a,o,s){for(var u=o.length,f=T[a],d=Array(u),p=0;p<u;p++)f.reversed?d[u-1-p]=[k(100*(1-o[p][0])),o[p][1]]:d[p]=[k(100*o[p][0]),o[p][1]];var $=t._fullLayout,h="g"+$._uid+"-"+n,g=$._defs.select(".gradients").selectAll("#"+h).data([a+d.join(";")],c.identity);g.exit().remove(),g.enter().append(f.node).each(function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",h);var t=e.selectAll("stop").data(d);t.exit().remove(),t.enter().append("stop"),t.each(function(e){var t=i(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":l.tinyRGB(t),"stop-opacity":t.getAlpha()})})}),e.style(s,z(h,t)).style(s+"-opacity",null);var v=function(e){return"."+e.attr("class").replace(/\s/g,".")},m=v(r.select(e.node().parentNode))+">"+v(e);$._gradientUrlQueryParts[m]=1},m.initGradients=function(e){var t=e._fullLayout;c.ensureSingle(t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t._gradientUrlQueryParts={}},m.pointStyle=function(e,t,n){if(e.size()){var a=m.makePointStyleFns(t);e.each(function(e){m.singlePointStyle(e,r.select(this),t,a,n)})}},m.singlePointStyle=function(e,t,n,r,a){var i=n.marker,o=i.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?i.opacity:e.mo),r.ms2mrc){s="various"===e.ms||"various"===i.size?3:r.ms2mrc(e.ms),e.mrc=s,r.selectedSizeFn&&(s=e.mrc=r.selectedSizeFn(e));var s,u=m.symbolNumber(e.mx||i.symbol)||0;e.om=u%200>=100,t.attr("d",x(u,s))}var f,d,p,$=!1;if(e.so)p=o.outlierwidth,d=o.outliercolor,f=i.outliercolor;else{var h=(o||{}).width;p=(e.mlw+1||h+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,d="mlc"in e?e.mlcc=r.lineScale(e.mlc):c.isArrayOrTypedArray(o.color)?l.defaultLine:o.color,c.isArrayOrTypedArray(i.color)&&(f=l.defaultLine,$=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):i.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(l.stroke,f).style({"stroke-width":(p||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:p)+"px");var g=i.gradient,v=e.mgt;if(v?$=!0:v=g&&g.type,Array.isArray(v)&&(T[v=v[0]]||(v=0)),v&&"none"!==v){var y=e.mgc;y?$=!0:y=g.color;var _=n.uid;$&&(_+="-"+e.i),m.gradient(t,a,_,v,[[0,y],[1,f]],"fill")}else l.fill(t,f);p&&l.stroke(t,d)}},m.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=m.tryColorscale(n,""),t.lineScale=m.tryColorscale(n,"line"),o.traceIs(e,"symbols")&&(t.ms2mrc=h.isBubble(e)?g(e):function(){return(n.size||6)/2}),e.selectedpoints&&c.extendFlat(t,m.makeSelectedPointStyleFns(e)),t},m.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},a=e.marker||{},i=n.marker||{},l=r.marker||{},s=a.opacity,u=i.opacity,f=l.opacity,d=void 0!==u,p=void 0!==f;(c.isArrayOrTypedArray(s)||d||p)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?a.opacity:e.mo;return e.selected?d?u:t:p?f:$*t});var h=a.color,g=i.color,v=l.color;(g||v)&&(t.selectedColorFn=function(e){var t=e.mcc||h;return e.selected?g||t:v||t});var m=a.size,y=i.size,_=l.size,x=void 0!==y,b=void 0!==_;return o.traceIs(e,"symbols")&&(x||b)&&(t.selectedSizeFn=function(e){var t=e.mrc||m/2;return e.selected?x?y/2:t:b?_/2:t}),t},m.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},a=e.textfont||{},i=n.textfont||{},o=r.textfont||{},s=a.color,c=i.color,u=o.color;return t.selectedTextColorFn=function(e){var t=e.tc||s;return e.selected?c||t:u||(c?t:l.addOpacity(t,$))},t},m.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=m.makeSelectedPointStyleFns(t),a=t.marker||{},i=[];n.selectedOpacityFn&&i.push(function(e,t){e.style("opacity",n.selectedOpacityFn(t))}),n.selectedColorFn&&i.push(function(e,t){l.fill(e,n.selectedColorFn(t))}),n.selectedSizeFn&&i.push(function(e,t){var r=t.mx||a.symbol||0,i=n.selectedSizeFn(t);e.attr("d",x(m.symbolNumber(r),i)),t.mrc2=i}),i.length&&e.each(function(e){for(var t=r.select(this),n=0;n<i.length;n++)i[n](t,e)})}},m.tryColorscale=function(e,t){var n=t?c.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&c.isArrayOrTypedArray(r))return s.makeColorScaleFuncFromTrace(n)}return c.identity};var A={start:1,end:-1,middle:0,bottom:1,top:-1};function L(e,t,n,a){var i=r.select(e.node().parentNode),o=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",l=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",s=a?a/.8+1:0,c=(f.lineCount(e)-1)*p+1,d=A[l]*s,$=.75*n+A[o]*s+(A[o]-1)*c*n/2;e.attr("text-anchor",l),i.attr("transform",u(d,$))}function C(e,t){var n=e.ts||t.textfont.size;return a(n)&&n>0?n:0}function S(e,t,n,a){var i=e[0]-t[0],o=e[1]-t[1],l=n[0]-t[0],s=n[1]-t[1],c=Math.pow(i*i+o*o,.25),u=Math.pow(l*l+s*s,.25),f=(u*u*i-c*c*l)*a,d=(u*u*o-c*c*s)*a,p=3*u*(c+u),$=3*c*(c+u);return[[r.round(t[0]+(p&&f/p),2),r.round(t[1]+(p&&d/p),2)],[r.round(t[0]-($&&f/$),2),r.round(t[1]-($&&d/$),2)]]}m.textPointStyle=function(e,t,n){if(e.size()){if(t.selectedpoints){var a;a=m.makeSelectedTextStyleFns(t).selectedTextColorFn}var i=t.texttemplate,o=n._fullLayout;e.each(function(e){var l=r.select(this),s=i?c.extractOption(e,t,"txt","texttemplate"):c.extractOption(e,t,"tx","text");if(s||0===s){if(i){var u=t._module.formatLabels?t._module.formatLabels(e,t,o):{},d={};v(d,t,e.i);var p=t._meta||{};s=c.texttemplateString(s,u,o._d3locale,d,e,p)}var $=e.tp||t.textposition,h=C(e,t),g=a?a(e):e.tc||t.textfont.color;l.call(m.font,e.tf||t.textfont.family,h,g).text(s).call(f.convertToTspans,n).call(L,$,h,e.mrc)}else l.remove()})}},m.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=m.makeSelectedTextStyleFns(t);e.each(function(e){var a=r.select(this),i=n.selectedTextColorFn(e),o=e.tp||t.textposition,s=C(e,t);l.fill(a,i),L(a,o,s,e.mrc2||e.mrc)})}},m.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],a=[];for(n=1;n<e.length-1;n++)a.push(S(e[n-1],e[n],e[n+1],t));for(r+="Q"+a[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+a[n-2][1]+" "+a[n-1][0]+" "+e[n];return r+("Q"+a[e.length-3][1]+" ")+e[e.length-1]},m.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],a=e.length-1,i=[S(e[a],e[0],e[1],t)];for(n=1;n<a;n++)i.push(S(e[n-1],e[n],e[n+1],t));for(i.push(S(e[a-1],e[a],e[0],t)),n=1;n<=a;n++)r+="C"+i[n-1][1]+" "+i[n][0]+" "+e[n];return r+("C"+i[a][1]+" "+i[0][0]+" "+e[0])+"Z"};var M={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},O=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};m.steps=function(e){var t=M[e]||O;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),a=1;a<e.length;a++)n+=t(e[a-1],e[a]);return n}},m.makeTester=function(){var e=c.ensureSingleById(r.select("body"),"svg","js-plotly-tester",function(e){e.attr(d.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),t=c.ensureSingle(e,"path","js-reference-point",function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=e,m.testref=t},m.savedBBoxes={};var D=0;function P(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function z(e,t){if(!e)return null;var n=t._context;return"url('"+(n._exportedPlot?"":n._baseUrl||"")+"#"+e+"')"}m.bBox=function(e,t,n){if(n||(n=P(e)),n){if(a=m.savedBBoxes[n])return c.extendFlat({},a)}else if(1===e.childNodes.length){var a,i,o,l=e.childNodes[0];if(n=P(l)){var s=+l.getAttribute("x")||0,u=+l.getAttribute("y")||0,d=l.getAttribute("transform");if(!d){var p=m.bBox(l,!1,n);return s&&(p.left+=s,p.right+=s),u&&(p.top+=u,p.bottom+=u),p}if(n+="~"+s+"~"+u+"~"+d,a=m.savedBBoxes[n])return c.extendFlat({},a)}}t?i=e:(o=m.tester.node(),i=e.cloneNode(!0),o.appendChild(i)),r.select(i).attr("transform",null).call(f.positionText,0,0);var $=i.getBoundingClientRect(),h=m.testref.node().getBoundingClientRect();t||o.removeChild(i);var g={height:$.height,width:$.width,left:$.left-h.left,top:$.top-h.top,right:$.right-h.left,bottom:$.bottom-h.top};return D>=1e4&&(m.savedBBoxes={},D=0),n&&(m.savedBBoxes[n]=g),D++,c.extendFlat({},g)},m.setClipUrl=function(e,t,n){e.attr("clip-path",z(t,n))},m.getTranslate=function(e){var t=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+t[0]||0,y:+t[1]||0}},m.setTranslate=function(e,t,n){var r=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",i=e[r]("transform")||"";return t=t||0,n=n||0,i=i.replace(/(\btranslate\(.*?\);?)/,"").trim(),i=(i+=u(t,n)).trim(),e[a]("transform",i),i},m.getScale=function(e){var t=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+t[0]||1,y:+t[1]||1}},m.setScale=function(e,t,n){var r=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",i=e[r]("transform")||"";return t=t||1,n=n||1,i=i.replace(/(\bscale\(.*?\);?)/,"").trim(),i=(i+="scale("+t+","+n+")").trim(),e[a]("transform",i),i};var R=/\s*sc.*/;m.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":"scale("+t+","+n+")";e.each(function(){var e=(this.getAttribute("transform")||"").replace(R,"");e=(e+=r).trim(),this.setAttribute("transform",e)})}};var I=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(e,t,n){e&&e.each(function(){var e,a=r.select(this),i=a.select("text");if(i.node()){var o=parseFloat(i.attr("x")||0),l=parseFloat(i.attr("y")||0),s=(a.attr("transform")||"").match(I);e=1===t&&1===n?[]:[u(o,l),"scale("+t+","+n+")",u(-o,-l)],s&&e.push(s),a.attr("transform",e.join(""))}})}},{"../../components/fx/helpers":111,"../../constants/alignment":177,"../../constants/interactions":180,"../../constants/xmlns_namespaces":182,"../../lib":202,"../../lib/svg_text_utils":224,"../../registry":290,"../../traces/scatter/make_bubble_size_func":347,"../../traces/scatter/subtypes":355,"../color":75,"../colorscale":87,"./symbol_defs":98,d3:9,"fast-isnumeric":11,tinycolor2:58}],98:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,a="l"+t+",-"+t,i="l-"+t+",-"+t,o="l-"+t+","+t;return"M0,"+t+n+a+i+a+i+o+i+o+n+o+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),a=r.round(-e,2),i=r.round(-.309*e,2);return"M"+t+","+i+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+i+"L0,"+a+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M"+a+",-"+n+"V"+n+"L0,"+t+"L-"+a+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+a+"H"+n+"L"+t+",0L"+n+",-"+a+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),a=r.round(.951*t,2),i=r.round(.363*t,2),o=r.round(.588*t,2),l=r.round(-t,2),s=r.round(-.309*t,2),c=r.round(.118*t,2),u=r.round(.809*t,2);return"M"+n+","+s+"H"+a+"L"+i+","+c+"L"+o+","+u+"L0,"+r.round(.382*t,2)+"L-"+o+","+u+"L-"+i+","+c+"L-"+a+","+s+"H-"+n+"L0,"+l+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),a=r.round(.76*e,2);return"M-"+a+",0l-"+n+",-"+t+"h"+a+"l"+n+",-"+t+"l"+n+","+t+"h"+a+"l-"+n+","+t+"l"+n+","+t+"h-"+a+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+a+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),i=r.round(4*e,2),o="A "+i+","+i+" 0 0 1 ";return"M-"+t+","+n+o+t+","+n+o+"0,-"+a+o+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),i=r.round(4*e,2),o="A "+i+","+i+" 0 0 1 ";return"M"+t+",-"+n+o+"-"+t+",-"+n+o+"0,"+a+o+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+a+"-"+t+","+t+a+t+","+t+a+t+",-"+t+a+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+a+"0,"+t+a+t+",0"+a+"0,-"+t+a+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+","+a+"L0,0M"+t+","+a+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+",-"+a+"L0,0M"+t+",-"+a+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M"+a+","+t+"L0,0M"+a+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+a+","+t+"L0,0M-"+a+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L-"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L-"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{d3:9}],99:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],100:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../registry"),i=e("../../plots/cartesian/axes"),o=e("../../lib"),l=e("./compute_error");function s(e,t,n,a){var s=t["error_"+a]||{},c=[];if(s.visible&&-1!==["linear","log"].indexOf(n.type)){for(var u=l(s),f=0;f<e.length;f++){var d=e[f],p=d.i;if(void 0===p)p=f;else if(null===p)continue;var $=d[a];if(r(n.c2l($))){var h=u($,p);if(r(h[0])&&r(h[1])){var g=d[a+"s"]=$-h[0],v=d[a+"h"]=$+h[1];c.push(g,v)}}}var m=n._id,y=t._extremes[m],_=i.findExtremes(n,c,o.extendFlat({tozero:y.opts.tozero},{padded:!0}));y.min=y.min.concat(_.min),y.max=y.max.concat(_.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],o=r[0].trace;if(!0===o.visible&&a.traceIs(o,"errorBarsOK")){var l=i.getFromId(e,o.xaxis),c=i.getFromId(e,o.yaxis);s(r,o,l,"x"),s(r,o,c,"y")}}}},{"../../lib":202,"../../plots/cartesian/axes":248,"../../registry":290,"./compute_error":101,"fast-isnumeric":11}],101:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var a=e.array||[];if(n)return function(e,t){var n=+a[t];return[n,n]};var i=e.arrayminus||[];return function(e,t){var n=+a[t],r=+i[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var o=r(t,e.value),l=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[l(e),o(e)]}}},{}],102:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../registry"),i=e("../../lib"),o=e("../../plot_api/plot_template"),l=e("./attributes");t.exports=function(e,t,n,s){var c="error_"+s.axis,u=o.newContainer(t,c),f=e[c]||{};function d(e,t){return i.coerce(f,u,l,e,t)}if(!1!==d("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var p=d("type","array"in f?"data":"percent"),$=!0;"sqrt"!==p&&($=d("symmetric",!(("data"===p?"arrayminus":"valueminus")in f))),"data"===p?(d("array"),d("traceref"),$||(d("arrayminus"),d("tracerefminus"))):"percent"!==p&&"constant"!==p||(d("value"),$||d("valueminus"));var h="copy_"+s.inherit+"style";s.inherit&&(t["error_"+s.inherit]||{}).visible&&d(h,!(f.color||r(f.thickness)||r(f.width))),s.inherit&&u[h]||(d("color",n),d("thickness"),d("width",a.traceIs(t,"gl3d")?0:4))}}},{"../../lib":202,"../../plot_api/plot_template":237,"../../registry":290,"./attributes":99,"fast-isnumeric":11}],103:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/edit_types").overrideAll,i=e("./attributes"),o={error_x:r.extendFlat({},i),error_y:r.extendFlat({},i)};delete o.error_x.copy_zstyle,delete o.error_y.copy_zstyle,delete o.error_y.copy_ystyle;var l={error_x:r.extendFlat({},i),error_y:r.extendFlat({},i),error_z:r.extendFlat({},i)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:a(l,"calc","nested"),scattergl:a(o,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}}},{"../../lib":202,"../../plot_api/edit_types":230,"./attributes":99,"./calc":100,"./compute_error":101,"./defaults":102,"./plot":104,"./style":105}],104:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../drawing"),o=e("../../traces/scatter/subtypes");t.exports=function(e,t,n,l){var s=n.xaxis,c=n.yaxis,u=l&&l.duration>0;t.each(function(t){var f,d=t[0].trace,p=d.error_x||{},$=d.error_y||{};d.ids&&(f=function(e){return e.id});var h=o.hasMarkers(d)&&d.marker.maxdisplayed>0;$.visible||p.visible||(t=[]);var g=r.select(this).selectAll("g.errorbar").data(t,f);if(g.exit().remove(),t.length){p.visible||g.selectAll("path.xerror").remove(),$.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var v=g.enter().append("g").classed("errorbar",!0);u&&v.style("opacity",0).transition().duration(l.duration).style("opacity",1),i.setClipUrl(g,n.layerClipId,e),g.each(function(e){var t,n,i,o,f=r.select(this),d=(t=e,n=s,i=c,o={x:n.c2p(t.x),y:i.c2p(t.y)},void 0!==t.yh&&(o.yh=i.c2p(t.yh),o.ys=i.c2p(t.ys),a(o.ys)||(o.noYS=!0,o.ys=i.c2p(t.ys,!0))),void 0!==t.xh&&(o.xh=n.c2p(t.xh),o.xs=n.c2p(t.xs),a(o.xs)||(o.noXS=!0,o.xs=n.c2p(t.xs,!0))),o);if(!h||e.vis){var g,v=f.select("path.yerror");if($.visible&&a(d.x)&&a(d.yh)&&a(d.ys)){var m=$.width;g="M"+(d.x-m)+","+d.yh+"h"+2*m+"m-"+m+",0V"+d.ys,d.noYS||(g+="m-"+m+",0h"+2*m),v.size()?u&&(v=v.transition().duration(l.duration).ease(l.easing)):v=f.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),v.attr("d",g)}else v.remove();var y=f.select("path.xerror");if(p.visible&&a(d.y)&&a(d.xh)&&a(d.xs)){var _=(p.copy_ystyle?$:p).width;g="M"+d.xh+","+(d.y-_)+"v"+2*_+"m0,-"+_+"H"+d.xs,d.noXS||(g+="m0,-"+_+"v"+2*_),y.size()?u&&(y=y.transition().duration(l.duration).ease(l.easing)):y=f.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),y.attr("d",g)}else y.remove()}})}})}},{"../../traces/scatter/subtypes":355,"../drawing":97,d3:9,"fast-isnumeric":11}],105:[function(e,t,n){"use strict";var r=e("d3"),a=e("../color");t.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},i=t.error_x||{},o=r.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(a.stroke,n.color),i.copy_ystyle&&(i=n),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(a.stroke,i.color)})}},{"../color":75,d3:9}],106:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("./layout_attributes").hoverlabel,i=e("../../lib/extend").extendFlat;t.exports={hoverlabel:{bgcolor:i({},a.bgcolor,{arrayOk:!0}),bordercolor:i({},a.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:i({},a.align,{arrayOk:!0}),namelength:i({},a.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":196,"../../plots/font_attributes":276,"./layout_attributes":116}],107:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry");function i(e,t,n,a){a=a||r.identity,Array.isArray(e)&&(t[0][n]=a(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function o(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!a.traceIs(c,"pie-like")){var u=a.traceIs(c,"2dMap")?i:r.fillArray;u(c.hoverinfo,s,"hi",o(c)),c.hovertemplate&&u(c.hovertemplate,s,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,s,"hbg"),u(c.hoverlabel.bordercolor,s,"hbc"),u(c.hoverlabel.font.size,s,"hts"),u(c.hoverlabel.font.color,s,"htc"),u(c.hoverlabel.font.family,s,"htf"),u(c.hoverlabel.namelength,s,"hnl"),u(c.hoverlabel.align,s,"hta"))}}}},{"../../lib":202,"../../registry":290}],108:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./hover").hover;t.exports=function(e,t,n){var i=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&a(e,t,n,!0),e._hoverdata&&t&&t.target&&(i&&i.then?i.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":290,"./hover":112}],109:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],110:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes"),i=e("./hoverlabel_defaults");t.exports=function(e,t,n,o){var l=r.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),i(e,t,function(n,i){return r.coerce(e,t,a,n,i)},l)}},{"../../lib":202,"./attributes":106,"./hoverlabel_defaults":113}],111:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],a=e.yaxes||[],i=0;i<r.length;i++)for(var o=0;o<a.length;o++)if(-1!==t.indexOf(r[i]+a[o]))return!0;return!1}return -1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,a){return"closest"===e?a||n.quadrature(t,r):"x"===e.charAt(0)?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var a=t(e[r]);a<=n.distance&&(n.index=r,n.distance=a)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),a=t(n);return Math.sqrt(r*r+a*a)}},n.makeEventData=function(e,t,r){var a="index"in e?e.index:e.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:a};if(t._indexToPoints){var o=t._indexToPoints[a];1===o.length?i.pointIndex=o[0]:i.pointIndices=o}else i.pointIndex=a;return t._module.eventData?i=t._module.eventData(i,e,t,r,a):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),void 0!==e.zLabelVal&&(i.z=e.zLabelVal)),n.appendArrayPointValue(i,t,a),i},n.appendArrayPointValue=function(e,t,n){var a=t._arrayAttrs;if(a)for(var l=0;l<a.length;l++){var s=a[l],c=i(s);if(void 0===e[c]){var u=o(r.nestedProperty(t,s).get(),n);void 0!==u&&(e[c]=u)}}},n.appendArrayMultiPointValues=function(e,t,n){var a=t._arrayAttrs;if(a)for(var l=0;l<a.length;l++){var s=a[l],c=i(s);if(void 0===e[c]){for(var u=r.nestedProperty(t,s).get(),f=Array(n.length),d=0;d<n.length;d++)f[d]=o(u,n[d]);e[c]=f}}};var a={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(e){return a[e]||e}function o(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}var l={x:!0,y:!0},s={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(e){return"string"==typeof e&&!!s[e]},n.isXYhover=function(e){return"string"==typeof e&&!!l[e]}},{"../../lib":202}],112:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../lib"),l=o.strTranslate,s=o.strRotate,c=e("../../lib/events"),u=e("../../lib/svg_text_utils"),f=e("../../lib/override_cursor"),d=e("../drawing"),p=e("../color"),$=e("../dragelement"),h=e("../../plots/cartesian/axes"),g=e("../../registry"),v=e("./helpers"),m=e("./constants"),y=e("../legend/defaults"),_=e("../legend/draw"),x=m.YANGLE,b=Math.PI*x/180,w=1/Math.sin(b),k=Math.cos(b),T=Math.sin(b),A=m.HOVERARROWSIZE,L=m.HOVERTEXTPAD;function C(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}n.hover=function(e,t,n,i){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,function(){!function(e,t,n,i){n||(n="xy");var l=Array.isArray(n)?n:[n],s=e._fullLayout,u=s._plots||[],d=u[n],h=s._has("cartesian");if(d){var m=d.overlays.map(function(e){return e.id});l=l.concat(m)}for(var y=l.length,_=Array(y),x=Array(y),b=!1,k=0;k<y;k++){var T=l[k];if(u[T])b=!0,_[k]=u[T].xaxis,x[k]=u[T].yaxis;else{if(!s[T]||!s[T]._subplot)return void o.warn("Unrecognized subplot: "+T);var A=s[T]._subplot;_[k]=A.xaxis,x[k]=A.yaxis}}var L=t.hovermode||s.hovermode;if(L&&!b&&(L="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(L)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return $.unhoverRaw(e,t);var S,O,I,E,F,N,H,B,V,j,U,q,G,Z=-1===s.hoverdistance?1/0:s.hoverdistance,Y=-1===s.spikedistance?1/0:s.spikedistance,X=[],W=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(L="array",I=0;I<t.length;I++)(F=e.calcdata[t[I].curveNumber||0])&&(N=F[0].trace,"skip"!==F[0].trace.hoverinfo&&(W.push(F),"h"===N.orientation&&(J=!0)));else{for(E=0;E<e.calcdata.length;E++)"skip"!==(N=(F=e.calcdata[E])[0].trace).hoverinfo&&v.isTraceInSubplots(N,l)&&(W.push(F),"h"===N.orientation&&(J=!0));if(t.target){if(!1===c.triggerHandler(e,"plotly_beforehover",t))return;var K,ee,et=t.target.getBoundingClientRect();K=t.clientX-et.left,ee=t.clientY-et.top,s._calcInverseTransform(e);var en=o.apply3DTransform(s._invTransform)(K,ee);if(K=en[0],ee=en[1],K<0||K>_[0]._length||ee<0||ee>x[0]._length)return $.unhoverRaw(e,t)}else K="xpx"in t?t.xpx:_[0]._length/2,ee="ypx"in t?t.ypx:x[0]._length/2;if(t.pointerX=K+_[0]._offset,t.pointerY=ee+x[0]._offset,S="xval"in t?v.flat(l,t.xval):v.p2c(_,K),O="yval"in t?v.flat(l,t.yval):v.p2c(x,ee),!a(S[0])||!a(O[0]))return o.warn("Fx.hover failed",t,e),$.unhoverRaw(e,t)}var er=1/0;function ea(e,n){for(E=0;E<W.length;E++)if((F=W[E])&&F[0]&&F[0].trace&&!0===(N=F[0].trace).visible&&0!==N._length&&-1===["carpet","contourcarpet"].indexOf(N._module.name)){if("splom"===N.type?H=l[B=0]:(H=v.getSubplot(N),B=l.indexOf(H)),V=L,v.isUnifiedHover(V)&&(V=V.charAt(0)),q={cd:F,trace:N,xa:_[B],ya:x[B],maxHoverDistance:Z,maxSpikeDistance:Y,index:!1,distance:Math.min(er,Z),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:N.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[H]&&(q.subplot=s[H]._subplot),s._splomScenes&&s._splomScenes[N.uid]&&(q.scene=s._splomScenes[N.uid]),G=X.length,"array"===V){var r=t[E];"pointNumber"in r?(q.index=r.pointNumber,V="closest"):(V="","xval"in r&&(j=r.xval,V="x"),"yval"in r&&(U=r.yval,V=V?"closest":"y"))}else void 0!==e&&void 0!==n?(j=e,U=n):(j=S[B],U=O[B]);if(0!==Z){if(N._module&&N._module.hoverPoints){var i=N._module.hoverPoints(q,j,U,V,s._hoverlayer);if(i)for(var c,u=0;u<i.length;u++)a((c=i[u]).x0)&&a(c.y0)&&X.push(P(c,L))}else o.log("Unrecognized trace type in hover:",N)}if("closest"===L&&X.length>G&&(X.splice(0,G),er=X[0].distance),h&&0!==Y&&0===X.length){q.distance=Y,q.index=!1;var f=N._module.hoverPoints(q,j,U,"closest",s._hoverlayer);if(f&&(f=f.filter(function(e){return e.spikeDistance<=Y})),f&&f.length){var d,$=f.filter(function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap});if($.length){var g=$[0];a(g.x0)&&a(g.y0)&&(d=eo(g),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>d.spikeDistance)&&(Q.vLinePoint=d))}var m=f.filter(function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap});if(m.length){var y=m[0];a(y.x0)&&a(y.y0)&&(d=eo(y),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>d.spikeDistance)&&(Q.hLinePoint=d))}}}}}function ei(e,t){for(var n,r=null,a=1/0,i=0;i<e.length;i++)(n=e[i].spikeDistance)<=a&&n<=t&&(r=e[i],a=n);return r}function eo(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}ea();var el={fullLayout:s,container:s._hoverlayer,outerContainer:s._paperdiv,event:t},es=e._spikepoints,ec={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=ec,h&&0!==Y&&0!==X.length){var eu=ei(X.filter(function(e){return e.ya.showspikes}),Y);Q.hLinePoint=eo(eu);var ef=ei(X.filter(function(e){return e.xa.showspikes}),Y);Q.vLinePoint=eo(ef)}if(0===X.length){var ed=$.unhoverRaw(e,t);return!h||null===Q.hLinePoint&&null===Q.vLinePoint||R(es)&&z(e,Q,el),ed}if(h&&R(es)&&z(e,Q,el),X.sort(function(e,t){return e.distance-t.distance}),v.isXYhover(V)&&0!==X[0].length&&"splom"!==X[0].trace.type){var ep=X[0],e$=ep.cd[ep.index],eh="group"===s.boxmode||"group"===s.violinmode,eg=ep.xVal,ev=ep.xa;"category"===ev.type&&(eg=ev._categoriesMap[eg]),"date"===ev.type&&(eg=ev.d2c(eg)),e$&&e$.t&&e$.t.posLetter===ev._id&&eh&&(eg+=e$.t.dPos);var em=ep.yVal;"category"===(ev=ep.ya).type&&(em=ev._categoriesMap[em]),"date"===ev.type&&(em=ev.d2c(em)),e$&&e$.t&&e$.t.posLetter===ev._id&&eh&&(em+=e$.t.dPos),ea(eg,em);var ey={};X=X.filter(function(e){var t=C(e);if(!ey[t])return ey[t]=!0,ey[t]})}var e_=e._hoverdata,ex=[];for(I=0;I<X.length;I++){var eb=X[I],e8=v.makeEventData(eb,eb.trace,eb.cd);if(!1!==eb.hovertemplate){var e0=!1;eb.cd[eb.index]&&eb.cd[eb.index].ht&&(e0=eb.cd[eb.index].ht),eb.hovertemplate=e0||eb.trace.hovertemplate||!1}eb.eventData=[e8],ex.push(e8)}e._hoverdata=ex;var ew="y"===L&&(W.length>1||X.length>1)||"closest"===L&&J&&X.length>1,ek={hovermode:L,rotateLabels:ew,bgColor:p.combine(s.plot_bgcolor||p.background,s.paper_bgcolor),container:s._hoverlayer,outerContainer:s._paperdiv,commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance},eT=M(X,ek,e);if(v.isUnifiedHover(L)||(function(e,t,n){var r,a,i,o,l,s,c,u=0,f=1,d=e.size(),p=Array(d),$=0;function h(e){var t=e[0],n=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,i=n.pos+n.dp+n.size-t.pmax,a>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=a;r=!1}if(!(i<.01)){if(a<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;r=!1}if(r){var c=0;for(o=0;o<e.length;o++)(s=e[o]).pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if((s=e[o]).pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}for(e.each(function(e){var r=e[t],a="x"===r._id.charAt(0),i=r.range;0===$&&i&&i[0]>i[1]!==a&&(f=-1),p[$++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(a?w:1)/2,pmin:0,pmax:a?n.width:n.height}]}),p.sort(function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)});!r&&u<=d;){for(u++,r=!0,o=0;o<p.length-1;){var g=p[o],v=p[o+1],m=g[g.length-1],y=v[0];if((a=m.pos+m.dp+m.size-y.pos-y.dp+y.size)>.01&&m.pmin===y.pmin&&m.pmax===y.pmax){for(l=v.length-1;l>=0;l--)v[l].dp+=a;for(g.push.apply(g,v),p.splice(o+1,1),c=0,l=g.length-1;l>=0;l--)c+=g[l].dp;for(i=c/g.length,l=g.length-1;l>=0;l--)g[l].dp-=i;r=!1}else o++}p.forEach(h)}for(o=p.length-1;o>=0;o--){var _=p[o];for(l=_.length-1;l>=0;l--){var x=_[l],b=x.datum;b.offset=x.dp,b.del=x.del}}}(eT,ew?"xa":"ya",s),D(eT,ew,s._invScaleX,s._invScaleY)),t.target&&t.target.tagName){var e1=g.getComponentMethod("annotations","hasClickToShow")(e,ex);f(r.select(t.target),e1?"pointer":"")}t.target&&!i&&function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var a=n[r],i=e._hoverdata[r];if(a.curveNumber!==i.curveNumber||String(a.pointNumber)!==String(i.pointNumber)||String(a.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,e_)&&(e_&&e.emit("plotly_unhover",{event:t,points:e_}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:x,xvals:S,yvals:O}))}(e,t,n,i)})},n.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var a=e.map(function(e){return{color:e.color||p.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}}),i=r.select(t.container),o=t.outerContainer?r.select(t.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||p.background,container:i,outerContainer:o},s=M(a,l,t.gd),c=0,u=0;s.sort(function(e,t){return e.y0-t.y0}).each(function(e,n){var r=e.y0-e.by/2;e.offset=r-5<c?c-r+5:0,c=r+e.by+e.offset,n===t.anchorIndex&&(u=e.offset)}).each(function(e){e.offset-=u});var f=t.gd._fullLayout._invScaleX,d=t.gd._fullLayout._invScaleY;return D(s,l.rotateLabels,f,d),n?s:s.node()};var S=/<extra>([\s\S]*)<\/extra>/;function M(e,t,n){var a=n._fullLayout,i=t.hovermode,c=t.rotateLabels,f=t.bgColor,$=t.container,h=t.outerContainer,g=t.commonLabelOpts||{},b=t.fontFamily||m.HOVERFONT,w=t.fontSize||m.HOVERFONTSIZE,k=e[0],T=k.xa,S=k.ya,M="y"===i.charAt(0)?"yLabel":"xLabel",D=k[M],P=(String(D)||"").split(" ")[0],z=h.node().getBoundingClientRect(),R=z.top,I=z.width,E=z.height,F=void 0!==D&&k.distance<=t.hoverdistance&&("x"===i||"y"===i);if(F){var N,H,B=!0;for(N=0;N<e.length;N++)if(B&&void 0===e[N].zLabel&&(B=!1),H=e[N].hoverinfo||e[N].trace.hoverinfo){var V=Array.isArray(H)?H:H.split("+");if(-1===V.indexOf("all")&&-1===V.indexOf(i)){F=!1;break}}B&&(F=!1)}var j=$.selectAll("g.axistext").data(F?[0]:[]);function U(e){return e.filter(function(e){return void 0!==e.zLabelVal||(e[M]||"").split(" ")[0]===P})}if(j.enter().append("g").classed("axistext",!0),j.exit().remove(),j.each(function(){var t=r.select(this),s=o.ensureSingle(t,"path","",function(e){e.style({"stroke-width":"1px"})}),c=o.ensureSingle(t,"text","",function(e){e.attr("data-notex",1)}),f=g.bgcolor||p.defaultLine,$=g.bordercolor||p.contrast(f),h=p.contrast(f),v={family:g.font.family||b,size:g.font.size||w,color:g.font.color||h};s.style({fill:f,stroke:$}),c.text(D).call(d.font,v).call(u.positionText,0,0).call(u.convertToTspans,n),t.attr("transform","");var m,y,_=c.node().getBoundingClientRect();if("x"===i){var x="top"===T.side?"-":"";c.attr("text-anchor","middle").call(u.positionText,0,"top"===T.side?R-_.bottom-A-L:R-_.top+A+L),m=T._offset+(k.x0+k.x1)/2,y=S._offset+("top"===T.side?0:S._length);var C=_.width/2+L;m<C?(m=C,s.attr("d","M-"+(C-A)+",0L-"+(C-2*A)+","+x+A+"H"+(L+_.width/2)+"v"+x+(2*L+_.height)+"H-"+C+"V"+x+A+"Z")):m>a.width-C?(m=a.width-C,s.attr("d","M"+(C-A)+",0L"+C+","+x+A+"v"+x+(2*L+_.height)+"H-"+C+"V"+x+A+"H"+(C-2*A)+"Z")):s.attr("d","M0,0L"+A+","+x+A+"H"+(L+_.width/2)+"v"+x+(2*L+_.height)+"H-"+(L+_.width/2)+"V"+x+A+"H-"+A+"Z")}else{"right"===S.side?(M="start",O=1,P="",m=T._offset+T._length):(M="end",O=-1,P="-",m=T._offset),y=S._offset+(k.y0+k.y1)/2,c.attr("text-anchor",M),s.attr("d","M0,0L"+P+A+","+A+"V"+(L+_.height/2)+"h"+P+(2*L+_.width)+"V-"+(L+_.height/2)+"H"+P+A+"V-"+A+"Z");var M,O,P,z,I=_.height/2,E=R-_.top-I,F="clip"+a._uid+"commonlabel"+S._id;if(m<_.width+2*L+A){z="M-"+(A+L)+"-"+I+"h-"+(_.width-L)+"V"+I+"h"+(_.width-L)+"Z";var N=_.width-m+L;u.positionText(c,N,E),"end"===M&&c.selectAll("tspan").each(function(){var e=r.select(this),t=d.tester.append("text").text(e.text()).call(d.font,v),n=t.node().getBoundingClientRect();Math.round(n.width)<Math.round(_.width)&&e.attr("x",N-n.width),t.remove()})}else u.positionText(c,O*(L+A),E),z=null;var H=a._topclips.selectAll("#"+F).data(z?[0]:[]);H.enter().append("clipPath").attr("id",F).append("path"),H.exit().remove(),H.select("path").attr("d",z),d.setClipUrl(c,z?F:null,n)}t.attr("transform",l(m,y)),e=U(e)}),v.isUnifiedHover(i)){if($.selectAll("g.hovertext").remove(),void 0!==D&&k.distance<=t.hoverdistance&&(e=U(e)),0===e.length)return;var q={showlegend:!0,legend:{title:{text:D,font:a.hoverlabel.font},font:a.hoverlabel.font,bgcolor:a.hoverlabel.bgcolor,bordercolor:a.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:a.legend?a.legend.traceorder:void 0,orientation:"v"}},G={};y(q,G,n._fullData);var Z=G.legend;Z.entries=[];for(var Y=0;Y<e.length;Y++){var X=O(e[Y],!0,i,a,D),W=X[0],Q=X[1],J=e[Y];J.name=Q,J.text=""!==Q?Q+" : "+W:W;var K=J.cd[J.index];K&&(K.mc&&(J.mc=K.mc),K.mcc&&(J.mc=K.mcc),K.mlc&&(J.mlc=K.mlc),K.mlcc&&(J.mlc=K.mlcc),K.mlw&&(J.mlw=K.mlw),K.mrc&&(J.mrc=K.mrc),K.dir&&(J.dir=K.dir)),J._distinct=!0,Z.entries.push([J])}Z.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index}),Z.layer=$,_(n,Z);var ee=o.mean(e.map(function(e){return(e.y0+e.y1)/2})),et=o.mean(e.map(function(e){return(e.x0+e.x1)/2})),en=$.select("g.legend"),er=en.node().getBoundingClientRect();et+=T._offset,ee+=S._offset-er.height/2;var ea=er.width+2*L;!(et+ea<=I)&&et-ea>=0?et-=ea:et+=2*L;var ei=er.height+2*L,eo=ee+ei>=E;return ei<=E&&(ee<=R?ee=S._offset+2*L:eo&&(ee=E-ei)),en.attr("transform",l(et,ee)),en}var el=$.selectAll("g.hovertext").data(e,function(e){return C(e)});return el.enter().append("g").classed("hovertext",!0).each(function(){var e=r.select(this);e.append("rect").call(p.fill,p.addOpacity(f,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,b,w)}),el.exit().remove(),el.each(function(e){var t=r.select(this).attr("transform",""),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var $=e.bgcolor||o,h=p.combine(p.opacity($)?$:p.defaultLine,f),g=p.combine(p.opacity(o)?o:p.defaultLine,f),v=e.borderColor||p.contrast(h),m=O(e,F,i,a,D,t),y=m[0],_=m[1],k=t.select("text.nums").call(d.font,e.fontFamily||b,e.fontSize||w,e.fontColor||v).text(y).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,n),T=t.select("text.name"),C=0,S=0;if(_&&_!==y){T.call(d.font,e.fontFamily||b,e.fontSize||w,g).text(_).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,n);var M=T.node().getBoundingClientRect();C=M.width+2*L,S=M.height+2*L}else T.remove(),t.select("rect").remove();t.select("path").style({fill:h,stroke:v});var P,z,N=k.node().getBoundingClientRect(),H=e.xa._offset+(e.x0+e.x1)/2,B=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),j=Math.abs(e.y1-e.y0),U=N.width+A+L+C;if(e.ty0=R-N.top,e.bx=N.width+2*L,e.by=Math.max(N.height+2*L,S),e.anchor="start",e.txwidth=N.width,e.tx2width=C,e.offset=0,c)e.pos=H,P=B+j/2+U<=E,z=B-j/2-U>=0,"top"!==e.idealAlign&&P||!z?P?(B+=j/2,e.anchor="start"):e.anchor="middle":(B-=j/2,e.anchor="end");else if(e.pos=B,P=H+V/2+U<=I,z=H-V/2-U>=0,"left"!==e.idealAlign&&P||!z){if(P)H+=V/2,e.anchor="start";else{e.anchor="middle";var q=U/2,G=H+q-I,Z=H-q;G>0&&(H-=G),Z<0&&(H+=-Z)}}else H-=V/2,e.anchor="end";k.attr("text-anchor",e.anchor),C&&T.attr("text-anchor",e.anchor),t.attr("transform",l(H,B)+(c?s(x):""))}),el}function O(e,t,n,r,a,i){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),l=I(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[n.charAt(0)+"Label"]===a?s=e[("x"===n.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),i&&""===s&&!e.hovertemplate&&(""===l&&i.remove(),s=l);var c=r._d3locale,u=e.hovertemplate||!1,f=e.hovertemplateLabels||e,d=e.eventData[0]||{};return u&&(s=(s=o.hovertemplateString(u,f,c,d,e.trace._meta)).replace(S,function(t,n){return l=I(n,e.nameLength),""})),[s,l]}function D(e,t,n,a){var i=function(e){return e*n},o=function(e){return e*a};e.each(function(e){var n=r.select(this);if(e.del)return n.remove();var a=n.select("text.nums"),l=e.anchor,s="end"===l?-1:1,c={start:1,end:-1,middle:0}[l],f=c*(A+L),p=f+c*(e.txwidth+L),$=0,h=e.offset,g="middle"===l;g&&(f-=e.tx2width/2,p+=e.txwidth/2+L),t&&(h*=-T,$=e.offset*k),n.select("path").attr("d",g?"M-"+i(e.bx/2+e.tx2width/2)+","+o(h-e.by/2)+"h"+i(e.bx)+"v"+o(e.by)+"h-"+i(e.bx)+"Z":"M0,0L"+i(s*A+$)+","+o(A+h)+"v"+o(e.by/2-A)+"h"+i(s*e.bx)+"v-"+o(e.by)+"H"+i(s*A+$)+"V"+o(h-A)+"Z");var v=$+f,m=h+e.ty0-e.by/2+L,y=e.textAlign||"auto";"auto"!==y&&("left"===y&&"start"!==l?(a.attr("text-anchor","start"),v=g?-e.bx/2-e.tx2width/2+L:-e.bx-L):"right"===y&&"end"!==l&&(a.attr("text-anchor","end"),v=g?e.bx/2-e.tx2width/2-L:e.bx+L)),a.call(u.positionText,i(v),o(m)),e.tx2width&&(n.select("text.name").call(u.positionText,i(p+c*L+$),o(h+e.ty0-e.by/2+L)),n.select("rect").call(d.setRect,i(p+(c-1)*e.tx2width/2+$),o(h-e.by/2-1),i(e.tx2width),o(e.by+2)))})}function P(e,t){var n=e.index,r=e.trace||{},i=e.cd[0],l=e.cd[n]||{};function s(e){return e||a(e)&&0===e}var c=Array.isArray(n)?function(e,t){var a=o.castOption(i,n,e);return s(a)?a:o.extractOption({},r,"",t)}:function(e,t){return o.extractOption(l,r,e,t)};function u(t,n,r){var a=c(n,r);s(a)&&(e[t]=a)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:h.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:h.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var f=h.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+h.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xb1 "+f,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=h.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+h.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xb1 "+d,"y"===t&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return p&&"all"!==p&&(-1===(p=Array.isArray(p)?p:p.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===p.indexOf("y")&&(e.yLabel=void 0),-1===p.indexOf("z")&&(e.zLabel=void 0),-1===p.indexOf("text")&&(e.text=void 0),-1===p.indexOf("name")&&(e.name=void 0)),e}function z(e,t,n){var r,a,o=n.container,l=n.fullLayout,s=l._size,c=n.event,u=!!t.hLinePoint,f=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),f||u){var $=p.combine(l.plot_bgcolor,l.paper_bgcolor);if(u){var g,v,m=t.hLinePoint;r=m&&m.xa,"cursor"===(a=m&&m.ya).spikesnap?(g=c.pointerX,v=c.pointerY):(g=r._offset+m.x,v=a._offset+m.y);var y,_,x=1.5>i.readability(m.color,$)?p.contrast($):m.color,b=a.spikemode,w=a.spikethickness,k=a.spikecolor||x,T=h.getPxPosition(e,a);if(-1!==b.indexOf("toaxis")||-1!==b.indexOf("across")){if(-1!==b.indexOf("toaxis")&&(y=T,_=g),-1!==b.indexOf("across")){var A=a._counterDomainMin,L=a._counterDomainMax;"free"===a.anchor&&(A=Math.min(A,a.position),L=Math.max(L,a.position)),y=s.l+A*s.w,_=s.l+L*s.w}o.insert("line",":first-child").attr({x1:y,x2:_,y1:v,y2:v,"stroke-width":w,stroke:k,"stroke-dasharray":d.dashStyle(a.spikedash,w)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:y,x2:_,y1:v,y2:v,"stroke-width":w+2,stroke:$}).classed("spikeline",!0).classed("crisp",!0)}-1!==b.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T+("right"!==a.side?w:-w),cy:v,r:w,fill:k}).classed("spikeline",!0)}if(f){var C,S,M=t.vLinePoint;r=M&&M.xa,a=M&&M.ya,"cursor"===r.spikesnap?(C=c.pointerX,S=c.pointerY):(C=r._offset+M.x,S=a._offset+M.y);var O,D,P=1.5>i.readability(M.color,$)?p.contrast($):M.color,z=r.spikemode,R=r.spikethickness,I=r.spikecolor||P,E=h.getPxPosition(e,r);if(-1!==z.indexOf("toaxis")||-1!==z.indexOf("across")){if(-1!==z.indexOf("toaxis")&&(O=E,D=S),-1!==z.indexOf("across")){var F=r._counterDomainMin,N=r._counterDomainMax;"free"===r.anchor&&(F=Math.min(F,r.position),N=Math.max(N,r.position)),O=s.t+(1-N)*s.h,D=s.t+(1-F)*s.h}o.insert("line",":first-child").attr({x1:C,x2:C,y1:O,y2:D,"stroke-width":R,stroke:I,"stroke-dasharray":d.dashStyle(r.spikedash,R)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:C,x2:C,y1:O,y2:D,"stroke-width":R+2,stroke:$}).classed("spikeline",!0).classed("crisp",!0)}-1!==z.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:C,cy:E-("top"!==r.side?R:-R),r:R,fill:I}).classed("spikeline",!0)}}}function R(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function I(e,t){return u.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},{"../../lib":202,"../../lib/events":195,"../../lib/override_cursor":213,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../registry":290,"../color":75,"../dragelement":94,"../drawing":97,"../legend/defaults":127,"../legend/draw":128,"./constants":109,"./helpers":111,d3:9,"fast-isnumeric":11,tinycolor2:58}],113:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../color"),i=e("./helpers").isUnifiedHover;t.exports=function(e,t,n,o){function l(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&i(t.hovermode)&&(o.font||(o.font={}),l("size"),l("family"),l("color"),t.legend?(o.bgcolor||(o.bgcolor=a.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",o.bgcolor),n("hoverlabel.bordercolor",o.bordercolor),n("hoverlabel.namelength",o.namelength),r.coerceFont(n,"hoverlabel.font",o.font),n("hoverlabel.align",o.align)}},{"../../lib":202,"../color":75,"./helpers":111}],114:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n){function i(n,i){return void 0!==t[n]?t[n]:r.coerce(e,t,a,n,i)}var o,l=i("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?o="closest":(t._isHoriz=function(e,t){for(var n=t._scatterStackOpts||{},r=0;r<e.length;r++){var a=e[r],i=(n[a.xaxis+a.yaxis]||{})[a.stackgroup]||{};if("h"!==a.orientation&&"h"!==i.orientation)return!1}return!0}(n,t),o=t._isHoriz?"y":"x"):o="closest",i("hovermode",o)}},{"../../lib":202,"./layout_attributes":116}],115:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../lib"),i=e("../dragelement"),o=e("./helpers"),l=e("./layout_attributes"),s=e("./hover");t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:l},attributes:e("./attributes"),layoutAttributes:l,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:function(e,t,n){return a.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return a.castOption(e,n,"hoverinfo",function(n){return a.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)})},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=a.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e("./click")}},{"../../lib":202,"../dragelement":94,"./attributes":106,"./calc":107,"./click":108,"./constants":109,"./defaults":110,"./helpers":111,"./hover":112,"./layout_attributes":116,"./layout_defaults":117,"./layout_global_defaults":118,d3:9}],116:[function(e,t,n){"use strict";var r=e("./constants"),a=e("../../plots/font_attributes")({editType:"none"});a.family.dflt=r.HOVERFONT,a.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":276,"./constants":109}],117:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./helpers").isUnifiedHover,i=e("./layout_attributes"),o=e("./hovermode_defaults"),l=e("./hoverlabel_defaults");t.exports=function(e,t,n){function s(n,a){return r.coerce(e,t,i,n,a)}var c=o(e,t,n);c&&(s("hoverdistance"),s("spikedistance",a(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var u=t._has("mapbox"),f=t._has("geo"),d=t._basePlotModules.length;"zoom"===t.dragmode&&((u||f)&&1===d||u&&f&&2===d)&&(t.dragmode="pan"),l(e,t,s)}},{"../../lib":202,"./helpers":111,"./hoverlabel_defaults":113,"./hovermode_defaults":114,"./layout_attributes":116}],118:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./hoverlabel_defaults"),i=e("./layout_attributes");t.exports=function(e,t){a(e,t,function(n,a){return r.coerce(e,t,i,n,a)})}},{"../../lib":202,"./hoverlabel_defaults":113,"./layout_attributes":116}],119:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../lib/regex").counter,i=e("../../plots/domain").attributes,o=e("../../plots/cartesian/constants").idRegex,l=e("../../plot_api/plot_template"),s={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[a("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function c(e,t,n){var r=t[n+"axes"],a=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:a.length?a:void 0}function u(e,t,n,r,a,i){var o=t(e+"gap",n),l=t("domain."+e);t(e+"side",r);for(var s=Array(a),c=l[0],u=(l[1]-c)/(a-o),f=u*(1-o),d=0;d<a;d++){var p=c+u*d;s[i?a-1-d:d]=[p,p+f]}return s}function f(e,t,n,r,a){var i,o=Array(n);function l(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(o[e]=n,r[n]=e):o[e]=""}if(Array.isArray(e))for(i=0;i<n;i++)l(i,e[i]);else for(l(0,a),i=1;i<n;i++)l(i,a+(i+1));return o}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(e,t){var n=e.grid||{},a=c(t,n,"x"),i=c(t,n,"y");if(e.grid||a||i){var o,f,d=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),p=Array.isArray(a),$=Array.isArray(i),h=p&&a!==n.xaxes&&$&&i!==n.yaxes;d?(o=n.subplots.length,f=n.subplots[0].length):($&&(o=i.length),p&&(f=a.length));var g=l.newContainer(t,"grid"),v=k("rows",o),m=k("columns",f);if(v*m>1){d||p||$||"independent"!==k("pattern")||(d=!0),g._hasSubplotGrid=d;var y,_,x="top to bottom"===k("roworder"),b=d?.2:.1,w=d?.3:.1;h&&t._splomGridDflt&&(y=t._splomGridDflt.xside,_=t._splomGridDflt.yside),g._domains={x:u("x",k,b,y,m),y:u("y",k,w,_,v,x)}}else delete t.grid}function k(e,t){return r.coerce(n,g,s,e,t)}},contentDefaults:function(e,t){var n=t.grid;if(n&&n._domains){var r,a,i,o,l,s,u,d=e.grid||{},p=t._subplots,$=n._hasSubplotGrid,h=n.rows,g=n.columns,v="independent"===n.pattern,m=n._axisMap={};if($){var y=d.subplots||[];s=n.subplots=Array(h);var _=1;for(r=0;r<h;r++){var x=s[r]=Array(g),b=y[r]||[];for(a=0;a<g;a++)if(v?(l=1===_?"xy":"x"+_+"y"+_,_++):l=b[a],x[a]="",-1!==p.cartesian.indexOf(l)){if(u=l.indexOf("y"),i=l.slice(0,u),o=l.slice(u),void 0!==m[i]&&m[i]!==a||void 0!==m[o]&&m[o]!==r)continue;x[a]=l,m[i]=a,m[o]=r}}}else{var w=c(t,d,"x"),k=c(t,d,"y");n.xaxes=f(w,p.xaxis,g,m,"x"),n.yaxes=f(k,p.yaxis,h,m,"y")}var T=n._anchors={},A="top to bottom"===n.roworder;for(var L in m){var C,S,M,O=L.charAt(0),D=n[O+"side"];if(D.length<8)T[L]="free";else if("x"===O){if("t"===D.charAt(0)===A?(C=0,S=1,M=h):(C=h-1,S=-1,M=-1),$){var P=m[L];for(r=C;r!==M;r+=S)if((l=s[r][P])&&(u=l.indexOf("y"),l.slice(0,u)===L)){T[L]=l.slice(u);break}}else for(r=C;r!==M;r+=S)if(o=n.yaxes[r],-1!==p.cartesian.indexOf(L+o)){T[L]=o;break}}else if("l"===D.charAt(0)?(C=0,S=1,M=g):(C=g-1,S=-1,M=-1),$){var z=m[L];for(r=C;r!==M;r+=S)if((l=s[z][r])&&(u=l.indexOf("y"),l.slice(u)===L)){T[L]=l.slice(0,u);break}}else for(r=C;r!==M;r+=S)if(i=n.xaxes[r],-1!==p.cartesian.indexOf(i+L)){T[L]=i;break}}}}}},{"../../lib":202,"../../lib/regex":218,"../../plot_api/plot_template":237,"../../plots/cartesian/constants":254,"../../plots/domain":275}],120:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),a=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=a("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":178,"../../plot_api/plot_template":237,"../../plots/cartesian/constants":254}],121:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib/to_log_range");t.exports=function(e,t,n,i){t=t||{};var o="log"===n&&"linear"===t.type,l="linear"===n&&"log"===t.type;if(o||l){for(var s,c,u=e._fullLayout.images,f=t._id.charAt(0),d=0;d<u.length;d++)if(c="images["+d+"].",(s=u[d])[f+"ref"]===t._id){var p=s[f],$=s["size"+f],h=null,g=null;if(o){var v=$/Math.pow(10,h=a(p,t.range))/2;g=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else g=(h=Math.pow(10,p))*(Math.pow(10,$/2)-Math.pow(10,-$/2));r(h)?r(g)||(g=null):(h=null,g=null),i(c+f,h),i(c+"size"+f,g)}}}},{"../../lib/to_log_range":226,"fast-isnumeric":11}],122:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),o=e("./attributes");function l(e,t,n){function i(n,a){return r.coerce(e,t,o,n,a)}var l=i("source");if(!i("visible",!!l))return t;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var s={_fullLayout:n},c=["x","y"],u=0;u<2;u++){var f=c[u],d=a.coerceRef(e,t,s,f,"paper",void 0);"paper"!==d&&a.getFromId(s,d)._imgIndices.push(t._index),a.coercePosition(t,s,i,d,f,0)}return t}t.exports=function(e,t){i(e,t,{name:"images",handleItemDefaults:l})}},{"../../lib":202,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"./attributes":120}],123:[function(e,t,n){"use strict";var r=e("d3"),a=e("../drawing"),i=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/axis_ids"),l=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,s=e._fullLayout,c=[],u={},f=[];for(n=0;n<s.images.length;n++){var d=s.images[n];if(d.visible){if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){t=o.ref2id(d.xref)+o.ref2id(d.yref);var p=s._plots[t];if(!p){f.push(d);continue}p.mainplot&&(t=p.mainplot.id),u[t]||(u[t]=[]),u[t].push(d)}else"above"===d.layer?c.push(d):f.push(d)}}var $={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},h={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function g(t){var n=r.select(this);if(this._imgSrc!==t.source){if(n.attr("xmlns",l.svg),t.source&&"data:"===t.source.slice(0,5))n.attr("xlink:href",t.source),this._imgSrc=t.source;else{var a=new Promise((function(e){var r=new Image;function a(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=a,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",a),r.src=t.source,this._imgSrc=t.source}).bind(this));e._promises.push(a)}}}function v(t){var n,o,l=r.select(this),c=i.getFromId(e,t.xref),u=i.getFromId(e,t.yref),f="domain"===i.getRefType(t.xref),d="domain"===i.getRefType(t.yref),p=s._size;n=void 0!==c?"string"==typeof t.xref&&f?c._length*t.sizex:Math.abs(c.l2p(t.sizex)-c.l2p(0)):t.sizex*p.w,o=void 0!==u?"string"==typeof t.yref&&d?u._length*t.sizey:Math.abs(u.l2p(t.sizey)-u.l2p(0)):t.sizey*p.h;var g,v,m=n*$[t.xanchor].offset,y=o*h[t.yanchor].offset,_=$[t.xanchor].sizing+h[t.yanchor].sizing;switch(g=void 0!==c?"string"==typeof t.xref&&f?c._length*t.x+c._offset:c.r2p(t.x)+c._offset:t.x*p.w+p.l,g+=m,v=void 0!==u?"string"==typeof t.yref&&d?u._length*(1-t.y)+u._offset:u.r2p(t.y)+u._offset:p.h-t.y*p.h+p.t,v+=y,t.sizing){case"fill":_+=" slice";break;case"stretch":_="none"}l.attr({x:g,y:v,width:n,height:o,preserveAspectRatio:_,opacity:t.opacity});var x=(c&&"domain"!==i.getRefType(t.xref)?c._id:"")+(u&&"domain"!==i.getRefType(t.yref)?u._id:"");a.setClipUrl(l,x?"clip"+s._uid+x:null,e)}var m=s._imageLowerLayer.selectAll("image").data(f),y=s._imageUpperLayer.selectAll("image").data(c);m.enter().append("image"),y.enter().append("image"),m.exit().remove(),y.exit().remove(),m.each(function(e){g.bind(this)(e),v.bind(this)(e)}),y.each(function(e){g.bind(this)(e),v.bind(this)(e)});var _=Object.keys(s._plots);for(n=0;n<_.length;n++){t=_[n];var x=s._plots[t];if(x.imagelayer){var b=x.imagelayer.selectAll("image").data(u[t]||[]);b.enter().append("image"),b.exit().remove(),b.each(function(e){g.bind(this)(e),v.bind(this)(e)})}}}},{"../../constants/xmlns_namespaces":182,"../../plots/cartesian/axes":248,"../../plots/cartesian/axis_ids":251,"../drawing":97,d3:9}],124:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":260,"./attributes":120,"./convert_coords":121,"./defaults":122,"./draw":123}],125:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":276,"../color/attributes":74}],126:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],127:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("./attributes"),l=e("../../plots/layout_attributes"),s=e("./helpers");t.exports=function(e,t,n){for(var c=e.legend||{},u=0,f=!1,d="normal",p=0;p<n.length;p++){var $=n[p];$.visible&&(($.showlegend||$._dfltShowLegend&&!($._module&&$._module.attributes&&$._module.attributes.showlegend&&!1===$._module.attributes.showlegend.dflt))&&(u++,$.showlegend&&(f=!0,(r.traceIs($,"pie-like")||!0===$._input.showlegend)&&u++)),(r.traceIs($,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf($.fill))&&(d=s.isGrouped({traceorder:d})?"grouped+reversed":"reversed"),void 0!==$.legendgroup&&""!==$.legendgroup&&(d=s.isReversed({traceorder:d})?"reversed+grouped":"grouped"))}var h=a.coerce(e,t,l,"showlegend",f&&u>1);if(!1!==h||c.uirevision){var g=i.newContainer(t,"legend");if(x("uirevision",t.uirevision),!1!==h){x("bgcolor",t.paper_bgcolor),x("bordercolor"),x("borderwidth"),a.coerceFont(x,"font",t.font);var v,m,y,_=x("orientation");"h"===_?(v=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(m=1.1,y="bottom"):(m=-.1,y="top")):(v=1.02,m=1,y="auto"),x("traceorder",d),s.isGrouped(t.legend)&&x("tracegroupgap"),x("itemsizing"),x("itemwidth"),x("itemclick"),x("itemdoubleclick"),x("x",v),x("xanchor"),x("y",m),x("yanchor",y),x("valign"),a.noneOrAll(c,g,["x","y"]),x("title.text")&&(x("title.side","h"===_?"left":"top"),a.coerceFont(x,"title.font",t.font))}}function x(e,t){return a.coerce(c,g,o,e,t)}}},{"../../lib":202,"../../plot_api/plot_template":237,"../../plots/layout_attributes":280,"../../registry":290,"./attributes":125,"./helpers":131}],128:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../lib"),i=e("../../plots/plots"),o=e("../../registry"),l=e("../../lib/events"),s=e("../dragelement"),c=e("../drawing"),u=e("../color"),f=e("../../lib/svg_text_utils"),d=e("./handle_click"),p=e("./constants"),$=e("../../constants/alignment"),h=$.LINE_SPACING,g=$.FROM_TL,v=$.FROM_BR,m=e("./get_legend_data"),y=e("./style"),_=e("./helpers");function x(e,t,n,r,a){var i=n.data()[0][0].trace,s={event:a,node:n.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};i._group&&(s.group=i._group),o.traceIs(i,"pie-like")&&(s.label=n.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s)&&(1===r?t._clickTimeout=setTimeout(function(){d(n,e,r)},e._context.doubleClickDelay):2===r&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&d(n,e,r)))}function b(e,t,n){var r,i=e.data()[0][0],l=i.trace,s=o.traceIs(l,"pie-like"),u=l.index,d=n._main&&t._context.edits.legendText&&!s,$=n._maxNameLength;n.entries?r=i.text:(r=s?i.label:l.name,l._meta&&(r=a.templateString(r,l._meta)));var h=a.ensureSingle(e,"text","legendtext");h.attr("text-anchor","start").call(c.font,n.font).text(d?w(r,$):r);var g=n.itemwidth+2*p.itemGap;f.positionText(h,g,0),d?h.call(f.makeEditable,{gd:t,text:r}).call(T,e,t,n).on("edit",function(r){this.text(w(r,$)).call(T,e,t,n);var l=i.trace._fullInput||{},s={};if(o.hasTransform(l,"groupby")){var c=o.getTransformIndices(l,"groupby"),f=c[c.length-1],d=a.keyedContainer(l,"transforms["+f+"].styles","target","value.name");d.set(i.trace._group,r),s=d.constructUpdate()}else s.name=r;return o.call("_guiRestyle",t,s,u)}):T(h,e,t,n)}function w(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function k(e,t){var n,i=t._context.doubleClickDelay,o=1,l=a.ensureSingle(e,"rect","legendtoggle",function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(u.fill,"rgba(0,0,0,0)")});t._context.staticPlot||(l.on("mousedown",function(){(n=(new Date).getTime())-t._legendMouseDownTime<i?o+=1:(o=1,t._legendMouseDownTime=n)}),l.on("mouseup",function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>i&&(o=Math.max(o-1,1)),x(t,n,e,o,r.event)}}))}function T(e,t,n,r){r._main||e.attr("data-notex",!0),f.convertToTspans(e,n,function(){!function(e,t,n){var r=e.data()[0][0];if(n._main&&r&&!r.trace.showlegend)return void e.remove();var a=e.select("g[class*=math-group]"),i=a.node();n||(n=t._fullLayout.legend);var o,l,s=n.borderwidth,u=(r?n:n.title).font.size*h;if(i){var d=c.bBox(i);o=d.height,l=d.width,r?c.setTranslate(a,0,.25*o):c.setTranslate(a,s,.75*o+s)}else{var $=e.select(r?".legendtext":".legendtitletext"),g=f.lineCount($),v=$.node();if(o=u*g,l=v?c.bBox(v).width:0,r){var m=n.itemwidth+2*p.itemGap;f.positionText($,m,-(u*((g-1)/2-.3)))}else f.positionText($,p.titlePad+s,u+s)}r?(r.lineHeight=u,r.height=Math.max(o,16)+3,r.width=l):(n._titleWidth=l,n._titleHeight=o)}(t,n,r)})}function A(e){return a.isRightAnchor(e)?"right":a.isCenterAnchor(e)?"center":"left"}function L(e){return a.isBottomAnchor(e)?"bottom":a.isMiddleAnchor(e)?"middle":"top"}t.exports=function(e,t){var n,l=e._fullLayout,f="legend"+l._uid;if(t?(n=t.layer,f+="-hover"):((t=l.legend||{})._main=!0,n=l._infolayer),n){if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;d=l.showlegend&&m(e.calcdata,t)}else{if(!t.entries)return;d=m(t.entries,t)}var d,$=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!d.length))return n.selectAll(".legend").remove(),l._topdefs.select("#"+f).remove(),i.autoMargin(e,"legend");var h=a.ensureSingle(n,"g","legend",function(e){t._main&&e.attr("pointer-events","all")}),w=a.ensureSingleById(l._topdefs,"clipPath",f,function(e){e.append("rect")}),C=a.ensureSingle(h,"rect","bg",function(e){e.attr("shape-rendering","crispEdges")});C.call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var S=a.ensureSingle(h,"g","scrollbox"),M=t.title;if(t._titleWidth=0,t._titleHeight=0,M.text){var O=a.ensureSingle(S,"text","legendtitletext");O.attr("text-anchor","start").call(c.font,M.font).text(M.text),T(O,S,e,t)}else S.selectAll(".legendtitletext").remove();var D=a.ensureSingle(h,"rect","scrollbar",function(e){e.attr(p.scrollBarEnterAttrs).call(u.fill,p.scrollBarColor)}),P=S.selectAll("g.groups").data(d);P.enter().append("g").attr("class","groups"),P.exit().remove();var z=P.selectAll("g.traces").data(a.identity);z.enter().append("g").attr("class","traces"),z.exit().remove(),z.style("opacity",function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==$.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){r.select(this).call(b,e,t)}).call(y,e,t).each(function(){t._main&&r.select(this).call(k,e)}),a.syncOrAsync([i.previousPromises,function(){return function(e,t,n,a){var i=e._fullLayout;a||(a=i.legend);var o=i._size,l=_.isVertical(a),s=_.isGrouped(a),u=a.borderwidth,f=2*u,d=p.itemGap,$=a.itemwidth+2*d,h=2*(u+d),g=L(a),v=a.y<0||0===a.y&&"top"===g,m=a.y>1||1===a.y&&"bottom"===g;a._maxHeight=Math.max(v||m?i.height/2:o.h,30);var y,x,b,w,k=0;a._width=0,a._height=0;var T=(y=a,x=0,b=0,(w=y.title.side)&&(-1!==w.indexOf("left")&&(x=y._titleWidth),-1!==w.indexOf("top")&&(b=y._titleHeight)),[x,b]);if(l)n.each(function(e){var t=e[0].height;c.setTranslate(this,u+T[0],u+T[1]+a._height+t/2+d),a._height+=t,a._width=Math.max(a._width,e[0].width)}),k=$+a._width,a._width+=d+$+f,a._height+=h,s&&(t.each(function(e,t){c.setTranslate(this,0,t*a.tracegroupgap)}),a._height+=(a._lgroupsLength-1)*a.tracegroupgap);else{var C=A(a),S=a.x<0||0===a.x&&"right"===C,M=a.x>1||1===a.x&&"left"===C,O=m||v,D=i.width/2;a._maxWidth=Math.max(S?O&&"left"===C?o.l+o.w:D:M?O&&"right"===C?o.r+o.w:D:o.w,2*$);var P=0,z=0;n.each(function(e){var t=e[0].width+$;P=Math.max(P,t),z+=t}),k=null;var R=0;if(s){var I=0,E=0,F=0;t.each(function(){var e=0,t=0;r.select(this).selectAll("g.traces").each(function(n){var r=n[0].height;c.setTranslate(this,T[0],T[1]+u+d+r/2+t),t+=r,e=Math.max(e,$+n[0].width)}),I=Math.max(I,t);var n=e+d;n+u+E>a._maxWidth&&(R=Math.max(R,E),E=0,F+=I+a.tracegroupgap,I=t),c.setTranslate(this,E,F),E+=n}),a._width=Math.max(R,E)+u,a._height=F+I+h}else{var N=z+f+(n.size()-1)*d<a._maxWidth,H=0,B=0,V=0,j=0;n.each(function(e){var t=e[0].height,n=$+e[0].width,r=(N?n:P)+d;r+u+B-d>=a._maxWidth&&(R=Math.max(R,j),B=0,V+=H,a._height+=H,H=0),c.setTranslate(this,T[0]+u+B,T[1]+u+V+t/2+d),j=B+n+d,B+=r,H=Math.max(H,t)}),N?(a._width=B+f,a._height=H+h):(a._width=Math.max(R,j)+f,a._height+=H+h)}}a._width=Math.ceil(Math.max(a._width+T[0],a._titleWidth+2*(u+p.titlePad))),a._height=Math.ceil(Math.max(a._height+T[1],a._titleHeight+2*(u+p.itemGap))),a._effHeight=Math.min(a._height,a._maxHeight);var U=e._context.edits,q=U.legendText||U.legendPosition;n.each(function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,a=q?$:k||$+e[0].width;l||(a+=d/2),c.setRect(t,0,-n/2,a,n)})}(e,P,z,t)},function(){var u,d,$,m;if(!t._main||($=A(d=(u=e)._fullLayout.legend),m=L(d),!i.autoMargin(u,"legend",{x:d.x,y:d.y,l:d._width*g[$],r:d._width*v[$],b:d._effHeight*v[m],t:d._effHeight*g[m]}))){var y,_,b,k,T=l._size,M=t.borderwidth,O=T.l+T.w*t.x-g[A(t)]*t._width,P=T.t+T.h*(1-t.y)-g[L(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var z=O,R=P;O=a.constrain(O,0,l.width-t._width),P=a.constrain(P,0,l.height-t._effHeight),O!==z&&a.log("Constrain legend.x to make legend fit inside graph"),P!==R&&a.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(h,O,P),D.on(".drag",null),h.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;t._main||(I=t._height),C.attr({width:t._width-M,height:I-M,x:M/2,y:M/2}),c.setTranslate(S,0,0),w.select("rect").attr({width:t._width-2*M,height:I-2*M,x:M,y:M}),c.setClipUrl(S,f,e),c.setRect(D,0,0,0,0),delete t._scrollY}else{var E,F,N,H=Math.max(p.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),B=t._effHeight-H-2*p.scrollBarMargin,V=t._height-t._effHeight,j=B/V,U=Math.min(t._scrollY||0,V);C.attr({width:t._width-2*M+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-M,x:M/2,y:M/2}),w.select("rect").attr({width:t._width-2*M+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-2*M,x:M,y:M+U}),c.setClipUrl(S,f,e),Z(U,H,j),h.on("wheel",function(){Z(U=a.constrain(t._scrollY+r.event.deltaY/B*V,0,V),H,j),0!==U&&U!==V&&r.event.preventDefault()});var q=r.behavior.drag().on("dragstart",function(){var e=r.event.sourceEvent;E="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,N=U}).on("drag",function(){var e,t,n,i=r.event.sourceEvent;2===i.buttons||i.ctrlKey||(F="touchmove"===i.type?i.changedTouches[0].clientY:i.clientY,Z(U=(e=N,t=E,n=F,a.constrain((n-t)/j+e,0,V)),H,j))});D.call(q);var G=r.behavior.drag().on("dragstart",function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(E=e.changedTouches[0].clientY,N=U)}).on("drag",function(){var e,t,n,i=r.event.sourceEvent;"touchmove"===i.type&&(F=i.changedTouches[0].clientY,Z(U=(e=N,t=E,n=F,a.constrain((t-n)/j+e,0,V)),H,j))});S.call(G)}e._context.edits.legendPosition&&(h.classed("cursor-move",!0),s.init({element:h.node(),gd:e,prepFn:function(){var e=c.getTranslate(h);b=e.x,k=e.y},moveFn:function(e,n){var r=b+e,a=k+n;c.setTranslate(h,r,a),y=s.align(r,0,T.l,T.l+T.w,t.xanchor),_=s.align(a,0,T.t+T.h,T.t,t.yanchor)},doneFn:function(){void 0!==y&&void 0!==_&&o.call("_guiRelayout",e,{"legend.x":y,"legend.y":_})},clickFn:function(t,r){var a=n.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom});a.size()>0&&x(e,h,a,t,r)}}))}function Z(n,r,a){t._scrollY=e._fullLayout.legend._scrollY=n,c.setTranslate(S,0,-n),c.setRect(D,t._width,p.scrollBarMargin+n*a,p.scrollBarWidth,r),w.select("rect").attr("y",M+n)}}],e)}}},{"../../constants/alignment":177,"../../lib":202,"../../lib/events":195,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../../registry":290,"../color":75,"../dragelement":94,"../drawing":97,"./constants":126,"./get_legend_data":129,"./handle_click":130,"./helpers":131,"./style":133,d3:9}],129:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./helpers");t.exports=function(e,t){var n,i,o={},l=[],s=!1,c={},u=0,f=0,d=t._main;function p(e,n){if(""!==e&&a.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,o[e]=[[n]]):o[e].push([n]);else{var r="~~i"+u;l.push(r),o[r]=[[n]],u++}}for(n=0;n<e.length;n++){var $=e[n],h=$[0],g=h.trace,v=g.legendgroup;if(!d||g.visible&&g.showlegend){if(r.traceIs(g,"pie-like"))for(c[v]||(c[v]={}),i=0;i<$.length;i++){var m=$[i].label;c[v][m]||(p(v,{label:m,color:$[i].color,i:$[i].i,trace:g,pts:$[i].pts}),c[v][m]=!0,f=Math.max(f,(m||"").length))}else p(v,h),f=Math.max(f,(g.name||"").length)}}if(!l.length)return[];var y,_,x=l.length;if(s&&a.isGrouped(t))for(_=Array(x),n=0;n<x;n++)y=o[l[n]],_[n]=a.isReversed(t)?y.reverse():y;else{for(_=[Array(x)],n=0;n<x;n++)y=o[l[n]][0],_[0][a.isReversed(t)?x-n-1:n]=y;x=1}return t._lgroupsLength=x,t._maxNameLength=f,_}},{"../../registry":290,"./helpers":131}],130:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),i=!0;t.exports=function(e,t,n){var o=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=o.legend.itemclick,c=o.legend.itemdoubleclick;if(1===n&&"toggle"===s&&"toggleothers"===c&&i&&t.data&&t._context.showTips&&r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),i=!1,1===n?l=s:2===n&&(l=c),l){var u,f,d,p,$,h=o.hiddenlabels?o.hiddenlabels.slice():[],g=e.data()[0][0],v=t._fullData,m=g.trace,y=m.legendgroup,_={},x=[],b=[],w=[];if(a.traceIs(m,"pie-like")){var k=g.label,T=h.indexOf(k);"toggle"===l?-1===T?h.push(k):h.splice(T,1):"toggleothers"===l&&(h=[],t.calcdata[0].forEach(function(e){k!==e.label&&h.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===h.length&&-1===T&&(h=[])),a.call("_guiRelayout",t,"hiddenlabels",h)}else{var A,L=y&&y.length,C=[];if(L)for(u=0;u<v.length;u++)(A=v[u]).visible&&A.legendgroup===y&&C.push(u);if("toggle"===l){switch(m.visible){case!0:S="legendonly";break;case!1:S=!1;break;case"legendonly":S=!0}if(L)for(u=0;u<v.length;u++)!1!==v[u].visible&&v[u].legendgroup===y&&F(v[u],S);else F(m,S)}else if("toggleothers"===l){var S,M,O,D,P,z=!0;for(u=0;u<v.length;u++)if(M=v[u]===m,D=!0!==v[u].showlegend,!(M||D||(O=L&&v[u].legendgroup===y)||!0!==v[u].visible||a.traceIs(v[u],"notLegendIsolatable"))){z=!1;break}for(u=0;u<v.length;u++)if(!1!==v[u].visible&&!a.traceIs(v[u],"notLegendIsolatable"))switch(m.visible){case"legendonly":F(v[u],!0);break;case!0:P=!!z||"legendonly",M=v[u]===m,D=!0!==v[u].showlegend&&!v[u].legendgroup,O=M||L&&v[u].legendgroup===y,F(v[u],!(!O&&!D)||P)}}for(u=0;u<b.length;u++)if(d=b[u]){var R=d.constructUpdate(),I=Object.keys(R);for(f=0;f<I.length;f++)(_[p=I[f]]=_[p]||[])[w[u]]=R[p]}for($=Object.keys(_),u=0;u<$.length;u++)for(p=$[u],f=0;f<x.length;f++)_[p].hasOwnProperty(f)||(_[p][f]=void 0);a.call("_guiRestyle",t,_,x)}}}function E(e,t,n){var r=x.indexOf(e),a=_[t];return a||(a=_[t]=[]),-1===x.indexOf(e)&&(x.push(e),r=x.length-1),a[r]=n,r}function F(e,t){var n=e._fullInput;if(a.hasTransform(n,"groupby")){var i=b[n.index];if(!i){var o=a.getTransformIndices(n,"groupby"),l=o[o.length-1];i=r.keyedContainer(n,"transforms["+l+"].styles","target","value.visible"),b[n.index]=i}var s=i.get(e._group);void 0===s&&(s=!0),!1!==s&&i.set(e._group,t),w[n.index]=E(n.index,"visible",!1!==n.visible)}else{var c=!1!==n.visible&&t;E(n.index,"visible",c)}}}},{"../../lib":202,"../../registry":290}],131:[function(e,t,n){"use strict";n.isGrouped=function(e){return -1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return -1!==(e.traceorder||"").indexOf("reversed")}},{}],132:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":125,"./defaults":127,"./draw":128,"./style":133}],133:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../lib"),o=i.strTranslate,l=e("../drawing"),s=e("../color"),c=e("../colorscale/helpers").extractOpts,u=e("../../traces/scatter/subtypes"),f=e("../../traces/pie/style_one"),d=e("../../traces/pie/helpers").castOption,p=e("./constants");function $(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}t.exports=function(e,t,n){var h=t._fullLayout;n||(n=h.legend);var g="constant"===n.itemsizing,v=n.itemwidth,m=o((v+2*p.itemGap)/2,0),y=function(e,t,n,r){var a;if(e+1)a=e;else{if(!(t&&t.width>0))return 0;a=t.width}return g?r:Math.min(a,n)};function _(e,t,n){var i=e[0].trace,o=i.marker||{},l=o.line||{},c=n?i.visible&&i.type===n:a.traceIs(i,"bar"),u=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(c?[e]:[]);u.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),u.exit().remove(),u.each(function(e){var t=r.select(this),n=e[0],a=y(n.mlw,o.line,5,2);t.style("stroke-width",a+"px").call(s.fill,n.mc||o.color),a&&s.stroke(t,n.mlc||l.color)})}function x(e,t,n){var o=e[0],l=o.trace,s=n?l.visible&&l.type===n:a.traceIs(l,n),c=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),c.exit().remove(),c.size()){var u=(l.marker||{}).line,p=y(d(u.width,o.pts),u,5,2),$=i.minExtend(l,{marker:{line:{width:p}}});$.marker.line.color=u.color;var h=i.minExtend(o,{trace:$});f(c,h,$)}}e.each(function(e){var t=r.select(this),a=i.ensureSingle(t,"g","layers");a.style("opacity",e[0].trace.opacity);var l=n.valign,s=e[0].lineHeight,c=e[0].height;"middle"!==l&&s&&c?a.attr("transform",o(0,{top:1,bottom:-1}[l]*(.5*(s-c+3)))):a.attr("transform",null),a.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),a.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var u=a.selectAll("g.legendsymbols").data([e]);u.enter().append("g").classed("legendsymbols",!0),u.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(function(e){var n,a=e[0].trace,o=[];if(a.visible)switch(a.type){case"histogram2d":case"heatmap":o=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":o=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":o=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":o=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":o=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":o=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var u=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),u.exit().remove(),u.each(function(e,o){var u,f=r.select(this),d=c(a),p=d.colorscale,h=d.reversescale;if(p){if(!n){var g=p.length;u=0===o?p[h?g-1:0][1]:1===o?p[h?0:g-1][1]:p[Math.floor((g-1)/2)][1]}}else{var v=a.vertexcolor||a.facecolor||a.color;u=i.isArrayOrTypedArray(v)?v[o]||v[0]:v}f.attr("d",e[0]),u?f.call(s.fill,u):f.call(function(e){if(e.size()){var r="legendfill-"+a.uid;l.gradient(e,t,r,$(h,"radial"===n),p,"fill")}})})}).each(function(e){var t=e[0].trace,n="waterfall"===t.type;if(e[0]._distinct&&n){var a=e[0].trace[e[0].dir].marker;return e[0].mc=a.color,e[0].mlw=a.line.width,e[0].mlc=a.line.color,_(e,this,"waterfall")}var i=[];t.visible&&n&&(i=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),o.exit().remove(),o.each(function(e){var n=r.select(this),a=t[e[0]].marker,i=y(void 0,a.line,5,2);n.attr("d",e[1]).style("stroke-width",i+"px").call(s.fill,a.color),i&&n.call(s.stroke,a.line.color)})}).each(function(e){_(e,this,"funnel")}).each(function(e){_(e,this)}).each(function(e){var n=e[0].trace,o=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&a.traceIs(n,"box-violin")?[e]:[]);o.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),o.exit().remove(),o.each(function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==s.opacity(n.fillcolor)||0!==s.opacity((n.line||{}).color)){var a=y(void 0,n.line,5,2);e.style("stroke-width",a+"px").call(s.fill,n.fillcolor),a&&s.stroke(e,n.line.color)}else{var c=i.minExtend(n,{marker:{size:g?12:i.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});o.call(l.pointStyle,c,t)}})}).each(function(e){x(e,this,"funnelarea")}).each(function(e){x(e,this,"pie")}).each(function(e){var n,a,o=e[0],s=o.trace,f=s.visible&&s.fill&&"none"!==s.fill,d=u.hasLines(s),p=s.contours,h=!1,g=!1,m=c(s),_=m.colorscale,x=m.reversescale;if(p){var b=p.coloring;"lines"===b?h=!0:d="none"===b||"heatmap"===b||p.showlines,"constraint"===p.type?f="="!==p._operation:"fill"!==b&&"heatmap"!==b||(g=!0)}var w=u.hasMarkers(s)||u.hasText(s),k=f||g,T=d||h,A=w||!k?"M5,0":T?"M5,-2":"M5,-3",L=r.select(this),C=L.select(".legendfill").selectAll("path").data(f||g?[e]:[]);if(C.enter().append("path").classed("js-fill",!0),C.exit().remove(),C.attr("d",A+"h"+v+"v6h-"+v+"z").call(f?l.fillGroupStyle:function(e){if(e.size()){var n="legendfill-"+s.uid;l.gradient(e,t,n,$(x),_,"fill")}}),d||h){var S=y(void 0,s.line,10,5);a=i.minExtend(s,{line:{width:S}}),n=[i.minExtend(o,{trace:a})]}var M=L.select(".legendlines").selectAll("path").data(d||h?[n]:[]);M.enter().append("path").classed("js-line",!0),M.exit().remove(),M.attr("d",A+(h?"l"+v+",0.0001":"h"+v)).call(d?l.lineGroupStyle:function(e){if(e.size()){var n="legendline-"+s.uid;l.lineGroupStyle(e),l.gradient(e,t,n,$(x),_,"stroke")}})}).each(function(e){var n,a,o=e[0],s=o.trace,c=u.hasMarkers(s),f=u.hasText(s),d=u.hasLines(s);function p(e,t,n,r){var a=i.nestedProperty(s,e).get(),o=i.isArrayOrTypedArray(a)&&t?t(a):a;if(g&&o&&void 0!==r&&(o=r),n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function $(e){return o._distinct&&o.index&&e[o.index]?e[o.index]:e[0]}if(c||f||d){var h={},v={};if(c){h.mc=p("marker.color",$),h.mx=p("marker.symbol",$),h.mo=p("marker.opacity",i.mean,[.2,1]),h.mlc=p("marker.line.color",$),h.mlw=p("marker.line.width",i.mean,[0,5],2),v.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var y=p("marker.size",i.mean,[2,16],12);h.ms=y,v.marker.size=y}d&&(v.line={width:p("line.width",$,[0,10],5)}),f&&(h.tx="Aa",h.tp=p("textposition",$),h.ts=10,h.tc=p("textfont.color",$),h.tf=p("textfont.family",$)),n=[i.minExtend(o,h)],(a=i.minExtend(s,v)).selectedpoints=null,a.texttemplate=null}var _=r.select(this).select("g.legendpoints"),x=_.selectAll("path.scatterpts").data(c?n:[]);x.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),x.exit().remove(),x.call(l.pointStyle,a,t),c&&(n[0].mrc=3);var b=_.selectAll("g.pointtext").data(f?n:[]);b.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),b.exit().remove(),b.selectAll("text").call(l.textPointStyle,a,t)}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e,n){var a=r.select(this),i=t[n?"increasing":"decreasing"],o=y(void 0,i.line,5,2);a.style("stroke-width",o+"px").call(s.fill,i.fillcolor),o&&s.stroke(a,i.line.color)})}).each(function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),n.exit().remove(),n.each(function(e,n){var a=r.select(this),i=t[n?"increasing":"decreasing"],o=y(void 0,i.line,5,2);a.style("fill","none").call(l.dashLine,i.line.dash,o),o&&s.stroke(a,i.line.color)})})}},{"../../lib":202,"../../registry":290,"../../traces/pie/helpers":322,"../../traces/pie/style_one":328,"../../traces/scatter/subtypes":355,"../color":75,"../colorscale/helpers":86,"../drawing":97,"./constants":126,d3:9}],134:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../plots/plots"),i=e("../../plots/cartesian/axis_ids"),o=e("../../fonts/ploticon"),l=e("../shapes/draw").eraseActiveShape,s=e("../../lib"),c=s._,u=t.exports={};function f(e,t){var n,a,o=t.currentTarget,l=o.getAttribute("data-attr"),s=o.getAttribute("data-val")||!0,c=e._fullLayout,u={},f=i.list(e,null,!0),d=c._cartesianSpikesEnabled;if("zoom"===l){var p,$="in"===s?.5:2,h=(1+$)/2,g=(1-$)/2;for(a=0;a<f.length;a++)if(!(n=f[a]).fixedrange){if(p=n._name,"auto"===s)u[p+".autorange"]=!0;else if("reset"===s){if(void 0===n._rangeInitial)u[p+".autorange"]=!0;else{var v=n._rangeInitial.slice();u[p+".range[0]"]=v[0],u[p+".range[1]"]=v[1]}void 0!==n._showSpikeInitial&&(u[p+".showspikes"]=n._showSpikeInitial,"on"!==d||n._showSpikeInitial||(d="off"))}else{var m=[n.r2l(n.range[0]),n.r2l(n.range[1])],y=[h*m[0]+g*m[1],h*m[1]+g*m[0]];u[p+".range[0]"]=n.l2r(y[0]),u[p+".range[1]"]=n.l2r(y[1])}}}else"hovermode"!==l||"x"!==s&&"y"!==s||(s=c._isHoriz?"y":"x",o.setAttribute("data-val",s)),u[l]=s;c._cartesianSpikesEnabled=d,r.call("_guiRelayout",e,u)}function d(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],l={},s=a.split("."),c=0;c<o.length;c++)l[o[c]+"."+s[1]]=i;l.dragmode="pan"===i?i:"zoom",r.call("_guiRelayout",e,l)}function p(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),a="resetLastSave"===n,i="resetDefault"===n,o=e._fullLayout,l=o._subplots.gl3d||[],s={},c=0;c<l.length;c++){var u,f=l[c],d=f+".camera",p=f+".aspectratio",$=f+".aspectmode",h=o[f]._scene;a?(s[d+".up"]=h.viewInitial.up,s[d+".eye"]=h.viewInitial.eye,s[d+".center"]=h.viewInitial.center,u=!0):i&&(s[d+".up"]=null,s[d+".eye"]=null,s[d+".center"]=null,u=!0),u&&(s[p+".x"]=h.viewInitial.aspectratio.x,s[p+".y"]=h.viewInitial.aspectratio.y,s[p+".z"]=h.viewInitial.aspectratio.z,s[$]=h.viewInitial.aspectmode)}r.call("_guiRelayout",e,s)}function $(e,t){var n=t.currentTarget,r=n._previousVal,a=e._fullLayout,i=a._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],l={},s={};if(r)s=r,n._previousVal=null;else{for(var c=0;c<i.length;c++){var u=i[c],f=a[u],d=u+".hovermode";l[d]=f.hovermode,s[d]=!1;for(var p=0;p<3;p++){var $=o[p],h=u+"."+$+".showspikes";s[h]=!1,l[h]=f[$].showspikes}}n._previousVal=l}return s}function h(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,o=e._fullLayout,l=o._subplots.geo||[],s=0;s<l.length;s++){var c=l[s],u=o[c];if("zoom"===a){var f=u.projection.scale,d="in"===i?2*f:.5*f;r.call("_guiRelayout",e,c+".projection.scale",d)}}"reset"===a&&y(e,"geo")}function g(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function v(e){var t=g(e);r.call("_guiRelayout",e,"hovermode",t)}function m(e,t){for(var n=t.currentTarget.getAttribute("data-val"),a=e._fullLayout,i=a._subplots.mapbox||[],o={},l=0;l<i.length;l++){var s=i[l],c=a[s].zoom,u="in"===n?1.05*c:c/1.05;o[s+".zoom"]=u}r.call("_guiRelayout",e,o)}function y(e,t){for(var n=e._fullLayout,a=n._subplots[t]||[],i={},o=0;o<a.length;o++)for(var l=a[o],s=n[l]._subplot.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var f=c[u];i[l+"."+f]=s[f]}r.call("_guiRelayout",e,i)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return c(e,"png"===t?"Download plot as a png":"Download plot")},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};s.notifier(c(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&s.isIE()&&(s.notifier(c(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach(function(e){e in t&&(n[e]=t[e])}),r.call("downloadImage",e,n).then(function(t){s.notifier(c(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){s.notifier(c(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.disk,click:function(e){a.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return c(e,"Edit in Chart Studio")},icon:o.pencil,click:function(e){a.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return c(e,"Zoom")},attr:"dragmode",val:"zoom",icon:o.zoombox,click:f},u.pan2d={name:"pan2d",title:function(e){return c(e,"Pan")},attr:"dragmode",val:"pan",icon:o.pan,click:f},u.select2d={name:"select2d",title:function(e){return c(e,"Box Select")},attr:"dragmode",val:"select",icon:o.selectbox,click:f},u.lasso2d={name:"lasso2d",title:function(e){return c(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:o.lasso,click:f},u.drawclosedpath={name:"drawclosedpath",title:function(e){return c(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:o.drawclosedpath,click:f},u.drawopenpath={name:"drawopenpath",title:function(e){return c(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:o.drawopenpath,click:f},u.drawline={name:"drawline",title:function(e){return c(e,"Draw line")},attr:"dragmode",val:"drawline",icon:o.drawline,click:f},u.drawrect={name:"drawrect",title:function(e){return c(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:o.drawrect,click:f},u.drawcircle={name:"drawcircle",title:function(e){return c(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:o.drawcircle,click:f},u.eraseshape={name:"eraseshape",title:function(e){return c(e,"Erase active shape")},icon:o.eraseshape,click:l},u.zoomIn2d={name:"zoomIn2d",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:f},u.zoomOut2d={name:"zoomOut2d",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:f},u.autoScale2d={name:"autoScale2d",title:function(e){return c(e,"Autoscale")},attr:"zoom",val:"auto",icon:o.autoscale,click:f},u.resetScale2d={name:"resetScale2d",title:function(e){return c(e,"Reset axes")},attr:"zoom",val:"reset",icon:o.home,click:f},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return c(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:f},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return c(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:o.tooltip_compare,gravity:"ne",click:f},u.zoom3d={name:"zoom3d",title:function(e){return c(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:o.zoombox,click:d},u.pan3d={name:"pan3d",title:function(e){return c(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:o.pan,click:d},u.orbitRotation={name:"orbitRotation",title:function(e){return c(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:o["3d_rotate"],click:d},u.tableRotation={name:"tableRotation",title:function(e){return c(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:o["z-axis"],click:d},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return c(e,"Reset camera to default")},attr:"resetDefault",icon:o.home,click:p},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return c(e,"Reset camera to last save")},attr:"resetLastSave",icon:o.movie,click:p},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var n=$(e,t);r.call("_guiRelayout",e,n)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:h},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:h},u.resetGeo={name:"resetGeo",title:function(e){return c(e,"Reset")},attr:"reset",val:null,icon:o.autoscale,click:h},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:v},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:v},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:v},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return c(e,"Reset view")},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var a=e._fullData[n]._viewInitial;t["node.groups"].push(a.node.groups.slice()),t["node.x"].push(a.node.x.slice()),t["node.y"].push(a.node.y.slice())}r.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var n=$(e,t);n.hovermode=g(e),r.call("_guiRelayout",e,n)}},u.resetViews={name:"resetViews",title:function(e){return c(e,"Reset views")},icon:o.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),f(e,t),n.setAttribute("data-attr","resetLastSave"),p(e,t),y(e,"geo"),y(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return c(e,"Toggle Spike Lines")},icon:o.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=i.list(e,null,!0),r={},a=0;a<n.length;a++){var o=n[a];r[o._name+".showspikes"]=!!t||o._showSpikeInitial}return r}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return c(e,"Reset view")},attr:"reset",icon:o.home,click:function(e){y(e,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:m},u.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:m}},{"../../fonts/ploticon":185,"../../lib":202,"../../plots/cartesian/axis_ids":251,"../../plots/plots":282,"../../registry":290,"../shapes/draw":156}],135:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":136}],136:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),a=e("../../traces/scatter/subtypes"),i=e("../../registry"),o=e("../fx/helpers").isUnifiedHover,l=e("./modebar"),s=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,u=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw Error("*modeBarButtonsToRemove* configuration options must be an array.");if(!Array.isArray(n.modeBarButtonsToAdd))throw Error("*modeBarButtonsToAdd* configuration options must be an array.");var f,d=n.modeBarButtons;f=Array.isArray(d)&&d.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){if(void 0===s[a])throw Error("*modeBarButtons* configuration options invalid button name");e[t][r]=s[a]}}return e}(d):!n.displayModeBar&&n.watermark?[]:function(e){var t=e._fullLayout,n=e._fullData,l=e._context,u=l.modeBarButtonsToRemove,f=l.modeBarButtonsToAdd,d=t._has("cartesian"),p=t._has("gl3d"),$=t._has("geo"),h=t._has("pie"),g=t._has("funnelarea"),v=t._has("gl2d"),m=t._has("ternary"),y=t._has("mapbox"),_=t._has("polar"),x=t._has("sankey"),b=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(t),w=o(t.hovermode),k=[];function T(e){if(e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n];-1===u.indexOf(r)&&t.push(s[r])}k.push(t)}}var A=["toImage"];l.showEditInChartStudio?A.push("editInChartStudio"):l.showSendToCloud&&A.push("sendDataToCloud"),T(A);var L=[],C=[],S=[],M=[];if((d||v||h||g||m)+$+p+y+_>1?(C=["toggleHover"],S=["resetViews"]):$?(L=["zoomInGeo","zoomOutGeo"],C=["hoverClosestGeo"],S=["resetGeo"]):p?(C=["hoverClosest3d"],S=["resetCameraDefault3d","resetCameraLastSave3d"]):y?(L=["zoomInMapbox","zoomOutMapbox"],C=["toggleHover"],S=["resetViewMapbox"]):v?C=["hoverClosestGl2d"]:h?C=["hoverClosestPie"]:x?(C=["hoverClosestCartesian","hoverCompareCartesian"],S=["resetViewSankey"]):C=["toggleHover"],d&&(C=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(e){for(var t=0;t<e.length;t++)if(!i.traceIs(e[t],"noHover"))return!1;return!0}(n)||w)&&(C=[]),(d||v)&&!b&&(L=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"===S[0]||(S=["resetScale2d"])),p?M=["zoom3d","pan3d","orbitRotation","tableRotation"]:(d||v)&&!b||m?M=["zoom2d","pan2d"]:y||$?M=["pan2d"]:_&&(M=["zoom2d"]),function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(i.traceIs(r,"scatter-like")?(a.hasMarkers(r)||a.hasText(r))&&(t=!0):i.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}(n)&&M.push("select2d","lasso2d"),Array.isArray(f)){for(var O=[],D=0;D<f.length;D++){var P=f[D];"string"==typeof P?-1!==c.indexOf(P)&&(t._has("mapbox")||t._has("cartesian"))&&M.push(P):O.push(P)}f=O}return T(M),T(L.concat(S)),T(C),function(e,t){if(t.length){if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t)}return e}(k,f)}(e),u?u.update(e,f):t._modeBar=l(e,f)}else u&&(u.destroy(),delete t._modeBar)};var c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},{"../../plots/cartesian/axis_ids":251,"../../registry":290,"../../traces/scatter/subtypes":355,"../fx/helpers":111,"./buttons":134,"./modebar":137}],137:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../../lib"),o=e("../../fonts/ploticon"),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,a="modebar-"+r._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=r.modebar,l="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(a),i.addRelatedStyleRule(a,l+"#"+a+" .modebar-group","background-color: "+o.bgcolor),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+o.color),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+o.activecolor),i.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+o.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==n.displaylogo,u=this.locale!==n.locale;if(this.locale=n.locale,(s||c||u)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var f=this.getLogo();n.watermark&&(f.className=f.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var a=t.createButton(e);t.buttonElements.push(a),n.appendChild(a)}),t.element.appendChild(n)})},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var a=e.title;void 0===a?a=e.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&n.setAttribute("data-title",a),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),n.setAttribute("data-val",i)),"function"!=typeof e.click)throw Error("must provide button 'click' function in button config");n.addEventListener("click",function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var l=e.icon;return"function"==typeof l?n.appendChild(l()):n.appendChild(this.createIcon(l||o.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},c.createIcon=function(e){var t,n=a(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}return e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]),t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var a=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=r.select(e);if(l)o===n&&s.classed("active",!s.classed("active"));else{var c=null===o?o:i.nestedProperty(t,o).get();s.classed("active",c===a)}})},c.hasButtons=function(e){var t=this.buttons;if(!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},t.exports=function(e,t){var n=e._fullLayout,a=new s({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},{"../../fonts/ploticon":185,"../../lib":202,d3:9,"fast-isnumeric":11}],138:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),i=(0,e("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:a.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":237,"../../plots/font_attributes":276,"../color/attributes":74}],139:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],140:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../color"),i=e("../../plot_api/plot_template"),o=e("../../plots/array_container_defaults"),l=e("./attributes"),s=e("./constants");function c(e,t,n,a){var i=a.calendar;function o(n,a){return r.coerce(e,t,l.buttons,n,a)}if(o("visible")){var s=o("step");"all"!==s&&(i&&"gregorian"!==i&&("month"===s||"year"===s)?t.stepmode="backward":o("stepmode"),o("count")),o("label")}}t.exports=function(e,t,n,u,f){var d=e.rangeselector||{},p=i.newContainer(t,"rangeselector");function $(e,t){return r.coerce(d,p,l,e,t)}if($("visible",o(d,p,{name:"buttons",handleItemDefaults:c,calendar:f}).length>0)){var h=function(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),a=0,i=0;i<r.length;i++){var o=t[r[i]].domain;o&&(a=Math.max(o[1],a))}return[e.domain[0],a+s.yPad]}(t,n,u);$("x",h[0]),$("y",h[1]),r.noneOrAll(e,t,["x","y"]),$("xanchor"),$("yanchor"),r.coerceFont($,"font",n.font);var g=$("bgcolor");$("activecolor",a.contrast(g,s.lightAmount,s.darkAmount)),$("bordercolor"),$("borderwidth")}}},{"../../lib":202,"../../plot_api/plot_template":237,"../../plots/array_container_defaults":243,"../color":75,"./attributes":138,"./constants":139}],141:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../plots/plots"),o=e("../color"),l=e("../drawing"),s=e("../../lib"),c=s.strTranslate,u=e("../../lib/svg_text_utils"),f=e("../../plots/cartesian/axis_ids"),d=e("../../constants/alignment"),p=d.LINE_SPACING,$=d.FROM_TL,h=d.FROM_BR,g=e("./constants"),v=e("./get_update_object");function m(e){return e._id}function y(e,t,n){var r,a,i=s.ensureSingle(e,"rect","selector-rect",function(e){e.attr("shape-rendering","crispEdges")});i.attr({rx:g.rx,ry:g.ry}),i.call(o.stroke,t.bordercolor).call(o.fill,(r=t,(a=n)._isActive||a._isHovered?r.activecolor:r.bgcolor)).style("stroke-width",t.borderwidth+"px")}function _(e,t,n,r){var a,i;s.ensureSingle(e,"text","selector-text",function(e){e.attr("text-anchor","middle")}).call(l.font,t.font).text((a=n,i=r._fullLayout._meta,a.label?i?s.templateString(a.label,i):a.label:"all"===a.step?"all":a.count+a.step.charAt(0))).call(function(e){u.convertToTspans(e,r)})}t.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e){for(var t=f.list(e,"x",!0),n=[],r=0;r<t.length;r++){var a=t[r];a.rangeselector&&a.rangeselector.visible&&n.push(a)}return n}(e),m);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each(function(t){var n,o,f,d,m,x,b,w,k,T,A,L,C,S=r.select(this),M=t,O=M.rangeselector,D=S.selectAll("g.button").data(s.filterVisible(O.buttons));D.enter().append("g").classed("button",!0),D.exit().remove(),D.each(function(t){var n=r.select(this),i=v(M,t);t._isActive=function(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}(M,t,i),n.call(y,O,t),n.call(_,O,t,e),n.on("click",function(){e._dragged||a.call("_guiRelayout",e,i)}),n.on("mouseover",function(){t._isHovered=!0,n.call(y,O,t)}),n.on("mouseout",function(){t._isHovered=!1,n.call(y,O,t)})}),n=e,o=D,f=O,d=M._name,m=S,x=0,b=0,w=f.borderwidth,o.each(function(){var e=r.select(this).select(".selector-text");b=Math.max(b,Math.max(f.font.size*p*u.lineCount(e),16)+3)}),o.each(function(){var e=r.select(this),t=e.select(".selector-rect"),n=e.select(".selector-text"),a=n.node()&&l.bBox(n.node()).width,i=f.font.size*p,o=u.lineCount(n),s=Math.max(a+10,g.minButtonWidth);e.attr("transform",c(w+x,w)),t.attr({x:0,y:0,width:s,height:b}),u.positionText(n,s/2,b/2-(o-1)*i/2+3),x+=s+5}),T=(k=n._fullLayout._size).l+k.w*f.x,A=k.t+k.h*(1-f.y),L="left",s.isRightAnchor(f)&&(T-=x,L="right"),s.isCenterAnchor(f)&&(T-=x/2,L="center"),C="top",s.isBottomAnchor(f)&&(A-=b,C="bottom"),s.isMiddleAnchor(f)&&(A-=b/2,C="middle"),x=Math.ceil(x),b=Math.ceil(b),T=Math.round(T),A=Math.round(A),i.autoMargin(n,d+"-range-selector",{x:f.x,y:f.y,l:x*$[L],r:x*h[L],b:b*h[C],t:b*$[C]}),m.attr("transform",c(T,A))})}},{"../../constants/alignment":177,"../../lib":202,"../../lib/svg_text_utils":224,"../../plots/cartesian/axis_ids":251,"../../plots/plots":282,"../../registry":290,"../color":75,"../drawing":97,"./constants":139,"./get_update_object":142,d3:9}],142:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t){var n=e._name,a={};if("all"===t.step)a[n+".autorange"]=!0;else{var i=function(e,t){var n,a=e.range,i=new Date(e.r2l(a[1])),o=t.step,l=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[o].utc.offset(i,-l));break;case"todate":var s=r.time[o].utc.offset(i,-l);n=e.l2r(+r.time[o].utc.ceil(s))}return[n,a[1]]}(e,t);a[n+".range[0]"]=i[0],a[n+".range[1]"]=i[1]}return a}},{d3:9}],143:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":138,"./defaults":140,"./draw":141}],144:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":74}],145:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,a=e("../../plots/cartesian/autorange").getAutoRange,i=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var o=t[n],l=o[i.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=a(e,o))}}},{"../../plots/cartesian/autorange":247,"../../plots/cartesian/axis_ids":251,"./constants":146}],146:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],147:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plot_api/plot_template"),i=e("../../plots/cartesian/axis_ids"),o=e("./attributes"),l=e("./oppaxis_attributes");t.exports=function(e,t,n){var s=e[n],c=t[n];if(s.rangeslider||t._requestRangeslider[c._id]){r.isPlainObject(s.rangeslider)||(s.rangeslider={});var u,f,d=s.rangeslider,p=a.newContainer(c,"rangeslider");if(x("visible")){x("bgcolor",t.plot_bgcolor),x("bordercolor"),x("borderwidth"),x("thickness"),x("autorange",!c.isValidRange(d.range)),x("range");var $=t._subplots;if($)for(var h=$.cartesian.filter(function(e){return e.substr(0,e.indexOf("y"))===i.name2id(n)}).map(function(e){return e.substr(e.indexOf("y"),e.length)}),g=r.simpleMap(h,i.id2name),v=0;v<g.length;v++){var m=g[v];u=d[m]||{},f=a.newContainer(p,m,"yaxis");var y,_=t[m];u.range&&_.isValidRange(u.range)&&(y="fixed"),"match"!==b("rangemode",y)&&b("range",_.range.slice())}p._input=d}}function x(e,t){return r.coerce(d,p,o,e,t)}function b(e,t){return r.coerce(u,f,l,e,t)}}},{"../../lib":202,"../../plot_api/plot_template":237,"../../plots/cartesian/axis_ids":251,"./attributes":144,"./oppaxis_attributes":151}],148:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../plots/plots"),o=e("../../lib"),l=o.strTranslate,s=e("../drawing"),c=e("../color"),u=e("../titles"),f=e("../../plots/cartesian"),d=e("../../plots/cartesian/axis_ids"),p=e("../dragelement"),$=e("../../lib/setcursor"),h=e("./constants");function g(e,t,n,r){var a=o.ensureSingle(e,"rect",h.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),i=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,c=-r._offsetShift,u=s.crispRound(t,r.borderwidth);a.attr({width:r._width+i,height:r._height+i,transform:l(c,c),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function v(e,t,n,r){var a=t._fullLayout;o.ensureSingleById(a._topdefs,"clipPath",r._clipId,function(e){e.append("rect").attr({x:0,y:0})}).select("rect").attr({width:r._width,height:r._height})}function m(e,t,n,a){var l,c=t.calcdata,u=e.selectAll("g."+h.rangePlotClassName).data(n._subplotsWith,o.identity);u.enter().append("g").attr("class",function(e){return h.rangePlotClassName+" "+e}).call(s.setClipUrl,a._clipId,t),u.order(),u.exit().remove(),u.each(function(e,o){var s=r.select(this),u=d.getFromId(t,e,"y"),p=u._name,$=a[p],h={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:a.range.slice(),calendar:n.calendar},width:a._width,height:a._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};n.rangebreaks&&(h.layout.xaxis.rangebreaks=n.rangebreaks),h.layout[p]={type:u.type,domain:[0,1],range:"match"!==$.rangemode?$.range.slice():u.range.slice(),calendar:u.calendar},u.rangebreaks&&(h.layout[p].rangebreaks=u.rangebreaks),i.supplyDefaults(h);var g=h._fullLayout.xaxis,v=h._fullLayout[p];g.clearCalc(),g.setScale(),v.clearCalc(),v.setScale();var m={id:e,plotgroup:s,xaxis:g,yaxis:v,isRangePlot:!0};0===o?l=m:(m.mainplot="xy",m.mainplotinfo=l),f.rangePlot(t,m,function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],i=a[0].trace;i.xaxis+i.yaxis===t&&n.push(a)}return n}(c,e))})}function y(e,t,n,r,a){o.ensureSingle(e,"rect",h.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",r._height).call(c.fill,h.maskColor),o.ensureSingle(e,"rect",h.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",r._height).call(c.fill,h.maskColor),"match"!==a.rangemode&&(o.ensureSingle(e,"rect",h.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",r._width).call(c.fill,h.maskOppAxisColor),o.ensureSingle(e,"rect",h.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",r._width).style("border-top",h.maskOppBorder).call(c.fill,h.maskOppAxisColor))}function _(e,t,n,r){t._context.staticPlot||o.ensureSingle(e,"rect",h.slideBoxClassName,function(e){e.attr({y:0,cursor:h.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:r._height,fill:h.slideBoxFill})}function x(e,t,n,r){var a=o.ensureSingle(e,"g",h.grabberMinClassName),i=o.ensureSingle(e,"g",h.grabberMaxClassName),l={x:0,width:h.handleWidth,rx:h.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":h.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(r._height/4),height:Math.round(r._height/2)};o.ensureSingle(a,"rect",h.handleMinClassName,function(e){e.attr(l)}).attr(s),o.ensureSingle(i,"rect",h.handleMaxClassName,function(e){e.attr(l)}).attr(s);var u={width:h.grabAreaWidth,x:0,y:0,fill:h.grabAreaFill,cursor:t._context.staticPlot?void 0:h.grabAreaCursor};o.ensureSingle(a,"rect",h.grabAreaMinClassName,function(e){e.attr(u)}).attr("height",r._height),o.ensureSingle(i,"rect",h.grabAreaMaxClassName,function(e){e.attr(u)}).attr("height",r._height)}t.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,i=0;i<n.length;i++){var s=n[i][h.name];s._clipId=s._id+"-"+t._uid}var c=t._infolayer.selectAll("g."+h.containerClassName).data(n,function(e){return e._name});c.exit().each(function(e){var n=e[h.name];t._topdefs.select("#"+n._clipId).remove()}).remove(),0!==n.length&&(c.enter().append("g").classed(h.containerClassName,!0).attr("pointer-events","all"),c.each(function(n){var i=r.select(this),s=n[h.name],c=t[d.id2name(n.anchor)],f=s[d.id2name(n.anchor)];if(s.range){var b,w=o.simpleMap(s.range,n.r2l),k=o.simpleMap(n.range,n.r2l);b=k[0]<k[1]?[Math.min(w[0],k[0]),Math.max(w[1],k[1])]:[Math.max(w[0],k[0]),Math.min(w[1],k[1])],s.range=s._input.range=o.simpleMap(b,n.l2r)}n.cleanRange("rangeslider.range");var T=t._size,A=n.domain;s._width=T.w*(A[1]-A[0]);var L=Math.round(T.l+T.w*A[0]),C=Math.round(T.t+T.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+s._offsetShift+h.extraPad);i.attr("transform",l(L,C)),s._rl=o.simpleMap(s.range,n.r2l);var S=s._rl[0],M=s._rl[1],O=M-S;if(s.p2d=function(e){return e/s._width*O+S},s.d2p=function(e){return(e-S)/O*s._width},n.rangebreaks){var D=n.locateBreaks(S,M);if(D.length){var P,z,R=0;for(P=0;P<D.length;P++)R+=(z=D[P]).max-z.min;var I=s._width/(M-S-R),E=[-I*S];for(P=0;P<D.length;P++)z=D[P],E.push(E[E.length-1]-I*(z.max-z.min));for(s.d2p=function(e){for(var t=E[0],n=0;n<D.length;n++){var r=D[n];if(e>=r.max)t=E[n+1];else if(e<r.min)break}return t+I*e},P=0;P<D.length;P++)(z=D[P]).pmin=s.d2p(z.min),z.pmax=s.d2p(z.max);s.p2d=function(e){for(var t=E[0],n=0;n<D.length;n++){var r=D[n];if(e>=r.pmax)t=E[n+1];else if(e<r.pmin)break}return(e-t)/I}}}if("match"!==f.rangemode){var F=c.r2l(f.range[0]),N=c.r2l(f.range[1])-F;s.d2pOppAxis=function(e){return(e-F)/N*s._height}}i.call(g,e,n,s).call(v,e,n,s).call(m,e,n,s).call(y,e,n,s,f).call(_,e,n,s).call(x,e,n,s),function(e,t,n,i){if(!t._context.staticPlot){var l=e.select("rect."+h.slideBoxClassName).node(),s=e.select("rect."+h.grabAreaMinClassName).node(),c=e.select("rect."+h.grabAreaMaxClassName).node();e.on("mousedown",u),e.on("touchstart",u)}function u(){var u=r.event,f=u.target,d=u.clientX||u.touches[0].clientX,h=d-e.node().getBoundingClientRect().left,g=i.d2p(n._rl[0]),v=i.d2p(n._rl[1]),m=p.coverSlip();function y(e){var u,p,y,_=+(e.clientX||e.touches[0].clientX)-d;switch(f){case l:y="ew-resize",u=g+_,p=v+_;break;case s:y="col-resize",u=g+_,p=v;break;case c:y="col-resize",u=g,p=v+_;break;default:y="ew-resize",u=h,p=h+_}if(p<u){var x=p;p=u,u=x}i._pixelMin=u,i._pixelMax=p,$(r.select(m),y),function(e,t,n,r){function i(e){return n.l2r(o.constrain(e,r._rl[0],r._rl[1]))}var l=i(r.p2d(r._pixelMin)),s=i(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){a.call("_guiRelayout",t,n._name+".range",[l,s])})}(0,t,n,i)}function _(){m.removeEventListener("mousemove",y),m.removeEventListener("mouseup",_),this.removeEventListener("touchmove",y),this.removeEventListener("touchend",_),o.removeElement(m)}this.addEventListener("touchmove",y),this.addEventListener("touchend",_),m.addEventListener("mousemove",y),m.addEventListener("mouseup",_)}}(i,e,n,s),function(e,t,n,r,a,i){var s=h.handleWidth/2;function c(e){return o.constrain(e,0,r._width)}function u(e){return o.constrain(e,0,r._height)}function f(e){return o.constrain(e,-s,r._width+s)}var d=c(r.d2p(n._rl[0])),p=c(r.d2p(n._rl[1]));if(e.select("rect."+h.slideBoxClassName).attr("x",d).attr("width",p-d),e.select("rect."+h.maskMinClassName).attr("width",d),e.select("rect."+h.maskMaxClassName).attr("x",p).attr("width",r._width-p),"match"!==i.rangemode){var $=r._height-u(r.d2pOppAxis(a._rl[1])),g=r._height-u(r.d2pOppAxis(a._rl[0]));e.select("rect."+h.maskMinOppAxisClassName).attr("x",d).attr("height",$).attr("width",p-d),e.select("rect."+h.maskMaxOppAxisClassName).attr("x",d).attr("y",g).attr("height",r._height-g).attr("width",p-d),e.select("rect."+h.slideBoxClassName).attr("y",$).attr("height",g-$)}var v=Math.round(f(d-s))-.5,m=Math.round(f(p-s))+.5;e.select("g."+h.grabberMinClassName).attr("transform",l(v,.5)),e.select("g."+h.grabberMaxClassName).attr("transform",l(m,.5))}(i,0,n,s,c,f),"bottom"===n.side&&u.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:C+s._height+s._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":202,"../../lib/setcursor":222,"../../plots/cartesian":261,"../../plots/cartesian/axis_ids":251,"../../plots/plots":282,"../../registry":290,"../color":75,"../dragelement":94,"../drawing":97,"../titles":170,"./constants":146,d3:9}],149:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),a=e("../../lib/svg_text_utils"),i=e("./constants"),o=e("../../constants/alignment").LINE_SPACING,l=i.name;function s(e){var t=e&&e[l];return t&&t.visible}n.isVisible=s,n.makeData=function(e){var t=r.list({_fullLayout:e},"x",!0),n=e.margin,a=[];if(!e._has("gl2d"))for(var i=0;i<t.length;i++){var o=t[i];if(s(o)){a.push(o);var c=o[l];c._id=l+o._id,c._height=(e.height-n.b-n.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}e._rangeSliderData=a},n.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[l],s=t._id.charAt(0),c=0,u=0;return"bottom"===t.side&&(c=t._depth,t.title.text!==n._dfltTitle[s]&&(u=1.5*t.title.font.size+10+r._offsetShift,u+=(t.title.text.match(a.BR_TAG_ALL)||[]).length*t.title.font.size*o)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+c+Math.max(n.margin.b,u),pad:i.extraPad+2*r._offsetShift}}},{"../../constants/alignment":177,"../../lib/svg_text_utils":224,"../../plots/cartesian/axis_ids":251,"./constants":146}],150:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./attributes"),i=e("./oppaxis_attributes"),o=e("./helpers");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},a,{yaxis:i})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw"),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}},{"../../lib":202,"./attributes":144,"./calc_autorange":145,"./defaults":147,"./draw":148,"./helpers":149,"./oppaxis_attributes":151}],151:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],152:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),a=e("../../traces/scatter/attributes").line,i=e("../drawing/attributes").dash,o=e("../../lib/extend").extendFlat,l=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=l("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:o({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:o({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:o({},a.color,{editType:"arraydraw"}),width:o({},a.width,{editType:"calc+arraydraw"}),dash:o({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":178,"../../lib/extend":196,"../../plot_api/plot_template":237,"../../traces/scatter/attributes":330,"../annotations/attributes":60,"../drawing/attributes":96}],153:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("./constants"),o=e("./helpers");function l(e){return c(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function s(e){return c(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function c(e,t,n,a,l,s){var c=e/2,u=s;if("pixel"===t){var f=l?o.extractPathCoords(l,s?i.paramIsY:i.paramIsX):[n,a],d=r.aggNums(Math.max,null,f),p=r.aggNums(Math.min,null,f),$=p<0?Math.abs(p)+c:c,h=d>0?d+c:c;return{ppad:c,ppadplus:u?$:h,ppadminus:u?h:$}}return{ppad:c}}function u(e,t,n,r,a){var l="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[l(t),l(n)];if(r){var s,c,u,f,d=1/0,p=-1/0,$=r.match(i.segmentRE);for("date"===e.type&&(l=o.decodeDate(l)),s=0;s<$.length;s++)void 0===(c=a[$[s].charAt(0)].drawn)||(u=$[s].substr(1).match(i.paramRE))&&!(u.length<c)&&((f=l(u[c]))<d&&(d=f),f>p&&(p=f));return p>=d?[d,p]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var o=0;o<n.length;o++){var c,f,d=n[o];d._extremes={};var p=a.getRefType(d.xref),$=a.getRefType(d.yref);if("paper"!==d.xref&&"domain"!==p){var h="pixel"===d.xsizemode?d.xanchor:d.x0,g="pixel"===d.xsizemode?d.xanchor:d.x1;(f=u(c=a.getFromId(e,d.xref),h,g,d.path,i.paramIsX))&&(d._extremes[c._id]=a.findExtremes(c,f,l(d)))}if("paper"!==d.yref&&"domain"!==$){var v="pixel"===d.ysizemode?d.yanchor:d.y0,m="pixel"===d.ysizemode?d.yanchor:d.y1;(f=u(c=a.getFromId(e,d.yref),v,m,d.path,i.paramIsY))&&(d._extremes[c._id]=a.findExtremes(c,f,s(d)))}}}},{"../../lib":202,"../../plots/cartesian/axes":248,"./constants":154,"./helpers":163}],154:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],155:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/cartesian/axes"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),l=e("./helpers");function s(e,t,n){function i(n,a){return r.coerce(e,t,o,n,a)}if(i("visible")){var s=i("path"),c=i("type",s?"path":"rect");"path"!==t.type&&delete t.path,i("editable"),i("layer"),i("opacity"),i("fillcolor"),i("fillrule"),i("line.width")&&(i("line.color"),i("line.dash"));for(var u=i("xsizemode"),f=i("ysizemode"),d=["x","y"],p=0;p<2;p++){var $,h,g,v=d[p],m=v+"anchor",y="x"===v?u:f,_={_fullLayout:n},x=a.coerceRef(e,t,_,v,void 0,"paper");if("range"===a.getRefType(x)?(($=a.getFromId(_,x))._shapeIndices.push(t._index),g=l.rangeToShapePosition($),h=l.shapePositionToRange($)):h=g=r.identity,"path"!==c){var b=v+"0",w=v+"1",k=e[b],T=e[w];e[b]=h(e[b],!0),e[w]=h(e[w],!0),"pixel"===y?(i(b,0),i(w,10)):(a.coercePosition(t,_,i,x,b,.25),a.coercePosition(t,_,i,x,w,.75)),t[b]=g(t[b]),t[w]=g(t[w]),e[b]=k,e[w]=T}if("pixel"===y){var A=e[m];e[m]=h(e[m],!0),a.coercePosition(t,_,i,x,m,.25),t[m]=g(t[m]),e[m]=A}}"path"===c?i("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){i(e,t,{name:"shapes",handleItemDefaults:s})}},{"../../lib":202,"../../plots/array_container_defaults":243,"../../plots/cartesian/axes":248,"./attributes":152,"./helpers":163}],156:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./draw_newshape/helpers").readPaths,l=e("./draw_newshape/display_outlines"),s=e("../../plots/cartesian/handle_outline").clearOutlineControllers,c=e("../color"),u=e("../drawing"),f=e("../../plot_api/plot_template").arrayEditor,d=e("../dragelement"),p=e("../../lib/setcursor"),$=e("./constants"),h=e("./helpers");function g(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var a=0;a<t.shapes.length;a++)t.shapes[a].visible&&y(e,a)}function v(e){return!!e._fullLayout._drawing}function m(e){return!e._context.edits.shapePosition}function y(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=h.makeOptionsAndPlotinfo(e,t),s=n.options,y=n.plotinfo;s._input&&!1!==s.visible&&function n(k){var T=x(e,s),A={"data-index":t,"fill-rule":s.fillrule,d:T},L=s.opacity,C=s.fillcolor,S=s.line.width?s.line.color:"rgba(0,0,0,0)",M=s.line.width,O=s.line.dash;M||!0!==s.editable||(M=5,O="solid");var D="Z"!==T[T.length-1],P=m(e)&&s.editable&&e._fullLayout._activeShapeIndex===t;P&&(C=D?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,L=e._fullLayout.activeshape.opacity);var z,R=k.append("path").attr(A).style("opacity",L).call(c.stroke,S).call(c.fill,C).call(u.dashLine,O,M);if(_(R,e,s),(P||e._context.edits.shapePosition)&&(z=f(e.layout,"shapes",s)),P){R.style({cursor:"move"});var I={element:R.node(),plotinfo:y,gd:e,editHelpers:z,isActiveShape:!0},E=o(T,e);l(E,R,I)}else e._context.edits.shapePosition?function(e,t,n,o,l,s){var c,f,g,m,y,w,k,T,A,L,C,S,M,O,D,P,z,R,I,E,F="pixel"===n.xsizemode,N="pixel"===n.ysizemode,H="line"===n.type,B="path"===n.type,V=s.modifyItem,j=i.getFromId(e,n.xref),U=i.getRefType(n.xref),q=i.getFromId(e,n.yref),G=i.getRefType(n.yref),Z=h.getDataToPixel(e,j,!1,U),Y=h.getDataToPixel(e,q,!0,G),X=h.getPixelToData(e,j,!1,U),W=h.getPixelToData(e,q,!0,G),Q=H?(c=Math.max(n.line.width,10),(f=l.append("g").attr("data-index",o)).append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":c,"stroke-opacity":"0"}),g={"fill-opacity":"0"},m=Math.max(c/2,10),f.append("circle").attr({"data-line-point":"start-point",cx:F?Z(n.xanchor)+n.x0:Z(n.x0),cy:N?Y(n.yanchor)-n.y0:Y(n.y0),r:m}).style(g).classed("cursor-grab",!0),f.append("circle").attr({"data-line-point":"end-point",cx:F?Z(n.xanchor)+n.x1:Z(n.x1),cy:N?Y(n.yanchor)-n.y1:Y(n.y1),r:m}).style(g).classed("cursor-grab",!0),f):t,J={element:Q.node(),gd:e,prepFn:function(r){if(!v(e)){var a,o,s,c,f,d,p,$;F&&(A=Z(n.xanchor)),N&&(L=Y(n.yanchor)),"path"===n.type?I=n.path:(y=F?n.x0:Z(n.x0),w=N?n.y0:Y(n.y0),k=F?n.x1:Z(n.x1),T=N?n.y1:Y(n.y1)),y<k?(M=y,z="x0",O=k,R="x1"):(M=k,z="x1",O=y,R="x0"),!N&&w<T||N&&w>T?(C=w,D="y0",S=T,P="y1"):(C=T,D="y1",S=w,P="y0"),K(r),en(l,n),a=t,o=n,s=e,c=o.xref,f=o.yref,d=i.getFromId(s,c),p=i.getFromId(s,f),$="","paper"===c||d.autorange||($+=c),"paper"===f||p.autorange||($+=f),u.setClipUrl(a,$?"clip"+s._fullLayout._uid+$:null,s),J.moveFn="move"===E?ee:et,J.altKey=r.altKey}},doneFn:function(){v(e)||(p(t),er(l),_(t,e,n),r.call("_guiRelayout",e,s.getUpdateObj()))},clickFn:function(){v(e)||er(l)}};function K(n){if(v(e))E=null;else if(H)E="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=J.element.getBoundingClientRect(),a=r.right-r.left,i=r.bottom-r.top,o=n.clientX-r.left,l=n.clientY-r.top,s=!B&&a>10&&i>10&&!n.shiftKey?d.getCursor(o/a,1-l/i):"move";p(t,s),E=s.split("-")[0]}}function ee(r,a){if("path"===n.type){var i=function(e){return e},o=i,s=i;F?V("xanchor",n.xanchor=X(A+r)):(o=function(e){return X(Z(e)+r)},j&&"date"===j.type&&(o=h.encodeDate(o))),N?V("yanchor",n.yanchor=W(L+a)):(s=function(e){return W(Y(e)+a)},q&&"date"===q.type&&(s=h.encodeDate(s))),V("path",n.path=b(I,o,s))}else F?V("xanchor",n.xanchor=X(A+r)):(V("x0",n.x0=X(y+r)),V("x1",n.x1=X(k+r))),N?V("yanchor",n.yanchor=W(L+a)):(V("y0",n.y0=W(w+a)),V("y1",n.y1=W(T+a)));t.attr("d",x(e,n)),en(l,n)}function et(r,a){if(B){var i=function(e){return e},o=i,s=i;F?V("xanchor",n.xanchor=X(A+r)):(o=function(e){return X(Z(e)+r)},j&&"date"===j.type&&(o=h.encodeDate(o))),N?V("yanchor",n.yanchor=W(L+a)):(s=function(e){return W(Y(e)+a)},q&&"date"===q.type&&(s=h.encodeDate(s))),V("path",n.path=b(I,o,s))}else if(H){if("resize-over-start-point"===E){var c=y+r,u=N?w-a:w+a;V("x0",n.x0=F?c:X(c)),V("y0",n.y0=N?u:W(u))}else if("resize-over-end-point"===E){var f=k+r,d=N?T-a:T+a;V("x1",n.x1=F?f:X(f)),V("y1",n.y1=N?d:W(d))}}else{var p=function(e){return -1!==E.indexOf(e)},$=p("n"),g=p("s"),v=p("w"),m=p("e"),_=$?C+a:C,U=g?S+a:S,G=v?M+r:M,Q=m?O+r:O;N&&($&&(_=C-a),g&&(U=S-a)),(!N&&U-_>10||N&&_-U>10)&&(V(D,n[D]=N?_:W(_)),V(P,n[P]=N?U:W(U))),Q-G>10&&(V(z,n[z]=F?G:X(G)),V(R,n[R]=F?Q:X(Q)))}t.attr("d",x(e,n)),en(l,n)}function en(e,t){(F||N)&&function(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=Z(F?t.xanchor:a.midRange(n?[t.x0,t.x1]:h.extractPathCoords(t.path,$.paramIsX))),o=Y(N?t.yanchor:a.midRange(n?[t.y0,t.y1]:h.extractPathCoords(t.path,$.paramIsY)));if(i=h.roundPositionForSharpStrokeRendering(i,1),o=h.roundPositionForSharpStrokeRendering(o,1),F&&N){var l="M"+(i-1-1)+","+(o-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",l)}else if(F){var s="M"+(i-1-1)+","+(o-9-1)+"v18 h2 v-18 Z";r.attr("d",s)}else{var c="M"+(i-9-1)+","+(o-1-1)+"h18 v2 h-18 Z";r.attr("d",c)}}()}function er(e){e.selectAll(".visual-cue").remove()}d.init(J),Q.node().onmousemove=K}(e,R,s,t,k,z):!0===s.editable&&R.style("pointer-events",D||c.opacity(C)*L<=.5?"stroke":"all");R.node().addEventListener("click",function(){return function(e,t){if(m(e)){var n=+t.node().getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex)return void w(e);e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=w,g(e)}}}(e,R)})}("below"!==s.layer?e._fullLayout._shapeUpperLayer:"paper"===s.xref||"paper"===s.yref?e._fullLayout._shapeLowerLayer:y._hadPlotinfo?(y.mainplotinfo||y).shapelayer:e._fullLayout._shapeLowerLayer)}function _(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function x(e,t){var n,r,o,l,s,c,u,f,d,p,g,v,m,y,_,x,b=t.type,w=i.getRefType(t.xref),k=i.getRefType(t.yref),T=i.getFromId(e,t.xref),A=i.getFromId(e,t.yref),L=e._fullLayout._size;if(T?"domain"===w?p=function(e){return T._offset+T._length*e}:(d=h.shapePositionToRange(T),p=function(e){return T._offset+T.r2p(d(e,!0))}):p=function(e){return L.l+L.w*e},A?"domain"===k?v=function(e){return A._offset+A._length*(1-e)}:(g=h.shapePositionToRange(A),v=function(e){return A._offset+A.r2p(g(e,!0))}):v=function(e){return L.t+L.h*(1-e)},"path"===b)return T&&"date"===T.type&&(p=h.decodeDate(p)),A&&"date"===A.type&&(v=h.decodeDate(v)),n=t,r=p,o=v,l=n.path,s=n.xsizemode,c=n.ysizemode,u=n.xanchor,f=n.yanchor,l.replace($.segmentRE,function(e){var t=0,n=e.charAt(0),i=$.paramIsX[n],l=$.paramIsY[n],d=$.numParams[n],p=e.substr(1).replace($.paramRE,function(e){return i[t]?e="pixel"===s?r(u)+Number(e):r(e):l[t]&&(e="pixel"===c?o(f)-Number(e):o(e)),++t>d&&(e="X"),e});return t>d&&(p=p.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+e)),n+p});if("pixel"===t.xsizemode){var C=p(t.xanchor);m=C+t.x0,y=C+t.x1}else m=p(t.x0),y=p(t.x1);if("pixel"===t.ysizemode){var S=v(t.yanchor);_=S-t.y0,x=S-t.y1}else _=v(t.y0),x=v(t.y1);if("line"===b)return"M"+m+","+_+"L"+y+","+x;if("rect"===b)return"M"+m+","+_+"H"+y+"V"+x+"H"+m+"Z";var M=(m+y)/2,O=(_+x)/2,D=Math.abs(M-m),P=Math.abs(O-_),z="A"+D+","+P,R=M+D+","+O;return"M"+R+z+" 0 1,1 "+M+","+(O-P)+z+" 0 0,1 "+R+"Z"}function b(e,t,n){return e.replace($.segmentRE,function(e){var r=0,a=e.charAt(0),i=$.paramIsX[a],o=$.paramIsY[a],l=$.numParams[a];return a+e.substr(1).replace($.paramRE,function(e){return r>=l||(i[r]?e=t(e):o[r]&&(e=n(e)),r++),e})})}function w(e){m(e)&&e._fullLayout._activeShapeIndex>=0&&(s(e),delete e._fullLayout._activeShapeIndex,g(e))}t.exports={draw:g,drawOne:y,eraseActiveShape:function(e){if(m(e)){s(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var a=[],i=0;i<n.length;i++)i!==t&&a.push(n[i]);delete e._fullLayout._activeShapeIndex,r.call("_guiRelayout",e,{shapes:a})}}}}},{"../../lib":202,"../../lib/setcursor":222,"../../plot_api/plot_template":237,"../../plots/cartesian/axes":248,"../../plots/cartesian/handle_outline":258,"../../registry":290,"../color":75,"../dragelement":94,"../drawing":97,"./constants":154,"./draw_newshape/display_outlines":160,"./draw_newshape/helpers":161,"./helpers":163}],157:[function(e,t,n){"use strict";var r=e("../../drawing/attributes").dash,a=e("../../../lib/extend").extendFlat;t.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:a({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":196,"../../drawing/attributes":96}],158:[function(e,t,n){"use strict";t.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],159:[function(e,t,n){"use strict";var r=e("../../color");t.exports=function(e,t,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var a=(e||{}).plot_bgcolor||"#FFF";n("newshape.line.color",r.contrast(a)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":75}],160:[function(e,t,n){"use strict";var r=e("../../dragelement"),a=e("../../dragelement/helpers").drawMode,i=e("../../../registry"),o=e("./constants"),l=o.i000,s=o.i090,c=o.i180,u=o.i270,f=e("../../../plots/cartesian/handle_outline").clearOutlineControllers,d=e("./helpers"),p=d.pointsShapeRectangle,$=d.pointsShapeEllipse,h=d.writePaths,g=e("./newshapes");t.exports=function e(t,n,o,d){d||(d=0);var v=o.gd;function m(){e(t,n,o,d++),$(t[0])&&y({redrawing:!0})}function y(e){o.isActiveShape=!1;var t=g(n,o);Object.keys(t).length&&i.call((e||{}).redrawing?"relayout":"_guiRelayout",v,t)}var _,x,b,w,k,T=o.isActiveShape,A=v._fullLayout._zoomlayer;function L(e){b=+e.srcElement.getAttribute("data-i"),w=+e.srcElement.getAttribute("data-j"),_[b][w].moveFn=C}function C(e,n){if(t.length){var r=k[b][w][1],a=k[b][w][2],i=t[b],o=i.length;if(p(i)){for(var l=0;l<o;l++)if(l!==w){var s=i[l];s[1]===i[w][1]&&(s[1]=r+e),s[2]===i[w][2]&&(s[2]=a+n)}if(i[w][1]=r+e,i[w][2]=a+n,!p(i))for(var c=0;c<o;c++)for(var u=0;u<i[c].length;u++)i[c][u]=k[b][c][u]}else i[w][1]=r+e,i[w][2]=a+n;m()}}function S(){y()}function M(e,n){if(2===e){b=+n.srcElement.getAttribute("data-i"),w=+n.srcElement.getAttribute("data-j");var r=t[b];p(r)||$(r)||function(){if(t.length&&t[b]&&t[b].length){for(var e=[],n=0;n<t[b].length;n++)n!==w&&e.push(t[b][n]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===w&&(e[0][0]="M"),t[b]=e,m(),y())}}()}}function O(e,n){!function(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var a=0;a<t[r].length;a++)for(var i=0;i+2<t[r][a].length;i+=2)t[r][a][i+1]=k[r][a][i+1]+e,t[r][a][i+2]=k[r][a][i+2]+n}(e,n),m()}a(o.dragmode)?v._fullLayout._drawing=!0:v._fullLayout._activeShapeIndex>=0&&f(v),n.attr("d",h(t)),T&&!d&&(k=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var a=0;a<r.length;a++){e[n][a]=[];for(var i=0;i<r[a].length;i++)e[n][a][i]=r[a][i]}}return e}([],t),function(e){_=[];for(var n=0;n<t.length;n++){var a=t[n],i=!p(a)&&$(a);_[n]=[];for(var o=0;o<a.length;o++)if("Z"!==a[o][0]&&(!i||o===l||o===s||o===c||o===u)){var f=a[o][1],d=a[o][2],h=e.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",o).attr("cx",f).attr("cy",d).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});_[n][o]={element:h.node(),gd:v,prepFn:L,doneFn:S,clickFn:M},r.init(_[n][o])}}}(A.append("g").attr("class","outline-controllers")),x=[],t.length&&(x[0]={element:n[0][0],gd:v,prepFn:function e(t){(b=+t.srcElement.getAttribute("data-i"))||(b=0),x[b].moveFn=O},doneFn:function e(){y()}},r.init(x[0])))}},{"../../../plots/cartesian/handle_outline":258,"../../../registry":290,"../../dragelement":94,"../../dragelement/helpers":93,"./constants":158,"./helpers":161,"./newshapes":162}],161:[function(e,t,n){"use strict";var r=e("parse-svg-path"),a=e("./constants"),i=a.CIRCLE_SIDES,o=a.SQRT2,l=e("../../../plots/cartesian/helpers"),s=l.p2r,c=l.r2p,u=[0,3,4,5,6,1,2],f=[0,3,4,1,2];function d(e,t){return 1e-6>=Math.abs(e-t)}function p(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}n.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var n="",r=0;r<t;r++)for(var a=e[r].length,i=0;i<a;i++){var o=e[r][i][0];if("Z"===o)n+="Z";else for(var l=e[r][i].length,s=0;s<l;s++){var c=s;"Q"===o||"S"===o?c=f[s]:"C"===o&&(c=u[s]),n+=e[r][i][c],s>0&&s<l-1&&(n+=",")}}return n},n.readPaths=function(e,t,n,a){var o,l,u,f=r(e),d=[],p=-1,$=0,h=0,g=function(){l=$,u=h};g();for(var v=0;v<f.length;v++){var m,y,_,x,b=[],w=f[v][0],k=w;switch(w){case"M":d[++p]=[],$=+f[v][1],h=+f[v][2],b.push([k,$,h]),g();break;case"Q":case"S":m=+f[v][1],_=+f[v][2],$=+f[v][3],h=+f[v][4],b.push([k,$,h,m,_]);break;case"C":m=+f[v][1],_=+f[v][2],y=+f[v][3],x=+f[v][4],$=+f[v][5],h=+f[v][6],b.push([k,$,h,m,_,y,x]);break;case"T":case"L":$=+f[v][1],h=+f[v][2],b.push([k,$,h]);break;case"H":k="L",$=+f[v][1],b.push([k,$,h]);break;case"V":k="L",h=+f[v][1],b.push([k,$,h]);break;case"A":k="L";var T=+f[v][1],A=+f[v][2];+f[v][4]||(T=-T,A=-A);var L=$-T,C=h;for(o=1;o<=i/2;o++){var S=2*Math.PI*o/i;b.push([k,L+T*Math.cos(S),C+A*Math.sin(S)])}break;case"Z":$===l&&h===u||($=l,h=u,b.push([k,$,h]))}for(var M=(n||{}).domain,O=t._fullLayout._size,D=n&&"pixel"===n.xsizemode,P=n&&"pixel"===n.ysizemode,z=!1===a,R=0;R<b.length;R++){for(o=0;o+2<7;o+=2){var I=b[R][o+1],E=b[R][o+2];void 0!==I&&void 0!==E&&($=I,h=E,n&&(n.xaxis&&n.xaxis.p2r?(z&&(I-=n.xaxis._offset),I=D?c(n.xaxis,n.xanchor)+I:s(n.xaxis,I)):(z&&(I-=O.l),M?I=M.x[0]+I/O.w:I/=O.w),n.yaxis&&n.yaxis.p2r?(z&&(E-=n.yaxis._offset),E=P?c(n.yaxis,n.yanchor)-E:s(n.yaxis,E)):(z&&(E-=O.t),E=M?M.y[1]-E/O.h:1-E/O.h)),b[R][o+1]=I,b[R][o+2]=E)}d[p].push(b[R].slice())}}return d},n.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++)if(!d(e[0][t]-e[1][t],e[3][t]-e[2][t])||!d(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1;return!(!d(e[0][1],e[1][1])&&!d(e[0][1],e[3][1]))&&!!(p(e[0],e[1])*p(e[0],e[3]))},n.pointsShapeEllipse=function(e){var t=e.length;if(t!==i+1)return!1;t=i;for(var n=0;n<t;n++){var r=(2*t-n)%t,a=(t/2+r)%t,o=(t/2+n)%t;if(!d(p(e[n],e[o]),p(e[r],e[a])))return!1}return!0},n.handleEllipse=function(e,t,r){if(!e)return[t,r];var a=n.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]}),l=(a.x1+a.x0)/2,s=(a.y1+a.y0)/2,c=(a.x1-a.x0)/2,u=(a.y1-a.y0)/2;c||(c=u/=o),u||(u=c/=o);for(var f=[],d=0;d<i;d++){var p=2*d*Math.PI/i;f.push([l+c*Math.cos(p),s+u*Math.sin(p)])}return f},n.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,a=e.y1,i=r-t,l=a-n,s=((t-=i)+r)/2,c=((n-=l)+a)/2;return{x0:s-(i*=o),y0:c-(l*=o),x1:s+i,y1:c+l}}},{"../../../plots/cartesian/helpers":259,"./constants":158,"parse-svg-path":48}],162:[function(e,t,n){"use strict";var r=e("../../dragelement/helpers"),a=r.drawMode,i=r.openMode,o=e("./constants"),l=o.i000,s=o.i090,c=o.i180,u=o.i270,f=o.cos45,d=o.sin45,p=e("../../../plots/cartesian/helpers"),$=p.p2r,h=p.r2p,g=e("../../../plots/cartesian/handle_outline").clearSelect,v=e("./helpers"),m=v.readPaths,y=v.writePaths,_=v.ellipseOver;t.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute("d"),o=t.gd,p=o._fullLayout.newshape,v=t.plotinfo,x=v.xaxis,b=v.yaxis,w=!!v.domain||!v.xaxis,k=!!v.domain||!v.yaxis,T=t.isActiveShape,A=t.dragmode,L=(o.layout||{}).shapes||[];if(!a(A)&&void 0!==T){var C=o._fullLayout._activeShapeIndex;if(C<L.length)switch(o._fullLayout.shapes[C].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var S=L[C].path||"";A="Z"===S[S.length-1]?"drawclosedpath":"drawopenpath"}}var M,O=i(A),D=m(r,o,v,T),P={editable:!0,xref:w?"paper":x._id,yref:k?"paper":b._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};if(O||(P.fillcolor=p.fillcolor,P.fillrule=p.fillrule),1===D.length&&(M=D[0]),M&&"drawrect"===A)P.type="rect",P.x0=M[0][1],P.y0=M[0][2],P.x1=M[2][1],P.y1=M[2][2];else if(M&&"drawline"===A)P.type="line",P.x0=M[0][1],P.y0=M[0][2],P.x1=M[1][1],P.y1=M[1][2];else if(M&&"drawcircle"===A){P.type="circle";var z=M[l][1],R=M[s][1],I=M[c][1],E=M[u][1],F=M[l][2],N=M[s][2],H=M[c][2],B=M[u][2],V=v.xaxis&&("date"===v.xaxis.type||"log"===v.xaxis.type),j=v.yaxis&&("date"===v.yaxis.type||"log"===v.yaxis.type);V&&(z=h(v.xaxis,z),R=h(v.xaxis,R),I=h(v.xaxis,I),E=h(v.xaxis,E)),j&&(F=h(v.yaxis,F),N=h(v.yaxis,N),H=h(v.yaxis,H),B=h(v.yaxis,B));var U=(R+E)/2,q=(F+H)/2,G=_({x0:U,y0:q,x1:U+(E-R+I-z)/2*f,y1:q+(B-N+H-F)/2*d});V&&(G.x0=$(v.xaxis,G.x0),G.x1=$(v.xaxis,G.x1)),j&&(G.y0=$(v.yaxis,G.y0),G.y1=$(v.yaxis,G.y1)),P.x0=G.x0,P.y0=G.y0,P.x1=G.x1,P.y1=G.y1}else P.type="path",x&&b&&function(e,t,n){var r="date"===t.type,a="date"===n.type;if(!r&&!a)return e;for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var l=0;l+2<e[i][o].length;l+=2)r&&(e[i][o][l+1]=e[i][o][l+1].replace(" ","_")),a&&(e[i][o][l+2]=e[i][o][l+2].replace(" ","_"))}(D,x,b),P.path=y(D),M=null;g(o);for(var Z=t.editHelpers,Y=(Z||{}).modifyItem,X=[],W=0;W<L.length;W++){var Q=o._fullLayout.shapes[W];if(X[W]=Q._input,void 0!==T&&W===o._fullLayout._activeShapeIndex){var J=P;switch(Q.type){case"line":case"rect":case"circle":Y("x0",J.x0),Y("x1",J.x1),Y("y0",J.y0),Y("y1",J.y1);break;case"path":Y("path",J.path)}}}return void 0===T?(X.push(P),X):Z?Z.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":258,"../../../plots/cartesian/helpers":259,"../../dragelement/helpers":93,"./constants":158,"./helpers":161}],163:[function(e,t,n){"use strict";var r=e("./constants"),a=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach(function(e){var i=t[e.charAt(0)].drawn;if(void 0!==i){var o=e.substr(1).match(r.paramRE);!o||o.length<i||n.push(a.cleanNumber(o[i]))}}),n},n.getDataToPixel=function(e,t,r,a){var i,o=e._fullLayout._size;if(t){if("domain"===a)i=function(e){return t._length*(r?1-e:e)+t._offset};else{var l=n.shapePositionToRange(t);i=function(e){return t._offset+t.r2p(l(e,!0))},"date"===t.type&&(i=n.decodeDate(i))}}else i=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return i},n.getPixelToData=function(e,t,r,a){var i,o=e._fullLayout._size;if(t){if("domain"===a)i=function(e){var n=(e-t._offset)/t._length;return r?1-n:n};else{var l=n.rangeToShapePosition(t);i=function(e){return l(t.p2r(e-t._offset))}}}else i=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return i},n.roundPositionForSharpStrokeRendering=function(e,t){var n=Math.round(e);return 1===Math.round(t%2)?n+.5:n},n.makeOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=e._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=e._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}},{"../../lib":202,"./constants":154}],164:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),supplyDrawNewShapeDefaults:e("./draw_newshape/defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":260,"./attributes":152,"./calc_autorange":153,"./defaults":155,"./draw":156,"./draw_newshape/defaults":159}],165:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../../plots/pad_attributes"),i=e("../../lib/extend").extendDeepAll,o=e("../../plot_api/edit_types").overrideAll,l=e("../../plots/animation_attributes"),s=e("../../plot_api/plot_template").templatedArray,c=e("./constants"),u=s("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=o(s("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:u,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(a({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":196,"../../plot_api/edit_types":230,"../../plot_api/plot_template":237,"../../plots/animation_attributes":242,"../../plots/font_attributes":276,"../../plots/pad_attributes":281,"./constants":166}],166:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],167:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/array_container_defaults"),i=e("./attributes"),o=e("./constants").name,l=i.steps;function s(e,t,n){function o(n,a){return r.coerce(e,t,i,n,a)}for(var l=a(e,t,{name:"steps",handleItemDefaults:c}),s=0,u=0;u<l.length;u++)l[u].visible&&s++;if(s<2?t.visible=!1:o("visible")){t._stepCount=s;var f=t._visibleSteps=r.filterVisible(l);(l[o("active")]||{}).visible||(t.active=f[0]._index),o("x"),o("y"),r.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),r.coerceFont(o,"font",n.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),r.coerceFont(o,"currentvalue.font",t.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function c(e,t){function n(n,a){return r.coerce(e,t,l,n,a)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var a=n("label","step-"+t._index);n("value",a),n("execute")}}t.exports=function(e,t){a(e,t,{name:o,handleItemDefaults:s})}},{"../../lib":202,"../../plots/array_container_defaults":243,"./attributes":165,"./constants":166}],168:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plots/plots"),i=e("../color"),o=e("../drawing"),l=e("../../lib"),s=l.strTranslate,c=e("../../lib/svg_text_utils"),u=e("../../plot_api/plot_template").arrayEditor,f=e("./constants"),d=e("../../constants/alignment"),p=d.LINE_SPACING,$=d.FROM_TL,h=d.FROM_BR;function g(e){return f.autoMarginIdRoot+e._index}function v(e){return e._index}function m(e,t){var n=o.tester.selectAll("g."+f.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(f.labelGroupClass,!0);var i=0,s=0;n.each(function(e){var n=x(r.select(this),{step:e},t).node();if(n){var a=o.bBox(n);s=Math.max(s,a.height),i=Math.max(i,a.width)}}),n.remove();var u=t._dims={};u.inputAreaWidth=Math.max(f.railWidth,f.gripHeight);var d=e._fullLayout._size;u.lx=d.l+d.w*t.x,u.ly=d.t+d.h*(1-t.y),"fraction"===t.lenmode?u.outerLength=Math.round(d.w*t.len):u.outerLength=t.len,u.inputAreaStart=0,u.inputAreaLength=Math.round(u.outerLength-t.pad.l-t.pad.r);var p=(u.inputAreaLength-2*f.stepInset)/(t._stepCount-1),v=i+f.labelPadding;if(u.labelStride=Math.max(1,Math.ceil(v/p)),u.labelHeight=s,u.currentValueMaxWidth=0,u.currentValueHeight=0,u.currentValueTotalHeight=0,u.currentValueMaxLines=1,t.currentvalue.visible){var m=o.tester.append("g");n.each(function(e){var n=y(m,t,e.label),r=n.node()&&o.bBox(n.node())||{width:0,height:0},a=c.lineCount(n);u.currentValueMaxWidth=Math.max(u.currentValueMaxWidth,Math.ceil(r.width)),u.currentValueHeight=Math.max(u.currentValueHeight,Math.ceil(r.height)),u.currentValueMaxLines=Math.max(u.currentValueMaxLines,a)}),u.currentValueTotalHeight=u.currentValueHeight+t.currentvalue.offset,m.remove()}u.height=u.currentValueTotalHeight+f.tickOffset+t.ticklen+f.labelOffset+u.labelHeight+t.pad.t+t.pad.b;var _="left";l.isRightAnchor(t)&&(u.lx-=u.outerLength,_="right"),l.isCenterAnchor(t)&&(u.lx-=u.outerLength/2,_="center");var b="top";l.isBottomAnchor(t)&&(u.ly-=u.height,b="bottom"),l.isMiddleAnchor(t)&&(u.ly-=u.height/2,b="middle"),u.outerLength=Math.ceil(u.outerLength),u.height=Math.ceil(u.height),u.lx=Math.round(u.lx),u.ly=Math.round(u.ly);var w={y:t.y,b:u.height*h[b],t:u.height*$[b]};"fraction"===t.lenmode?(w.l=0,w.xl=t.x-t.len*$[_],w.r=0,w.xr=t.x+t.len*h[_]):(w.x=t.x,w.l=u.outerLength*$[_],w.r=u.outerLength*h[_]),a.autoMargin(e,g(t),w)}function y(e,t,n){if(t.currentvalue.visible){var r,a,i=t._dims;switch(t.currentvalue.xanchor){case"right":r=i.inputAreaLength-f.currentValueInset-i.currentValueMaxWidth,a="left";break;case"center":r=.5*i.inputAreaLength,a="middle";break;default:r=f.currentValueInset,a="left"}var s=l.ensureSingle(e,"text",f.labelClass,function(e){e.attr({"text-anchor":a,"data-notex":1})}),u=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)u+=n;else{var d=t.steps[t.active].label,$=t._gd._fullLayout._meta;$&&(d=l.templateString(d,$)),u+=d}t.currentvalue.suffix&&(u+=t.currentvalue.suffix),s.call(o.font,t.currentvalue.font).text(u).call(c.convertToTspans,t._gd);var h=c.lineCount(s),g=(i.currentValueMaxLines+1-h)*t.currentvalue.font.size*p;return c.positionText(s,r,g),s}}function _(e,t,n){l.ensureSingle(e,"rect",f.gripRectClass,function(r){r.call(T,t,e,n).style("pointer-events","all")}).attr({width:f.gripWidth,height:f.gripHeight,rx:f.gripRadius,ry:f.gripRadius}).call(i.stroke,n.bordercolor).call(i.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function x(e,t,n){var r=l.ensureSingle(e,"text",f.labelClass,function(e){e.attr({"text-anchor":"middle","data-notex":1})}),a=t.step.label,i=n._gd._fullLayout._meta;return i&&(a=l.templateString(a,i)),r.call(o.font,n.font).text(a).call(c.convertToTspans,n._gd),r}function b(e,t){var n=l.ensureSingle(e,"g",f.labelsClass),a=t._dims,i=n.selectAll("g."+f.labelGroupClass).data(a.labelSteps);i.enter().append("g").classed(f.labelGroupClass,!0),i.exit().remove(),i.each(function(e){var n=r.select(this);n.call(x,e,t),o.setTranslate(n,C(t,e.fraction),f.tickOffset+t.ticklen+t.font.size*p+f.labelOffset+a.currentValueTotalHeight)})}function w(e,t,n,r,a){var i=Math.round(r*(n._stepCount-1)),o=n._visibleSteps[i]._index;o!==n.active&&k(e,t,n,o,!0,a)}function k(e,t,n,r,i,o){var l=n.active;n.active=r,u(e.layout,f.name,n).applyUpdate("active",r);var s=n.steps[n.active];t.call(L,n,o),t.call(y,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:i,previousActive:l}),s&&s.method&&i&&(t._nextMethod?(t._nextMethod.step=s,t._nextMethod.doCallback=i,t._nextMethod.doTransition=o):(t._nextMethod={step:s,doCallback:i,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(n.execute&&a.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function T(e,t,n){var a=n.node(),o=r.select(t);function l(){return n.data()[0]}e.on("mousedown",function(){var e=l();t.emit("plotly_sliderstart",{slider:e});var s=n.select("."+f.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),s.call(i.fill,e.activebgcolor);var c=S(e,r.mouse(a)[0]);w(t,n,e,c,!0),e._dragging=!0,o.on("mousemove",function(){var e=l(),i=S(e,r.mouse(a)[0]);w(t,n,e,i,!1)}),o.on("mouseup",function(){var e=l();e._dragging=!1,s.call(i.fill,e.bgcolor),o.on("mouseup",null),o.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function A(e,t){var n=e.selectAll("rect."+f.tickRectClass).data(t._visibleSteps),a=t._dims;n.enter().append("rect").classed(f.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(e,n){var l=n%a.labelStride==0,s=r.select(this);s.attr({height:l?t.ticklen:t.minorticklen}).call(i.fill,t.tickcolor),o.setTranslate(s,C(t,n/(t._stepCount-1))-.5*t.tickwidth,(l?f.tickOffset:f.minorTickOffset)+a.currentValueTotalHeight)})}function L(e,t,n){for(var r=e.select("rect."+f.gripRectClass),a=0,i=0;i<t._stepCount;i++)if(t._visibleSteps[i]._index===t.active){a=i;break}var o=C(t,a/(t._stepCount-1));if(!t._invokingCommand){var l=r;n&&t.transition.duration>0&&(l=l.transition().duration(t.transition.duration).ease(t.transition.easing)),l.attr("transform",s(o-.5*f.gripWidth,t._dims.currentValueTotalHeight))}}function C(e,t){var n=e._dims;return n.inputAreaStart+f.stepInset+(n.inputAreaLength-2*f.stepInset)*Math.min(1,Math.max(0,t))}function S(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-f.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*f.stepInset-2*n.inputAreaStart)))}function M(e,t,n){var r=n._dims,a=l.ensureSingle(e,"rect",f.railTouchRectClass,function(r){r.call(T,t,e,n).style("pointer-events","all")});a.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,f.tickOffset+n.ticklen+r.labelHeight)}).call(i.fill,n.bgcolor).attr("opacity",0),o.setTranslate(a,0,r.currentValueTotalHeight)}function O(e,t){var n=t._dims,r=n.inputAreaLength-2*f.railInset,a=l.ensureSingle(e,"rect",f.railRectClass);a.attr({width:r,height:f.railWidth,rx:f.railRadius,ry:f.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),o.setTranslate(a,f.railInset,.5*(n.inputAreaWidth-f.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=function(e,t){for(var n=e[f.name],r=[],a=0;a<n.length;a++){var i=n[a];i.visible&&(i._gd=t,r.push(i))}return r}(t,e),i=t._infolayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);function l(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),a.autoMargin(e,g(t))}if(i.enter().append("g").classed(f.containerClassName,!0).style("cursor","ew-resize"),i.exit().each(function(){r.select(this).selectAll("g."+f.groupClassName).each(l)}).remove(),0!==n.length){var s=i.selectAll("g."+f.groupClassName).data(n,v);s.enter().append("g").classed(f.groupClassName,!0),s.exit().each(l).remove();for(var c=0;c<n.length;c++)m(e,n[c]);s.each(function(t){var n,i,l,s,c=r.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}(t),a.manageCommandObserver(e,t,t._visibleSteps,function(t){var n=c.data()[0];n.active!==t.index&&(n._dragging||k(e,c,n,t.index,!1,!0))}),n=e,i=r.select(this),((l=t).steps[l.active]||{}).visible||(l.active=l._visibleSteps[0]._index),i.call(y,l).call(O,l).call(b,l).call(A,l).call(M,n,l).call(_,n,l),s=l._dims,o.setTranslate(i,s.lx+l.pad.l,s.ly+l.pad.t),i.call(L,l,!1),i.call(y,l)})}}},{"../../constants/alignment":177,"../../lib":202,"../../lib/svg_text_utils":224,"../../plot_api/plot_template":237,"../../plots/plots":282,"../color":75,"../drawing":97,"./constants":166,d3:9}],169:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":165,"./constants":166,"./defaults":167,"./draw":168}],170:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../../plots/plots"),o=e("../../registry"),l=e("../../lib"),s=l.strTranslate,c=e("../drawing"),u=e("../color"),f=e("../../lib/svg_text_utils"),d=e("../../constants/interactions"),p=e("../../constants/alignment").OPPOSITE_SIDE,$=/ [XY][0-9]* /;t.exports={draw:function(e,t,n){var h,g=n.propContainer,v=n.propName,m=n.placeholder,y=n.traceIndex,_=n.avoid||{},x=n.attributes,b=n.transform,w=n.containerGroup,k=e._fullLayout,T=1,A=!1,L=g.title,C=(L&&L.text?L.text:"").trim(),S=L&&L.font?L.font:{},M=S.family,O=S.size,D=S.color;"title.text"===v?h="titleText":-1!==v.indexOf("axis")?h="axisTitleText":v.indexOf(!0)&&(h="colorbarTitleText");var P=e._context.edits[h];""===C?T=0:C.replace($," % ")===m.replace($," % ")&&(T=.2,A=!0,P||(C="")),n._meta?C=l.templateString(C,n._meta):k._meta&&(C=l.templateString(C,k._meta));var z=C||P;w||(w=l.ensureSingle(k._infolayer,"g","g-"+t));var R=w.selectAll("text").data(z?[0]:[]);if(R.enter().append("text"),R.text(C).attr("class",t),R.exit().remove(),!z)return w;function I(e){l.syncOrAsync([E,F],e)}function E(t){var n;return b?(n="",b.rotate&&(n+="rotate("+[b.rotate,x.x,x.y]+")"),b.offset&&(n+=s(0,b.offset))):n=null,t.attr("transform",n),t.style({"font-family":M,"font-size":r.round(O,2)+"px",fill:u.rgb(D),opacity:T*u.opacity(D),"font-weight":i.fontWeight}).attr(x).call(f.convertToTspans,e),i.previousPromises(e)}function F(e){var t=r.select(e.node().parentNode);if(_&&_.selection&&_.side&&C){t.attr("transform",null);var n=p[_.side],i="left"===_.side||"top"===_.side?-1:1,o=a(_.pad)?_.pad:2,u=c.bBox(t.node()),f={left:0,top:0,right:k.width,bottom:k.height},d=_.maxShift||i*(f[_.side]-u[_.side]),$=0;if(d<0)$=d;else{var h=_.offsetLeft||0,g=_.offsetTop||0;u.left-=h,u.right-=h,u.top-=g,u.bottom-=g,_.selection.each(function(){var e=c.bBox(this);l.bBoxIntersect(u,e,o)&&($=Math.max($,i*(e[_.side]-u[n])+o))}),$=Math.min(d,$)}if($>0||d<0){var v={left:[-$,0],right:[$,0],top:[0,-$],bottom:[0,$]}[_.side];t.attr("transform",s(v[0],v[1]))}}}return R.call(I),P&&(C?R.on(".opacity",null):(T=0,A=!0,R.text(m).on("mouseover.opacity",function(){r.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})),R.call(f.makeEditable,{gd:e}).on("edit",function(t){void 0!==y?o.call("_guiRestyle",e,v,t,y):o.call("_guiRelayout",e,v,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(I)}).on("input",function(e){this.text(e||" ").call(f.positionText,x.x,x.y)})),R.classed("js-placeholder",A),w}}},{"../../constants/alignment":177,"../../constants/interactions":180,"../../lib":202,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../../registry":290,"../color":75,"../drawing":97,d3:9,"fast-isnumeric":11}],171:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),a=e("../color/attributes"),i=e("../../lib/extend").extendFlat,o=e("../../plot_api/edit_types").overrideAll,l=e("../../plots/pad_attributes"),s=e("../../plot_api/plot_template").templatedArray,c=s("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=o(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(l({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:a.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":196,"../../plot_api/edit_types":230,"../../plot_api/plot_template":237,"../../plots/font_attributes":276,"../../plots/pad_attributes":281,"../color/attributes":74}],172:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"<-",right:"->",up:"-A",down:"-V"}}},{}],173:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../plots/array_container_defaults"),i=e("./attributes"),o=e("./constants").name,l=i.buttons;function s(e,t,n){function o(n,a){return r.coerce(e,t,i,n,a)}o("visible",a(e,t,{name:"buttons",handleItemDefaults:c}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),r.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),r.coerceFont(o,"font",n.font),o("bgcolor",n.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function c(e,t){function n(n,a){return r.coerce(e,t,l,n,a)}n("visible","skip"===e.method||Array.isArray(e.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}t.exports=function(e,t){a(e,t,{name:o,handleItemDefaults:s})}},{"../../lib":202,"../../plots/array_container_defaults":243,"./attributes":171,"./constants":172}],174:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plots/plots"),i=e("../color"),o=e("../drawing"),l=e("../../lib"),s=e("../../lib/svg_text_utils"),c=e("../../plot_api/plot_template").arrayEditor,u=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),d=e("./scrollbox");function p(e){return e._index}function $(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function h(e,t,n,r,a,i,o,l){t.active=o,c(e.layout,f.name,t).applyUpdate("active",o),"buttons"===t.type?v(e,r,null,null,t):"dropdown"===t.type&&(a.attr(f.menuIndexAttrName,"-1"),g(e,r,a,i,t),l||v(e,r,a,i,t))}function g(e,t,n,r,a){var i=l.ensureSingle(t,"g",f.headerClassName,function(e){e.style("pointer-events","all")}),s=a._dims,c=a.active,u=a.buttons[c]||f.blankHeaderOpts,d={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},p={width:s.headerWidth,height:s.headerHeight};i.call(m,a,u,e).call(A,a,d,p),l.ensureSingle(t,"text",f.headerArrowClassName,function(e){e.attr("text-anchor","end").call(o.font,a.font).text(f.arrowSymbol[a.direction])}).attr({x:s.headerWidth-f.arrowOffsetX+a.pad.l,y:s.headerHeight/2+f.textOffsetY+a.pad.t}),i.on("click",function(){n.call(L,String($(n,a)?-1:a._index)),v(e,t,n,r,a)}),i.on("mouseover",function(){i.call(b)}),i.on("mouseout",function(){i.call(w,a)}),o.setTranslate(t,s.lx,s.ly)}function v(e,t,n,i,o){n||(n=t).attr("pointer-events","all");var s=-1==+(_=n).attr(f.menuIndexAttrName)&&"buttons"!==o.type?[]:o.buttons,c="dropdown"===o.type?f.dropdownButtonClassName:f.buttonClassName,u=n.selectAll("g."+c).data(l.filterVisible(s)),d=u.enter().append("g").classed(c,!0),p=u.exit();"dropdown"===o.type?(d.attr("opacity","0").transition().attr("opacity","1"),p.transition().attr("opacity","0").remove()):p.remove();var $=0,g=0,v=o._dims,y=-1!==["up","down"].indexOf(o.direction);"dropdown"===o.type&&(y?g=v.headerHeight+f.gapButtonHeader:$=v.headerWidth+f.gapButtonHeader),"dropdown"===o.type&&"up"===o.direction&&(g=-f.gapButtonHeader+f.gapButton-v.openHeight),"dropdown"===o.type&&"left"===o.direction&&($=-f.gapButtonHeader+f.gapButton-v.openWidth);var _,k,T,L,C={x:v.lx+$+o.pad.l,y:v.ly+g+o.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},S={l:C.x+o.borderwidth,t:C.y+o.borderwidth};u.each(function(l,s){var c=r.select(this);c.call(m,o,l,e).call(A,o,C),c.on("click",function(){r.event.defaultPrevented||(l.execute&&(l.args2&&o.active===s?(h(e,o,0,t,n,i,-1),a.executeAPICommand(e,l.method,l.args2)):(h(e,o,0,t,n,i,s),a.executeAPICommand(e,l.method,l.args))),e.emit("plotly_buttonclicked",{menu:o,button:l,active:o.active}))}),c.on("mouseover",function(){c.call(b)}),c.on("mouseout",function(){c.call(w,o),u.call(x,o)})}),u.call(x,o),y?(S.w=Math.max(v.openWidth,v.headerWidth),S.h=C.y-S.t):(S.w=C.x-S.l,S.h=Math.max(v.openHeight,v.headerHeight)),S.direction=o.direction,i&&(u.size()?function(e,t,n,r,a,i){var o,l,s,c=a.direction,u=a._dims,d=a.active;if("up"===c||"down"===c)for(l=0,s=0;s<d;s++)l+=u.heights[s]+f.gapButton;else for(o=0,s=0;s<d;s++)o+=u.widths[s]+f.gapButton;r.enable(i,o,l),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,i,o,S):(T=!!(k=i).hbar,L=!!k.vbar,T&&k.hbar.transition().attr("opacity","0").each("end",function(){T=!1,L||k.disable()}),L&&k.vbar.transition().attr("opacity","0").each("end",function(){L=!1,T||k.disable()})))}function m(e,t,n,r){e.call(y,t).call(_,t,n,r)}function y(e,t){l.ensureSingle(e,"rect",f.itemRectClassName,function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})}).call(i.stroke,t.bordercolor).call(i.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function _(e,t,n,r){var a=l.ensureSingle(e,"text",f.itemTextClassName,function(e){e.attr({"text-anchor":"start","data-notex":1})}),i=n.label,c=r._fullLayout._meta;c&&(i=l.templateString(i,c)),a.call(o.font,t.font).text(i).call(s.convertToTspans,r)}function x(e,t){var n=t.active;e.each(function(e,a){var o=r.select(this);a===n&&t.showactive&&o.select("rect."+f.itemRectClassName).call(i.fill,f.activeColor)})}function b(e){e.select("rect."+f.itemRectClassName).call(i.fill,f.hoverColor)}function w(e,t){e.select("rect."+f.itemRectClassName).call(i.fill,t.bgcolor)}function k(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},i=o.tester.selectAll("g."+f.dropdownButtonClassName).data(l.filterVisible(t.buttons));i.enter().append("g").classed(f.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(t.direction);i.each(function(a,i){var l=r.select(this);l.call(m,t,a,e);var d,p=l.select("."+f.itemTextClassName),$=Math.max((p.node()&&o.bBox(p.node()).width)+f.textPadX,f.minWidth),h=Math.max(t.font.size*u*s.lineCount(p),f.minHeight)+f.textOffsetY;h=Math.ceil(h),$=Math.ceil($),n.widths[i]=$,n.heights[i]=h,n.height1=Math.max(n.height1,h),n.width1=Math.max(n.width1,$),c?(n.totalWidth=Math.max(n.totalWidth,$),n.openWidth=n.totalWidth,n.totalHeight+=h+f.gapButton,n.openHeight+=h+f.gapButton):(n.totalWidth+=$+f.gapButton,n.openWidth+=$+f.gapButton,n.totalHeight=Math.max(n.totalHeight,h),n.openHeight=n.totalHeight)}),c?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(c?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),i.remove();var d=n.totalWidth+t.pad.l+t.pad.r,p=n.totalHeight+t.pad.t+t.pad.b,$=e._fullLayout._size;n.lx=$.l+$.w*t.x,n.ly=$.t+$.h*(1-t.y);var h="left";l.isRightAnchor(t)&&(n.lx-=d,h="right"),l.isCenterAnchor(t)&&(n.lx-=d/2,h="center");var g="top";l.isBottomAnchor(t)&&(n.ly-=p,g="bottom"),l.isMiddleAnchor(t)&&(n.ly-=p/2,g="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),a.autoMargin(e,T(t),{x:t.x,y:t.y,l:d*(({right:1,center:.5})[h]||0),r:d*(({left:1,center:.5})[h]||0),b:p*(({top:1,middle:.5})[g]||0),t:p*(({bottom:1,middle:.5})[g]||0)})}function T(e){return f.autoMarginIdRoot+e._index}function A(e,t,n,r){r=r||{};var a=e.select("."+f.itemRectClassName),i=e.select("."+f.itemTextClassName),l=t.borderwidth,c=n.index,d=t._dims;o.setTranslate(e,l+n.x,l+n.y);var p=-1!==["up","down"].indexOf(t.direction),$=r.height||(p?d.heights[c]:d.height1);a.attr({x:0,y:0,width:r.width||(p?d.width1:d.widths[c]),height:$});var h=t.font.size*u,g=(s.lineCount(i)-1)*h/2;s.positionText(i,f.textOffsetX,$/2-g+f.textOffsetY),p?n.y+=d.heights[c]+n.yPad:n.x+=d.widths[c]+n.xPad,n.index++}function L(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=l.filterVisible(t[f.name]);function i(t){a.autoMargin(e,T(t))}var o=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(i)}).remove(),0!==n.length){var s=o.selectAll("g."+f.headerGroupClassName).data(n,p);s.enter().append("g").classed(f.headerGroupClassName,!0);for(var c=l.ensureSingle(o,"g",f.dropdownButtonGroupClassName,function(e){e.style("pointer-events","all")}),u=0;u<n.length;u++)k(e,n[u]);var m="updatemenus"+t._uid,y=new d(e,c,m);s.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(L)),s.exit().each(function(e){c.call(L),i(e)}).remove(),s.each(function(t){var n=r.select(this),i="dropdown"===t.type?c:null;a.manageCommandObserver(e,t,t.buttons,function(r){h(e,t,t.buttons[r.index],n,i,y,r.index,!0)}),"dropdown"===t.type?(g(e,n,c,y,t),$(c,t)&&v(e,n,c,y,t)):v(e,n,null,null,t)})}}},{"../../constants/alignment":177,"../../lib":202,"../../lib/svg_text_utils":224,"../../plot_api/plot_template":237,"../../plots/plots":282,"../color":75,"../drawing":97,"./constants":172,"./scrollbox":176,d3:9}],175:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{"./attributes":171,"./constants":172,"./defaults":173,"./draw":174,dup:169}],176:[function(e,t,n){"use strict";t.exports=l;var r=e("d3"),a=e("../color"),i=e("../drawing"),o=e("../../lib");function l(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}l.barWidth=2,l.barLength=20,l.barRadius=2,l.barPad=1,l.barColor="#808BA4",l.prototype.enable=function(e,t,n){var o=this.gd._fullLayout,s=o.width,c=o.height;this.position=e;var u,f,d,p,$=this.position.l,h=this.position.w,g=this.position.t,v=this.position.h,m=this.position.direction,y="down"===m,_="left"===m,x="up"===m,b=h,w=v;y||_||"right"===m||x||(this.position.direction="down",y=!0),y||x?(f=(u=$)+b,w=y?(p=Math.min((d=g)+w,c))-d:(p=g+w)-(d=Math.max(p-w,0))):(p=(d=g)+w,b=_?(f=$+b)-(u=Math.max(f-b,0)):(f=Math.min((u=$)+b,s))-u),this._box={l:u,t:d,w:b,h:w};var k=h>b,T=l.barLength+2*l.barPad,A=l.barWidth+2*l.barPad,L=$,C=g+v;C+A>c&&(C=c-A);var S=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);S.exit().on(".drag",null).remove(),S.enter().append("rect").classed("scrollbar-horizontal",!0).call(a.fill,l.barColor),k?(this.hbar=S.attr({rx:l.barRadius,ry:l.barRadius,x:L,y:C,width:T,height:A}),this._hbarXMin=L+T/2,this._hbarTranslateMax=b-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var M=v>w,O=l.barWidth+2*l.barPad,D=l.barLength+2*l.barPad,P=$+h,z=g;P+O>s&&(P=s-O);var R=this.container.selectAll("rect.scrollbar-vertical").data(M?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-vertical",!0).call(a.fill,l.barColor),M?(this.vbar=R.attr({rx:l.barRadius,ry:l.barRadius,x:P,y:z,width:O,height:D}),this._vbarYMin=z+D/2,this._vbarTranslateMax=w-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var I=this.id,E=u-.5,F=M?f+O+.5:f+.5,N=d-.5,H=k?p+A+.5:p+.5,B=o._topdefs.selectAll("#"+I).data(k||M?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",I).append("rect"),k||M?(this._clipRect=B.select("rect").attr({x:Math.floor(E),y:Math.floor(N),width:Math.ceil(F)-Math.floor(E),height:Math.ceil(H)-Math.floor(N)}),this.container.call(i.setClipUrl,I,this.gd),this.bg.attr({x:$,y:g,width:h,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),k||M){var V=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var j=r.behavior.drag().on("dragstart",function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(j),M&&this.vbar.on(".drag",null).call(j)}this.setTranslate(t,n)},l.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},l.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},l.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},l.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,a=n+this._hbarTranslateMax;e=(o.constrain(r.event.x,n,a)-n)/(a-n)*(this.position.w-this._box.w)}if(this.vbar){var i=t+this._vbarYMin,l=i+this._vbarTranslateMax;t=(o.constrain(r.event.y,i,l)-i)/(l-i)*(this.position.h-this._box.h)}this.setTranslate(e,t)},l.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=o.constrain(e||0,0,n),t=o.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(i.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var a=e/n;this.hbar.call(i.setTranslate,e+a*this._hbarTranslateMax,t)}if(this.vbar){var l=t/r;this.vbar.call(i.setTranslate,e,t+l*this._vbarTranslateMax)}}},{"../../lib":202,"../color":75,"../drawing":97,d3:9}],177:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],178:[function(e,t,n){"use strict";t.exports={axisRefDescription:function(e,t,n){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",e,"axis."].join(" ")}}},{}],179:[function(e,t,n){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},{}],180:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],181:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"-"}},{}],182:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],183:[function(e,t,n){"use strict";n.version=e("./version").version,e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config")();for(var r=e("./registry"),a=n.register=r.register,i=e("./plot_api"),o=Object.keys(i),l=0;l<o.length;l++){var s=o[l];"_"!==s.charAt(0)&&(n[s]=i[s]),a({moduleType:"apiMethod",name:s,fn:i[s]})}a(e("./traces/scatter")),a([e("./components/legend"),e("./components/fx"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars"),e("./components/colorscale"),e("./components/colorbar")]),a([e("./locale-en"),e("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(a(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=e("./fonts/ploticon"),n.Plots=e("./plots/plots"),n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":1,"./components/annotations":68,"./components/annotations3d":73,"./components/colorbar":81,"./components/colorscale":87,"./components/errorbars":103,"./components/fx":115,"./components/grid":119,"./components/images":124,"./components/legend":132,"./components/rangeselector":143,"./components/rangeslider":150,"./components/shapes":164,"./components/sliders":169,"./components/updatemenus":175,"./fonts/mathjax_config":184,"./fonts/ploticon":185,"./lib/queue":217,"./locale-en":228,"./locale-en-us":227,"./plot_api":232,"./plot_api/plot_schema":236,"./plots/plots":282,"./registry":290,"./snapshot":295,"./traces/scatter":342,"./version":358,d3:9,"es6-promise":10}],184:[function(e,t,n){"use strict";t.exports=function(){"undefined"!=typeof MathJax&&"local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())}},{}],185:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],186:[function(e,t,n){"use strict";n.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},{}],187:[function(e,t,n){"use strict";var r=e("./mod"),a=r.mod,i=r.modHalf,o=Math.PI,l=2*o;function s(e){return Math.abs(e[1]-e[0])>l-1e-14}function c(e,t){return i(t-e,l)}function u(e,t){if(s(t))return!0;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),(n=a(n,l))>(r=a(r,l))&&(r+=l);var n,r,i=a(e,l),o=i+l;return i>=n&&i<=r||o>=n&&o<=r}function f(e,t,n,r,a,i,c){a=a||0,i=i||0;var u,f,d,p,$,h=s([n,r]);function g(e,t){return[e*Math.cos(t)+a,i-e*Math.sin(t)]}h?(u=0,f=o,d=l):n<r?(u=n,d=r):(u=r,d=n),e<t?(p=e,$=t):(p=t,$=e);var v,m=Math.abs(d-u)<=o?0:1;function y(e,t,n){return"A"+[e,e]+" "+[0,m,n]+" "+g(e,t)}return h?v=null===p?"M"+g($,u)+y($,f,0)+y($,d,0)+"Z":"M"+g(p,u)+y(p,f,0)+y(p,d,0)+"ZM"+g($,u)+y($,f,1)+y($,d,1)+"Z":null===p?(v="M"+g($,u)+y($,d,0),c&&(v+="L0,0Z")):v="M"+g(p,u)+"L"+g($,u)+y($,d,0)+"L"+g(p,d)+y(p,u,1)+"Z",v}t.exports={deg2rad:function(e){return e/180*o},rad2deg:function(e){return e/o*180},angleDelta:c,angleDist:function(e,t){return Math.abs(c(e,t))},isFullCircle:s,isAngleInsideSector:u,isPtInsideSector:function(e,t,n,r){var a,i;return!!u(t,r)&&(n[0]<n[1]?(a=n[0],i=n[1]):(a=n[1],i=n[0]),e>=a&&e<=i)},pathArc:function(e,t,n,r,a){return f(null,e,t,n,r,a,0)},pathSector:function(e,t,n,r,a){return f(null,e,t,n,r,a,1)},pathAnnulus:function(e,t,n,r,a,i){return f(e,t,n,r,a,i,1)}}},{"./mod":209}],188:[function(e,t,n){"use strict";var r=Array.isArray,a="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},i="undefined"==typeof DataView?function(){}:DataView;function o(e){return a.isView(e)&&!(e instanceof i)}function l(e){return r(e)||o(e)}function s(e,t,n){if(l(e)){if(l(e[0])){for(var r=n,a=0;a<e.length;a++)r=t(r,e[a].length);return r}return e.length}return 0}n.isTypedArray=o,n.isArrayOrTypedArray=l,n.isArray1D=function(e){return!l(e[0])},n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,a,i,o,l,s,c=[],u=!0,f=0;for(n=0;n<arguments.length;n++)(o=(a=arguments[n]).length)&&(t?c.push(a):(t=a,i=o),r(a)?e=!1:(u=!1,f?e!==a.constructor&&(e=!1):e=a.constructor),f+=o);if(!f)return[];if(!c.length)return t;if(u)return t.concat.apply(t,c);if(e){for((l=new e(f)).set(t),n=0;n<c.length;n++)a=c[n],l.set(a,i),i+=a.length;return l}for(l=Array(f),s=0;s<t.length;s++)l[s]=t[s];for(n=0;n<c.length;n++){for(a=c[n],s=0;s<a.length;s++)l[i+s]=a[s];i+=s}return l},n.maxRowLength=function(e){return s(e,Math.max,0)},n.minRowLength=function(e){return s(e,Math.min,1/0)}},{}],189:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../constants/numerical").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"==typeof e&&(e=e.replace(i,"")),r(e)?Number(e):a}},{"../constants/numerical":181,"fast-isnumeric":11}],190:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}},{}],191:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],192:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("tinycolor2"),i=e("../plots/attributes"),o=e("../components/colorscale/scales"),l=e("../constants/interactions").DESELECTDIM,s=e("./nested_property"),c=e("./regex").counter,u=e("./mod").modHalf,f=e("./array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&f(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var a={},i=a;return r.coerceFunction(e,{set:function(e){i=e}},a,t),i!==a}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){f(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var a=String(n[r]);if("/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){if(RegExp(a.substr(1,a.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,a){!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,a){e%1||!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){"string"!=typeof e?!0!==r.strict&&"number"==typeof e?t.set(String(e)):t.set(n):r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){a(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){Array.isArray(e)&&e.length&&e.every(function(e){return a(e).isValid()})?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(o.get(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(u(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var a=r.regex||c(n);"string"==typeof e&&a.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"==typeof e&&!!c(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"==typeof e){if(-1===(r.extras||[]).indexOf(e)){for(var a=e.split("+"),i=0;i<a.length;){var o=a[i];-1===r.flags.indexOf(o)||a.indexOf(o)<i?a.splice(i,1):i++}a.length?t.set(a.join("+")):t.set(n)}else t.set(e)}else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,a){function i(e,t,r){var a;return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,{set:function(e){a=e}},r,t),a}var o=2===a.dimensions||"1-2"===a.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var l,s,c,u,f,d,p=a.items,$=[],h=Array.isArray(p),g=h&&o&&Array.isArray(p[0]),v=o&&h&&!g,m=h&&!v?p.length:e.length;if(r=Array.isArray(r)?r:[],o)for(l=0;l<m;l++)for($[l]=[],c=Array.isArray(e[l])?e[l]:[],f=v?p.length:h?p[l].length:c.length,s=0;s<f;s++)u=v?p[s]:h?p[l][s]:p,void 0!==(d=i(c[s],u,(r[l]||[])[s]))&&($[l][s]=d);else for(l=0;l<m;l++)void 0!==(d=i(e[l],h?p[l]:p,r[l]))&&($[l]=d);t.set($)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),a=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(a){if(!Array.isArray(e[i])||!t.freeLength&&e[i].length!==n[i].length)return!1;for(var o=0;o<e[i].length;o++)if(!d(e[i][o],r?n[i][o]:n))return!1}else if(!d(e[i],r?n[i]:n))return!1;return!0}}},n.coerce=function(e,t,r,a,i){var o=s(r,a).get(),l=s(e,a),c=s(t,a),u=l.get(),p=t._template;if(void 0===u&&p&&(u=s(p,a).get(),p=0),void 0===i&&(i=o.dflt),o.arrayOk&&f(u))return c.set(u),u;var $=n.valObjectMeta[o.valType].coerceFunction;$(u,c,i,o);var h=c.get();return p&&h===i&&!d(u,o)&&($(u=s(p,a).get(),c,i,o),h=c.get()),h},n.coerce2=function(e,t,r,a,i){var o=s(e,a),l=n.coerce(e,t,r,a,i);return null!=o.get()&&l},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coerceHoverinfo=function(e,t,r){var a,o=t._module.attributes,l=o.hoverinfo?o:i,s=l.hoverinfo;if(1===r._dataLength){var c="all"===s.dflt?s.flags.slice():s.dflt.split("+");c.splice(c.indexOf("name"),1),a=c.join("+")}return n.coerce(e,t,l,"hoverinfo",a)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,a=e.marker.opacity;void 0!==a&&(f(a)||e.selected||e.unselected||(n=a,r=l*a),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/colorscale/scales":90,"../constants/interactions":180,"../plots/attributes":244,"./array":188,"./mod":209,"./nested_property":210,"./regex":218,"fast-isnumeric":11,tinycolor2:58}],193:[function(e,t,n){"use strict";var r,a,i=e("d3-time-format").timeFormat,o=e("fast-isnumeric"),l=e("./loggers"),s=e("./mod").mod,c=e("../constants/numerical"),u=c.BADNUM,f=c.ONEDAY,d=c.ONEHOUR,p=c.ONEMIN,$=c.ONESEC,h=c.EPOCHJD,g=e("../registry"),v=e("d3-time-format").utcFormat,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function x(e){return e&&g.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function b(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){var r,a,i=(r=e,a=!!t,x(r)?a?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[r]:g.getComponentMethod("calendars","CANONICAL_TICK")[r]:a?"2000-01-02":"2000-01-01");if(t<2)return i;var o=n.dateTime2ms(i,e);return o+=f*(t-1),n.ms2DateTime(o,0,e)},n.dfltRange=function(e){return x(e)?g.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var i=e.getTimezoneOffset()*p,o=(e.getUTCMinutes()-e.getMinutes())*p+(e.getUTCSeconds()-e.getSeconds())*$+(e.getUTCMilliseconds()-e.getMilliseconds());if(o){var l=3*p;i=i-l/2+s(o-i+l/2,l)}return(e=Number(e)-i)>=r&&e<=a?e:u}if("string"!=typeof e&&"number"!=typeof e)return u;e=String(e);var c=x(t),v=e.charAt(0);c&&("G"===v||"g"===v)&&(e=e.substr(1),t="");var b=c&&"chinese"===t.substr(0,7),w=e.match(b?y:m);if(!w)return u;var k=w[1],T=w[3]||"1",A=Number(w[5]||1),L=Number(w[7]||0),C=Number(w[9]||0),S=Number(w[11]||0);if(c){if(2===k.length)return u;k=Number(k);try{var M,O=g.getComponentMethod("calendars","getCal")(t);if(b){var D="i"===T.charAt(T.length-1);T=parseInt(T,10),M=O.newDate(k,O.toMonthIndex(k,T,D),A)}else M=O.newDate(k,Number(T),A)}catch(P){return u}return M?(M.toJD()-h)*f+L*d+C*p+S*$:u}k=2===k.length?(Number(k)+2e3-_)%100+_:Number(k),T-=1;var z=new Date(Date.UTC(2e3,T,A,L,C));return z.setUTCFullYear(k),z.getUTCMonth()!==T||z.getUTCDate()!==A?u:z.getTime()+S*$},r=n.MIN_MS=n.dateTime2ms("-9999"),a=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==u};var w=90*f,k=3*d,T=5*p;function A(e,t,n,r,a){if((t||n||r||a)&&(e+=" "+b(t,2)+":"+b(n,2),(r||a)&&(e+=":"+b(r,2),a))){for(var i=4;a%10==0;)i-=1,a/=10;e+="."+b(a,i)}return e}n.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=r&&e<=a))return u;t||(t=0);var i,o,l,c,m,y,_=Math.floor(10*s(e+.05,1)),b=Math.round(e-_/10);if(x(n)){var L=Math.floor(s(e,f));try{i=g.getComponentMethod("calendars","getCal")(n).fromJD(Math.floor(b/f)+h).formatDate("yyyy-mm-dd")}catch(C){i=v("G%Y-%m-%d")(new Date(b))}if("-"===i.charAt(0))for(;i.length<11;)i="-0"+i.substr(1);else for(;i.length<10;)i="0"+i;o=t<w?Math.floor(L/d):0,l=t<w?Math.floor(L%d/p):0,c=t<k?Math.floor(L%p/$):0,m=t<T?L%$*10+_:0}else y=new Date(b),i=v("%Y-%m-%d")(y),o=t<w?y.getUTCHours():0,l=t<w?y.getUTCMinutes():0,c=t<k?y.getUTCSeconds():0,m=t<T?10*y.getUTCMilliseconds()+_:0;return A(i,o,l,c,m)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=a-f))return u;var t=Math.floor(10*s(e+.05,1)),n=new Date(Math.round(e-t/10));return A(i("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},n.cleanDate=function(e,t,r){if(e===u)return t;if(n.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(x(r))return l.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return l.error("unrecognized date",e),t;return e};var L=/%\d?f/g;function C(e,t,n,r){e=e.replace(L,function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"});var a=new Date(Math.floor(t+.05));if(x(r))try{e=g.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(i){return"Invalid"}return n(e)(a)}var S=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(e,t,n,r,a,i){if(a=x(a)&&a,!t){if("y"===n)t=i.year;else if("m"===n)t=i.month;else{if("d"!==n)return function(e,t){var n=s(e+.05,f),r=b(Math.floor(n/d),2)+":"+b(s(Math.floor(n/p),60),2);if("M"!==t){o(t)||(t=0);var a=(100+Math.min(s(e/$,60),S[t])).toFixed(t).substr(1);t>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+a}return r}(e,n)+"\n"+C(i.dayMonthYear,e,r,a);t=i.dayMonth+"\n"+i.year}}return C(t,e,r,a)};var M=3*f;n.incrementMonth=function(e,t,n){n=x(n)&&n;var r=s(e,f);if(e=Math.round(e-r),n)try{var a=Math.round(e/f)+h,i=g.getComponentMethod("calendars","getCal")(n),o=i.fromJD(a);return t%12?i.add(o,t,"m"):i.add(o,t/12,"y"),(o.toJD()-h)*f+r}catch(c){l.error("invalid ms "+e+" in calendar "+n)}var u=new Date(e+M);return u.setUTCMonth(u.getUTCMonth()+t)+r-M},n.findExactDates=function(e,t){for(var n,r,a=0,i=0,l=0,s=0,c=x(t)&&g.getComponentMethod("calendars","getCal")(t),u=0;u<e.length;u++)if(o(r=e[u])){if(!(r%f)){if(c)try{1===(n=c.fromJD(r/f+h)).day()?1===n.month()?a++:i++:l++}catch(d){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?a++:i++:l++}}else s++;l+=i+=a;var p=e.length-s;return{exactYears:a/p,exactMonths:i/p,exactDays:l/p}}},{"../constants/numerical":181,"../registry":290,"./loggers":206,"./mod":209,"d3-time-format":7,"fast-isnumeric":11}],194:[function(e,t,n){"use strict";var r=e("d3"),a=e("./loggers"),i=e("./matrix"),o=e("gl-mat4");function l(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function s(e,t,n){var r="plotly.js-style-"+e,i=document.getElementById(r);i||((i=document.createElement("style")).setAttribute("id",r),i.appendChild(document.createTextNode("")),document.head.appendChild(i));var o=i.sheet;o.insertRule?o.insertRule(t+"{"+n+"}",0):o.addRule?o.addRule(t,n,0):a.warn("addStyleRule failed")}function c(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(e){return+e})}function u(e){for(var t=[];f(e);)t.push(e),e=e.parentNode;return t}function f(e){return e&&(e instanceof Element||e instanceof HTMLElement)}t.exports={getGraphDiv:function(e){var t;if("string"==typeof e){if(null===(t=document.getElementById(e)))throw Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null==e)throw Error("DOM element provided is null or undefined");return e},isPlotDiv:function(e){var t=r.select(e);return t.node() instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},removeElement:l,addStyleRule:function(e,t){s("global",e,t)},addRelatedStyleRule:s,deleteRelatedStyleRule:function(e){var t=document.getElementById("plotly.js-style-"+e);t&&l(t)},getFullTransformMatrix:function(e){var t=u(e),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(e){var t=c(e);if(t){var r=i.convertCssMatrix(t);n=o.multiply(n,n,r)}}),n},getElementTransformMatrix:c,getElementAndAncestors:u,equalDomRects:function(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}}},{"./loggers":206,"./matrix":208,d3:9,"gl-mat4":27}],195:[function(e,t,n){"use strict";var r=e("events").EventEmitter;t.exports={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,a),t.emit(r,a),n.emit(r,a)},e},triggerHandler:function(e,t,n){"undefined"!=typeof jQuery&&(a=jQuery(e).triggerHandler(t,n));var r=e._ev;if(!r)return a;var a,i,o,l=r._events[t];if(!l)return a;function s(e){return e.listener?(r.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(r,[n]))):e.apply(r,[n])}for(l=Array.isArray(l)?l:[l],o=0;o<l.length-1;o++)s(l[o]);return i=s(l[o]),void 0!==a?a:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}}},{events:6}],196:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),a=Array.isArray;function i(e,t,n,o){var l,s,c,u,f,d,p=e[0],$=e.length;if(2===$&&a(p)&&a(e[1])&&0===p.length){if(function(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"==typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}(e[1],p))return p;p.splice(0,p.length)}for(var h=1;h<$;h++)for(s in l=e[h])c=p[s],u=l[s],o&&a(u)?p[s]=u:t&&u&&(r(u)||(f=a(u)))?(f?(f=!1,d=c&&a(c)?c:[]):d=c&&r(c)?c:{},p[s]=i([d,u],t,n,o)):(void 0!==u||n)&&(p[s]=u);return p}n.extendFlat=function(){return i(arguments,!1,!1,!1)},n.extendDeep=function(){return i(arguments,!0,!1,!1)},n.extendDeepAll=function(){return i(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)}},{"./is_plain_object.js":203}],197:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,a=0;a<e.length;a++){var i=e[a];1!==t[i]&&(t[i]=1,n[r++]=i)}return n}},{}],198:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function a(e){var t=e[0].trace;return!0===t.visible&&0!==t._length}t.exports=function(e){for(var t,n=Array.isArray(t=e)&&Array.isArray(t[0])&&t[0][0]&&t[0][0].trace?a:r,i=[],o=0;o<e.length;o++){var l=e[o];n(l)&&i.push(l)}return i}},{}],199:[function(e,t,n){"use strict";var r,a,i,o=e("./mod").mod;function l(e,t,n,r,a,i,o,l){var s=n-e,c=a-e,u=o-a,f=r-t,d=i-t,p=l-i,$=s*p-u*f;if(0===$)return null;var h=(c*p-u*d)/$,g=(c*f-s*d)/$;return g<0||g>1||h<0||h>1?null:{x:e+s*h,y:t+f*h}}function s(e,t,n,r,a){var i=r*e+a*t;if(i<0)return r*r+a*a;if(i>n){var o=r-e,l=a-t;return o*o+l*l}var s=r*t-a*e;return s*s/n}n.segmentsIntersect=l,n.segmentDistance=function(e,t,n,r,a,i,o,c){if(l(e,t,n,r,a,i,o,c))return 0;var u=n-e,f=r-t,d=o-a,p=c-i,$=u*u+f*f,h=d*d+p*p;return Math.sqrt(Math.min(s(u,f,$,a-e,i-t),s(u,f,$,o-e,c-t),s(d,p,h,e-a,t-i),s(d,p,h,n-a,r-i)))},n.getTextLocation=function(e,t,n,l){if(e===a&&l===i||(r={},a=e,i=l),r[n])return r[n];var s=e.getPointAtLength(o(n-l/2,t)),c=e.getPointAtLength(o(n+l/2,t)),u=Math.atan((c.y-s.y)/(c.x-s.x)),f=e.getPointAtLength(o(n,t)),d={x:(4*f.x+s.x+c.x)/6,y:(4*f.y+s.y+c.y)/6,theta:u};return r[n]=d,d},n.clearLocationCache=function(){a=null},n.getVisibleSegment=function(e,t,n){var r,a,i=t.left,o=t.right,l=t.top,s=t.bottom,c=0,u=e.getTotalLength(),f=u;function d(t){var n=e.getPointAtLength(t);0===t?r=n:t===u&&(a=n);var c=n.x<i?i-n.x:n.x>o?n.x-o:0,f=n.y<l?l-n.y:n.y>s?n.y-s:0;return Math.sqrt(c*c+f*f)}for(var p=d(c);p;){if((c+=p+n)>f)return;p=d(c)}for(p=d(f);p;){if(c>(f-=p+n))return;p=d(f)}return{min:c,max:f,len:f-c,total:u,isClosed:0===c&&f===u&&.1>Math.abs(r.x-a.x)&&.1>Math.abs(r.y-a.y)}},n.findPointOnPath=function(e,t,n,r){for(var a,i,o,l=(r=r||{}).pathLength||e.getTotalLength(),s=r.tolerance||.001,c=r.iterationLimit||30,u=e.getPointAtLength(0)[n]>e.getPointAtLength(l)[n]?-1:1,f=0,d=0,p=l;f<c&&(a=(d+p)/2,!(Math.abs(o=(i=e.getPointAtLength(a))[n]-t)<s));)u*o>0?p=a:d=a,f++;return i}},{"./mod":209}],200:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],201:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;var n=1/Math.abs(t),r=n>1?(n*e+n*t)/n:e+t,a=String(r).length;if(a>16){var i=String(t).length;if(a>=String(e).length+i){var o=parseFloat(r).toPrecision(12);-1===o.indexOf("e+")&&(r=+o)}}return r}},{}],202:[function(e,t,n){"use strict";var r=e("d3"),a=e("d3-time-format").utcFormat,i=e("fast-isnumeric"),o=e("../constants/numerical"),l=o.FP_SAFE,s=o.BADNUM,c=t.exports={};c.nestedProperty=e("./nested_property"),c.keyedContainer=e("./keyed_container"),c.relativeAttr=e("./relative_attr"),c.isPlainObject=e("./is_plain_object"),c.toLogRange=e("./to_log_range"),c.relinkPrivateKeys=e("./relink_private");var u=e("./array");c.isTypedArray=u.isTypedArray,c.isArrayOrTypedArray=u.isArrayOrTypedArray,c.isArray1D=u.isArray1D,c.ensureArray=u.ensureArray,c.concat=u.concat,c.maxRowLength=u.maxRowLength,c.minRowLength=u.minRowLength;var f=e("./mod");c.mod=f.mod,c.modHalf=f.modHalf;var d=e("./coerce");c.valObjectMeta=d.valObjectMeta,c.coerce=d.coerce,c.coerce2=d.coerce2,c.coerceFont=d.coerceFont,c.coerceHoverinfo=d.coerceHoverinfo,c.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,c.validate=d.validate;var p=e("./dates");c.dateTime2ms=p.dateTime2ms,c.isDateTime=p.isDateTime,c.ms2DateTime=p.ms2DateTime,c.ms2DateTimeLocal=p.ms2DateTimeLocal,c.cleanDate=p.cleanDate,c.isJSDate=p.isJSDate,c.formatDate=p.formatDate,c.incrementMonth=p.incrementMonth,c.dateTick0=p.dateTick0,c.dfltRange=p.dfltRange,c.findExactDates=p.findExactDates,c.MIN_MS=p.MIN_MS,c.MAX_MS=p.MAX_MS;var $=e("./search");c.findBin=$.findBin,c.sorterAsc=$.sorterAsc,c.sorterDes=$.sorterDes,c.distinctVals=$.distinctVals,c.roundUp=$.roundUp,c.sort=$.sort,c.findIndexOfMin=$.findIndexOfMin;var h=e("./stats");c.aggNums=h.aggNums,c.len=h.len,c.mean=h.mean,c.median=h.median,c.midRange=h.midRange,c.variance=h.variance,c.stdev=h.stdev,c.interp=h.interp;var g=e("./matrix");c.init2dArray=g.init2dArray,c.transposeRagged=g.transposeRagged,c.dot=g.dot,c.translationMatrix=g.translationMatrix,c.rotationMatrix=g.rotationMatrix,c.rotationXYMatrix=g.rotationXYMatrix,c.apply3DTransform=g.apply3DTransform,c.apply2DTransform=g.apply2DTransform,c.apply2DTransform2=g.apply2DTransform2,c.convertCssMatrix=g.convertCssMatrix,c.inverseTransformMatrix=g.inverseTransformMatrix;var v=e("./angles");c.deg2rad=v.deg2rad,c.rad2deg=v.rad2deg,c.angleDelta=v.angleDelta,c.angleDist=v.angleDist,c.isFullCircle=v.isFullCircle,c.isAngleInsideSector=v.isAngleInsideSector,c.isPtInsideSector=v.isPtInsideSector,c.pathArc=v.pathArc,c.pathSector=v.pathSector,c.pathAnnulus=v.pathAnnulus;var m=e("./anchor_utils");c.isLeftAnchor=m.isLeftAnchor,c.isCenterAnchor=m.isCenterAnchor,c.isRightAnchor=m.isRightAnchor,c.isTopAnchor=m.isTopAnchor,c.isMiddleAnchor=m.isMiddleAnchor,c.isBottomAnchor=m.isBottomAnchor;var y=e("./geometry2d");c.segmentsIntersect=y.segmentsIntersect,c.segmentDistance=y.segmentDistance,c.getTextLocation=y.getTextLocation,c.clearLocationCache=y.clearLocationCache,c.getVisibleSegment=y.getVisibleSegment,c.findPointOnPath=y.findPointOnPath;var _=e("./extend");c.extendFlat=_.extendFlat,c.extendDeep=_.extendDeep,c.extendDeepAll=_.extendDeepAll,c.extendDeepNoArrays=_.extendDeepNoArrays;var x=e("./loggers");c.log=x.log,c.warn=x.warn,c.error=x.error;var b=e("./regex");c.counterRegex=b.counter;var w=e("./throttle");c.throttle=w.throttle,c.throttleDone=w.done,c.clearThrottle=w.clear;var k=e("./dom");function T(e){var t={};for(var n in e)for(var r=e[n],a=0;a<r.length;a++)t[r[a]]=+n;return t}c.getGraphDiv=k.getGraphDiv,c.isPlotDiv=k.isPlotDiv,c.removeElement=k.removeElement,c.addStyleRule=k.addStyleRule,c.addRelatedStyleRule=k.addRelatedStyleRule,c.deleteRelatedStyleRule=k.deleteRelatedStyleRule,c.getFullTransformMatrix=k.getFullTransformMatrix,c.getElementTransformMatrix=k.getElementTransformMatrix,c.getElementAndAncestors=k.getElementAndAncestors,c.equalDomRects=k.equalDomRects,c.clearResponsive=e("./clear_responsive"),c.preserveDrawingBuffer=e("./preserve_drawing_buffer"),c.makeTraceGroups=e("./make_trace_groups"),c._=e("./localize"),c.notifier=e("./notifier"),c.filterUnique=e("./filter_unique"),c.filterVisible=e("./filter_visible"),c.pushUnique=e("./push_unique"),c.increment=e("./increment"),c.cleanNumber=e("./clean_number"),c.ensureNumber=function(e){return i(e)?(e=Number(e))<-l||e>l?s:i(e)?Number(e):s:s},c.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&i(e)&&e>=0&&e%1==0},c.noop=e("./noop"),c.identity=e("./identity"),c.repeat=function(e,t){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n},c.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var a=0;a<t.length;a++){var i=t[a],o=c.nestedProperty(e,i.replace("?",n)),l=c.nestedProperty(e,i.replace("?",r)),s=o.get();o.set(l.get()),l.set(s)}},c.raiseToTop=function(e){e.parentNode.appendChild(e)},c.cancelTransition=function(e){return e.transition().duration(0)},c.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},c.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},c.simpleMap=function(e,t,n,r,a){for(var i=e.length,o=Array(i),l=0;l<i;l++)o[l]=t(e[l],n,r,a);return o},c.randstr=function e(t,n,r,a){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var i,o,l=Math.log(Math.pow(2,n))/Math.log(r),s="";for(i=2;l===1/0;i*=2)l=Math.log(Math.pow(2,n/i))/Math.log(r)*i;var u=l-Math.floor(l);for(i=0;i<Math.floor(l);i++)s=Math.floor(Math.random()*r).toString(r)+s;u&&(s=Math.floor(Math.random()*(o=Math.pow(r,u))).toString(r)+s);var f=parseInt(s,r);return t&&t[s]||f!==1/0&&f>=Math.pow(2,n)?a>10?(c.warn("randstr failed uniqueness"),s):e(t,n,r,(a||0)+1):s},c.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},c.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,a,i,o=e.length,l=2*o,s=2*t-1,c=Array(s),u=Array(o);for(n=0;n<s;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<o;n++){for(i=0,r=0;r<s;r++)(a=n+r+1-t)<-o?a-=l*Math.round(a/l):a>=l&&(a-=l*Math.floor(a/l)),a<0?a=-1-a:a>=o&&(a=l-1-a),i+=e[a]*c[r];u[n]=i}return u},c.syncOrAsync=function(e,t,n){var r;function a(){return c.syncOrAsync(e,t,n)}for(;e.length;)if((r=(0,e.splice(0,1)[0])(t))&&r.then)return r.then(a).then(void 0,c.promiseError);return n&&n(t)},c.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},c.noneOrAll=function(e,t,n){if(e){var r,a=!1,i=!0;for(r=0;r<n.length;r++)null!=e[n[r]]?a=!0:i=!1;if(a&&!i)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},c.mergeArray=function(e,t,n,r){var a="function"==typeof r;if(c.isArrayOrTypedArray(e))for(var i=Math.min(e.length,t.length),o=0;o<i;o++){var l=e[o];t[o][n]=a?r(l):l}},c.mergeArrayCastPositive=function(e,t,n){return c.mergeArray(e,t,n,function(e){var t=+e;return isFinite(t)&&t>0?t:0})},c.fillArray=function(e,t,n,r){if(r=r||c.identity,c.isArrayOrTypedArray(e))for(var a=0;a<t.length;a++)t[a][n]=r(e[a])},c.castOption=function(e,t,n,r){r=r||c.identity;var a=c.nestedProperty(e,n).get();return c.isArrayOrTypedArray(a)?r(Array.isArray(t)&&c.isArrayOrTypedArray(a[t[0]])?a[t[0]][t[1]]:a[t]):a},c.extractOption=function(e,t,n,r){if(n in e)return e[n];var a=c.nestedProperty(t,r).get();return Array.isArray(a)?void 0:a},c.tagSelected=function(e,t,n){var r,a,i=t.selectedpoints,o=t._indexToPoints;o&&(r=T(o));for(var l=0;l<i.length;l++){var s=i[l];if(c.isIndex(s)||c.isArrayOrTypedArray(s)&&c.isIndex(s[0])&&c.isIndex(s[1])){var u=r?r[s]:s,f=n?n[u]:u;void 0!==(a=f)&&a<e.length&&(e[f].selected=1)}}},c.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=T(n),a=[],i=0;i<t.length;i++){var o=t[i];if(c.isIndex(o)){var l=r[o];c.isIndex(l)&&a.push(l)}}return a}return t},c.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=c.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},c.minExtend=function(e,t){var n={};"object"!=typeof t&&(t={});var r,a,i,o=Object.keys(e);for(r=0;r<o.length;r++)i=e[a=o[r]],"_"!==a.charAt(0)&&"function"!=typeof i&&("module"===a?n[a]=i:Array.isArray(i)?n[a]="colorscale"===a?i.slice():i.slice(0,3):c.isTypedArray(i)?n[a]=i.subarray(0,3):n[a]=i&&"object"==typeof i?c.minExtend(e[a],t[a]):i);for(o=Object.keys(t),r=0;r<o.length;r++)"object"==typeof(i=t[a=o[r]])&&a in n&&"object"==typeof n[a]||(n[a]=i);return n},c.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},c.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},c.isIE=function(){return void 0!==window.navigator.msSaveBlob};var A=/MSIE [1-9]\./;c.isIE9orBelow=function(){return c.isIE()&&A.test(window.navigator.userAgent)};var L=/Version\/[\d\.]+.*Safari/;c.isSafari=function(){return L.test(window.navigator.userAgent)};var C=/iPad|iPhone|iPod/;c.isIOS=function(){return C.test(window.navigator.userAgent)},c.isD3Selection=function(e){return e&&"function"==typeof e.classed},c.ensureSingle=function(e,t,n,r){var a=e.select(t+(n?"."+n:""));if(a.size())return a;var i=e.append(t);return n&&i.classed(n,!0),r&&i.call(r),i},c.ensureSingleById=function(e,t,n,r){var a=e.select(t+"#"+n);if(a.size())return a;var i=e.append(t).attr("id",n);return r&&i.call(r),i},c.objectFromPath=function(e,t){for(var n,r=e.split("."),a=n={},i=0;i<r.length;i++){var o=r[i],l=null,s=r[i].match(/(.*)\[([0-9]+)\]/);s?(o=s[1],l=s[2],n=n[o]=[],i===r.length-1?n[l]=t:n[l]={},n=n[l]):(i===r.length-1?n[o]=t:n[o]={},n=n[o])}return a};var S=/^([^\[\.]+)\.(.+)?/,M=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;c.expandObjectPaths=function(e){var t,n,r,a,i,o,l;if("object"==typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(S))?(a=e[n],r=t[1],delete e[n],e[r]=c.extendDeepNoArrays(e[r]||{},c.objectFromPath(n,c.expandObjectPaths(a))[r])):(t=n.match(M))?(a=e[n],r=t[1],i=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(l=t[4],o=e[r][i]=e[r][i]||{},c.extendDeepNoArrays(o,c.objectFromPath(l,c.expandObjectPaths(a)))):e[r][i]=c.expandObjectPaths(a)):e[n]=c.expandObjectPaths(e[n]));return e},c.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,a=t.charAt(0),i=t.charAt(1),o=e.split("."),l=o[0],s=o.length>1?a+o[1]:"";if(i&&(o.length>1||l.length>4||n))for(;r.test(l);)l=l.replace(r,"$1"+i+"$2");return l+s},c.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;c.templateString=function(e,t){var n={};return e.replace(c.TEMPLATE_STRING_REGEX,function(e,r){var a;return O.test(r)?a=t[r]:(n[r]=n[r]||c.nestedProperty(t,r).get,a=n[r]()),c.isValidTextValue(a)?a:""})};var D={max:10,count:0,name:"hovertemplate"};c.hovertemplateString=function(){return R.apply(D,arguments)};var P={max:10,count:0,name:"texttemplate"};c.texttemplateString=function(){return R.apply(P,arguments)};var z=/^[:|\|]/;function R(e,t,n){var i=this,o=arguments;t||(t={});var l={};return e.replace(c.TEMPLATE_STRING_REGEX,function(e,s,u){var f,d,p,$;for(p=3;p<o.length;p++)if(f=o[p]){if(f.hasOwnProperty(s)){d=f[s];break}if(O.test(s)||(d=l[s]||c.nestedProperty(f,s).get())&&(l[s]=d),void 0!==d)break}if(void 0===d&&i)return i.count<i.max&&(c.warn("Variable '"+s+"' in "+i.name+" could not be found!"),d=e),i.count===i.max&&c.warn("Too many "+i.name+" warnings - additional warnings will be suppressed"),i.count++,e;if(u){if(":"===u[0]&&(d=($=n?n.numberFormat:r.format)(u.replace(z,""))(d)),"|"===u[0]){$=n?n.timeFormat:a;var h=c.dateTime2ms(d);d=c.formatDate(h,u.replace(z,""),!1,$)}}else t.hasOwnProperty(s+"Label")&&(d=t[s+"Label"]);return d})}c.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,a=0,i=0;i<n;i++){var o=e.charCodeAt(i)||0,l=t.charCodeAt(i)||0,s=o>=48&&o<=57,c=l>=48&&l<=57;if(s&&(r=10*r+o-48),c&&(a=10*a+l-48),!s||!c){if(r!==a)return r-a;if(o!==l)return o-l}}return a-r};var I=2e9;c.seedPseudoRandom=function(){I=2e9},c.pseudoRandom=function(){var e=I;return 429496729>Math.abs((I=(69069*I+1)%4294967296)-e)?c.pseudoRandom():I/4294967296},c.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},a=c.extractOption(e,t,"htx","hovertext");if(c.isValidTextValue(a))return r(a);var i=c.extractOption(e,t,"tx","text");return c.isValidTextValue(i)?r(i):void 0},c.isValidTextValue=function(e){return e||0===e},c.formatPercent=function(e,t){t=t||0;for(var n=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",r=0;r<t;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},c.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t},c.strTranslate=function(e,t){return e||t?"translate("+e+","+t+")":""},c.strRotate=function(e){return e?"rotate("+e+")":""},c.strScale=function(e){return 1!==e?"scale("+e+")":""},c.getTextTransform=function(e){var t=e.noCenter,n=e.textX,r=e.textY,a=e.targetX,i=e.targetY,o=e.anchorX||0,l=e.anchorY||0,s=e.rotate,u=e.scale;return u?u>1&&(u=1):u=0,c.strTranslate(a-u*(n+o),i-u*(r+l))+c.strScale(u)+(s?"rotate("+s+(t?"":" "+n+" "+r)+")":"")},c.ensureUniformFontSize=function(e,t){var n=c.extendFlat({},t);return n.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),n},c.join2=function(e,t,n){var r=e.length;return r>1?e.slice(0,-1).join(t)+n+e[r-1]:e.join(t)}},{"../constants/numerical":181,"./anchor_utils":186,"./angles":187,"./array":188,"./clean_number":189,"./clear_responsive":191,"./coerce":192,"./dates":193,"./dom":194,"./extend":196,"./filter_unique":197,"./filter_visible":198,"./geometry2d":199,"./identity":200,"./increment":201,"./is_plain_object":203,"./keyed_container":204,"./localize":205,"./loggers":206,"./make_trace_groups":207,"./matrix":208,"./mod":209,"./nested_property":210,"./noop":211,"./notifier":212,"./preserve_drawing_buffer":215,"./push_unique":216,"./regex":218,"./relative_attr":219,"./relink_private":220,"./search":221,"./stats":223,"./throttle":225,"./to_log_range":226,d3:9,"d3-time-format":7,"fast-isnumeric":11}],203:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],204:[function(e,t,n){"use strict";var r=e("./nested_property"),a=/^\w*$/;t.exports=function(e,t,n,i){n=n||"name",i=i||"value";var o,l,s,c={};l=t&&t.length?(s=r(e,t)).get():e,t=t||"";var u={};if(l)for(o=0;o<l.length;o++)u[l[o][n]]=o;var f=a.test(i),d={set:function(e,t){var a=null===t?4:0;if(!l){if(!s||4===a)return;l=[],s.set(l)}var o=u[e];if(void 0===o){if(4===a)return;a|=3,o=l.length,u[e]=o}else t!==(f?l[o][i]:r(l[o],i).get())&&(a|=2);var p=l[o]=l[o]||{};return p[n]=e,f?p[i]=t:r(p,i).set(t),null!==t&&(a&=-5),c[o]=c[o]|a,d},get:function(e){if(l){var t=u[e];return void 0===t?void 0:f?l[t][i]:r(l[t],i).get()}},rename:function(e,t){var r=u[e];return void 0===r||(c[r]=1|c[r],u[t]=r,delete u[e],l[r][n]=t),d},remove:function(e){var t=u[e];if(void 0===t)return d;var a=l[t];if(Object.keys(a).length>2)return c[t]=2|c[t],d.set(e,null);if(f){for(o=t;o<l.length;o++)c[o]=3|c[o];for(o=t;o<l.length;o++)u[l[o][n]]--;l.splice(t,1),delete u[e]}else r(a,i).set(null),c[t]=6|c[t];return d},constructUpdate:function(){for(var e,a,o={},s=Object.keys(c),u=0;u<s.length;u++)e=t+"["+(a=s[u])+"]",l[a]?(1&c[a]&&(o[e+"."+n]=l[a][n]),2&c[a]&&(o[e+"."+i]=f?4&c[a]?null:l[a][i]:4&c[a]?null:r(l[a],i).get())):o[e]=null;return o}};return d}},{"./nested_property":210}],205:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,a=0;a<2;a++){for(var i=e._context.locales,o=0;o<2;o++){var l=(i[n]||{}).dictionary;if(l){var s=l[t];if(s)return s}i=r.localeRegistry}var c=n.split("-")[0];if(c===n)break;n=c}return t}},{"../registry":290}],206:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config").dfltConfig,a=e("./notifier"),i=t.exports={};function o(e,t){if(e&&e.apply)try{return void e.apply(console,t)}catch(n){}for(var r=0;r<t.length;r++)try{e(t[r])}catch(a){console.log(t[r])}}i.log=function(){var e;if(r.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}if(r.notifyOnLogging>1){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);a(n.join("<br>"),"long")}},i.warn=function(){var e;if(r.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);a(n.join("<br>"),"stick")}},i.error=function(){var e;if(r.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.error,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);a(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":235,"./notifier":212}],207:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t,n){var a=e.selectAll("g."+n.replace(/\s/g,".")).data(t,function(e){return e[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var i=e.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(e){e[0][i]=r.select(this)}),a}},{d3:9}],208:[function(e,t,n){"use strict";var r=e("gl-mat4");n.init2dArray=function(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,a=e.length;for(t=0;t<a;t++)r=Math.max(r,e[t].length);var i=Array(r);for(t=0;t<r;t++)for(i[t]=Array(a),n=0;n<a;n++)i[t][n]=e[n][t];return i},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,a,i=e.length;if(e[0].length)for(r=Array(i),a=0;a<i;a++)r[a]=n.dot(e[a],t);else if(t[0].length){var o=n.transposeRagged(t);for(r=Array(o.length),a=0;a<o.length;a++)r[a]=n.dot(e,o[a])}else for(r=0,a=0;a<i;a++)r+=e[a]*t[a];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply3DTransform=function(e){return function(){var t=arguments,r=1===arguments.length?t[0]:[t[0],t[1],t[2]||0];return n.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}},n.convertCssMatrix=function(e){if(e){var t=e.length;if(16===t)return e;if(6===t)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.inverseTransformMatrix=function(e){var t=[];return r.invert(t,e),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}},{"gl-mat4":27}],209:[function(e,t,n){"use strict";t.exports={mod:function(e,t){var n=e%t;return n<0?n+t:n},modHalf:function(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}}},{}],210:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./array").isArrayOrTypedArray;t.exports=function(e,t){if(r(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,i,o,s,c,u,f=0,d=t.split(".");f<d.length;){if(s=String(d[f]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(s[1])d[f]=s[1];else{if(0!==f)throw"bad property string";d.splice(0,1)}for(c=s[2].substr(1,s[2].length-2).split("]["),u=0;u<c.length;u++)f++,d.splice(f,0,Number(c[u]))}f++}return"object"!=typeof e?(n=e,i=t,{set:function(){throw"bad container"},get:function(){},astr:i,parts:o=d,obj:n}):{set:l(e,d,t),get:function e(t,n){return function(){var r,i,o,l,s,c=t;for(l=0;l<n.length-1;l++){if(-1===(r=n[l])){for(i=!0,o=[],s=0;s<c.length;s++)o[s]=e(c[s],n.slice(l+1))(),o[s]!==o[0]&&(i=!1);return i?o[0]:o}if("number"==typeof r&&!a(c)||"object"!=typeof(c=c[r])||null===c)return}if("object"==typeof c&&null!==c&&null!==(o=c[n[l]]))return o}}(e,d),astr:t,parts:d,obj:e}};var i=/(^|\.)args\[/;function o(e,t){return void 0===e||null===e&&!t.match(i)}function l(e,t,n){return function(r){var i,l,f=e,d="",p=[[e,d]],$=o(r,n);for(l=0;l<t.length-1;l++){if("number"==typeof(i=t[l])&&!a(f))throw"array index but container is not an array";if(-1===i){if($=!c(f,t.slice(l+1),r,n))break;return}if(!u(f,i,t[l+1],$))break;if("object"!=typeof(f=f[i])||null===f)throw"container is not an object";d=s(d,i),p.push([f,d])}if($){if(l===t.length-1&&(delete f[t[l]],Array.isArray(f)&&+t[l]==f.length-1))for(;f.length&&void 0===f[f.length-1];)f.pop()}else f[t[l]]=r}}function s(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function c(e,t,n,r){var i,s=a(n),c=!0,f=n,d=r.replace("-1",0),p=!s&&o(n,d),$=t[0];for(i=0;i<e.length;i++)d=r.replace("-1",i),s&&(p=o(f=n[i%n.length],d)),p&&(c=!1),u(e,i,$,p)&&l(e[i],t,r.replace("-1",i))(f);return c}function u(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"==typeof n?[]:{}}return!0}},{"./array":188,"fast-isnumeric":11}],211:[function(e,t,n){"use strict";t.exports=function(){}},{}],212:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=[];t.exports=function(e,t){if(-1===i.indexOf(e)){i.push(e);var n=1e3;a(t)?n=t:"long"===t&&(n=3e3);var o=r.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var a=r.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(l)});for(var i=a.append("p"),o=e.split(/<br\s*\/?>/g),s=0;s<o.length;s++)s&&i.append("br"),i.append("span").text(o[s]);"stick"===t?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(n).call(l)})}function l(e){e.duration(700).style("opacity",0).each("end",function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1),r.select(this).remove()})}}},{d3:9,"fast-isnumeric":11}],213:[function(e,t,n){"use strict";var r=e("./setcursor"),a="data-savedcursor";t.exports=function(e,t){var n=e.attr(a);if(t){if(!n){for(var i=(e.attr("class")||"").split(" "),o=0;o<i.length;o++){var l=i[o];0===l.indexOf("cursor-")&&e.attr(a,l.substr(7)).classed(l,!1)}e.attr(a)||e.attr(a,"!!")}r(e,t)}else n&&(e.attr(a,null),"!!"===n?r(e):r(e,n))}},{"./setcursor":222}],214:[function(e,t,n){"use strict";var r=e("./matrix").dot,a=e("../constants/numerical").BADNUM,i=t.exports={};i.tester=function(e){var t,n=e.slice(),r=n[0][0],i=r,o=n[0][1],l=o;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),i=Math.max(i,n[t][0]),o=Math.min(o,n[t][1]),l=Math.max(l,n[t][1]);var s,c=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,s=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,s=function(e){return e[1]===n[0][1]}));var u=!0,f=n[0];for(t=1;t<n.length;t++)if(f[0]!==n[t][0]||f[1]!==n[t][1]){u=!1;break}return{xmin:r,xmax:i,ymin:o,ymax:l,pts:n,contains:c?function(e,t){var n=e[0],c=e[1];return!(n===a||n<r||n>i||c===a||c<o||c>l)&&(!t||!s(e))}:function(e,t){var s=e[0],c=e[1];if(s===a||s<r||s>i||c===a||c<o||c>l)return!1;var u,f,d,p,$,h=n.length,g=n[0][0],v=n[0][1],m=0;for(u=1;u<h;u++)if(f=g,d=v,g=n[u][0],v=n[u][1],!(s<(p=Math.min(f,g))||s>Math.max(f,g)||c>Math.max(d,v))){if(c<Math.min(d,v))s!==p&&m++;else{if(c===($=g===f?c:d+(s-f)*(v-d)/(g-f)))return 1!==u||!t;c<=$&&s!==p&&m++}}return m%2==1},isRect:c,degenerate:u}},i.isSegmentBent=function(e,t,n,a){var i,o,l,s=e[t],c=[e[n][0]-s[0],e[n][1]-s[1]],u=r(c,c),f=Math.sqrt(u),d=[-c[1]/f,c[0]/f];for(i=t+1;i<n;i++)if((l=r(o=[e[i][0]-s[0],e[i][1]-s[1]],c))<0||l>u||Math.abs(r(o,d))>a)return!0;return!1},i.filter=function(e,t){var n=[e[0]],r=0,a=0;function o(o){e.push(o);var l=n.length,s=r;n.splice(a+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||i.isSegmentBent(e,s,c+1,t))&&(n.push(e[c]),n.length<l-2&&(r=c,a=n.length-1),s=c)}return e.length>1&&o(e.pop()),{addPt:o,raw:e,filtered:n}}},{"../constants/numerical":181,"./matrix":208}],215:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("is-mobile");t.exports=function(e){if("string"!=typeof(n=e&&e.hasOwnProperty("userAgent")?e.userAgent:("undefined"!=typeof navigator&&(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),t)))return!0;var t,n,i=a({ua:{headers:{"user-agent":n}},tablet:!0,featureDetect:!1});if(!i){for(var o=n.split(" "),l=1;l<o.length;l++)if(-1!==o[l].indexOf("Safari"))for(var s=l-1;s>-1;s--){var c=o[s];if("Version/"===c.substr(0,8)){var u=c.substr(8).split(".")[0];if(r(u)&&(u=+u),u>=13)return!0}}}return i}},{"fast-isnumeric":11,"is-mobile":45}],216:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else(t||0===t)&&-1===e.indexOf(t)&&e.push(t);return e}},{}],217:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plot_api/plot_config").dfltConfig,i={add:function(e,t,n,r,i){var o,l;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,o),e.undoQueue.index+=1):o=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(i)),e.undoQueue.queue.length>a.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)i.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)i.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};i.plotDo=function(e,t,n){e.autoplay=!0,n=function(e,t){for(var n,a=[],i=0;i<t.length;i++)n=t[i],a[i]=n===e?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return a}(e,n),t.apply(null,n)},t.exports=i},{"../lib":202,"../plot_api/plot_config":235}],218:[function(e,t,n){"use strict";n.counter=function(e,t,n,r){var a=(t||"")+(n?"":"$"),i=!1===r?"":"^";return"xy"===e?RegExp(i+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):RegExp(i+e+"([2-9]|[1-9][0-9]+)?"+a)}},{}],219:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(a))throw Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],220:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,a=e("./is_plain_object");t.exports=function e(t,n){for(var i in n){var o=n[i],l=t[i];if(l!==o){if("_"===i.charAt(0)||"function"==typeof o){if(i in t)continue;t[i]=o}else if(r(o)&&r(l)&&a(o[0])){if("customdata"===i||"ids"===i)continue;for(var s=Math.min(o.length,l.length),c=0;c<s;c++)l[c]!==o[c]&&a(o[c])&&a(l[c])&&e(l[c],o[c])}else a(o)&&a(l)&&(e(l,o),Object.keys(l).length||delete t[i])}}}},{"./array":188,"./is_plain_object":203}],221:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./loggers"),i=e("./identity"),o=e("../constants/numerical").BADNUM;function l(e,t){return e<t}function s(e,t){return e<=t}function c(e,t){return e>t}function u(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-1e-9)-1:Math.floor((e-t.start)/t.size+1e-9);var i,o,f=0,d=t.length,p=0,$=d>1?(t[d-1]-t[0])/(d-1):1;for(o=$>=0?n?l:s:n?u:c,e+=1e-9*$*(n?-1:1)*($>=0?1:-1);f<d&&p++<100;)o(t[i=Math.floor((f+d)/2)],e)?f=i+1:d=i;return p>90&&a.log("Long binary search..."),f-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e,t){var r,a=(t||{}).unitMinDiff,i=e.slice();for(i.sort(n.sorterAsc),r=i.length-1;r>-1&&i[r]===o;r--);var l=1;a||(l=i[r]-i[0]||1);for(var s,c=l/(r||1)/1e4,u=[],f=0;f<=r;f++){var d=i[f],p=d-s;void 0===s?(u.push(d),s=d):p>c&&(l=Math.min(l,p),u.push(d),s=d)}return{vals:u,minDiff:l}},n.roundUp=function(e,t,n){for(var r,a=0,i=t.length-1,o=0,l=n?0:1,s=n?1:0,c=n?Math.ceil:Math.floor;a<i&&o++<100;)t[r=c((a+i)/2)]<=e?a=r+l:i=r-s;return t[a]},n.sort=function(e,t){for(var n=0,r=0,a=1;a<e.length;a++){var i=t(e[a],e[a-1]);if(i<0?n=1:i>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||i;for(var n,r=1/0,a=0;a<e.length;a++){var o=t(e[a]);o<r&&(r=o,n=a)}return n}},{"../constants/numerical":181,"./identity":200,"./loggers":206,"fast-isnumeric":11}],222:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},{}],223:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,i,o){var l,s;if((!o||o>i.length)&&(o=i.length),r(t)||(t=!1),a(i[0])){for(s=Array(o),l=0;l<o;l++)s[l]=n.aggNums(e,t,i[l]);i=s}for(l=0;l<o;l++)r(t)?r(i[l])&&(t=e(+t,+i[l])):t=i[l];return t},n.len=function(e){return n.aggNums(function(e){return e+1},0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums(function(e,t){return e+t},0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,a){return t||(t=n.len(e)),r(a)||(a=n.mean(e,t)),n.aggNums(function(e,t){return e+Math.pow(t-a,2)},0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.median=function(e){var t=e.slice().sort();return n.interp(t,.5)},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":188,"fast-isnumeric":11}],224:[function(e,t,n){"use strict";var r=e("d3"),a=e("../lib"),i=a.strTranslate,o=e("../constants/xmlns_namespaces"),l=e("../constants/alignment").LINE_SPACING;function s(e,t){return e.node().getBoundingClientRect()[t]}var c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,h){var A=e.text(),L=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&A.match(c),M=r.select(e.node().parentNode);if(!M.empty()){var O=e.attr("class")?e.attr("class").split(" ")[0]:"text";return O+="-math",M.selectAll("svg."+O).remove(),M.selectAll("g."+O+"-group").remove(),e.style("display",null).attr({"data-unformatted":A,"data-math":"N"}),L?(t&&t._promises||[]).push(new Promise(function(t){e.style("display","none");var n,o,l,c,d,p,$,g=parseInt(e.node().style.fontSize,10);n=L[2],o={fontSize:g},l=function(n,r,a){M.selectAll("svg."+O).remove(),M.selectAll("g."+O+"-group").remove();var o=n&&n.select("svg");if(!o||!o.node())return D(),void t();var l=M.append("g").classed(O+"-group",!0).attr({"pointer-events":"none","data-unformatted":A,"data-math":"Y"});l.node().appendChild(o.node()),r&&r.node()&&o.node().insertBefore(r.node().cloneNode(!0),o.node().firstChild),o.attr({class:O,height:a.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var c=e.node().style.fill||"black",u=o.select("g");u.attr({fill:c,stroke:c});var f=s(u,"width"),d=s(u,"height"),p=+e.attr("x")-f*({start:0,middle:.5,end:1})[e.attr("text-anchor")||"start"],$=-(g||s(e,"height"))/4;"y"===O[0]?(l.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+")"+i(-f/2,$-d/2)}),o.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===O[0]?o.attr({x:e.attr("x"),y:$-d/2}):"a"===O[0]&&0!==O.indexOf("atitle")?o.attr({x:0,y:$}):o.attr({x:p,y:+e.attr("y")+$-d/2}),h&&h.call(e,l),t(l)},MathJax.Hub.Queue(function(){return d=a.extendDeepAll({},MathJax.Hub.config),p=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})},function(){if("SVG"!==(c=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},function(){var e="math-output-"+a.randstr({},64);return $=r.select("body").append("div").attr({id:e}).style({visibility:"hidden",position:"absolute"}).style({"font-size":o.fontSize+"px"}).text(n.replace(u,"\\lt ").replace(f,"\\gt ")),MathJax.Hub.Typeset($.node())},function(){var e=r.select("body").select("#MathJax_SVG_glyphs");if($.select(".MathJax_SVG").empty()||!$.select("svg").node())a.log("There was an error in the tex syntax.",n),l();else{var t=$.select("svg").node().getBoundingClientRect();l($.select(".MathJax_SVG"),e,t)}if($.remove(),"SVG"!==c)return MathJax.Hub.setRenderer(c)},function(){return void 0!==p&&(MathJax.Hub.processSectionDelay=p),MathJax.Hub.Config(d)})})):D(),e}function D(){M.empty()||(O=e.attr("class")+"-math",M.select("svg."+O).remove()),e.text("").style("white-space","pre"),function(e,t){t=t.replace(g," ");var n,i=!1,s=[],c=-1;function u(){c++;var t=document.createElementNS(o.svg,"tspan");r.select(t).attr({class:"line",dy:c*l+"em"}),e.appendChild(t),n=t;var a=s;if(s=[{node:t}],a.length>1)for(var i=1;i<a.length;i++)f(a[i])}function f(e){var t,a=e.type,i={};if("a"===a){t="a";var l=e.target,c=e.href,u=e.popup;c&&(i={"xlink:xlink:show":"_blank"===l||"_"!==l.charAt(0)?"new":"replace",target:l,"xlink:xlink:href":c},u&&(i.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+u+'");return false;'))}else t="tspan";e.style&&(i.style=e.style);var f=document.createElementNS(o.svg,t);if("sup"===a||"sub"===a){h(n,""),n.appendChild(f);var d=document.createElementNS(o.svg,"tspan");h(d,""),r.select(d).attr("dy",$[a]),i.dy=p[a],n.appendChild(f),n.appendChild(d)}else n.appendChild(f);r.select(f).attr(i),n=e.node=f,s.push(e)}function h(e,t){e.appendChild(document.createTextNode(t))}function A(e){if(1!==s.length){var r=s.pop();e!==r.type&&a.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=s[s.length-1].node}else a.log("Ignoring unexpected end tag </"+e+">.",t)}y.test(t)?u():(n=e,s=[{node:e}]);for(var L=t.split(v),M=0;M<L.length;M++){var O=L[M],D=O.match(m),P=D&&D[2].toLowerCase(),z=d[P];if("br"===P)u();else if(void 0===z)h(n,C(O));else if(D[1])A(P);else{var R=D[4],I={type:P},E=k(R,_);if(E?(E=E.replace(T,"$1 fill:"),z&&(E+=";"+z)):z&&(E=z),E&&(I.style=E),"a"===P){i=!0;var F=k(R,x);if(F){var N=S(F);N&&(I.href=N,I.target=k(R,b)||"_blank",I.popup=k(R,w))}}f(I)}}return i}(e.node(),A)&&e.style("pointer-events","all"),n.positionText(e),h&&h.call(e)}};var u=/(<|&lt;|&#60;)/g,f=/(>|&gt;|&#62;)/g,d={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},p={sub:"0.3em",sup:"-0.6em"},$={sub:"-0.21em",sup:"0.42em"},h=["http:","https:","mailto:","",void 0,":"],g=n.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,m=/<(\/?)([^ >]*)(\s+(.*))?>/i,y=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var _=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,x=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,b=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,w=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function k(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&C(r)}var T=/(^|;)\s*color:/;n.plainText=function(e,t){for(var n=void 0!==(t=t||{}).len&&-1!==t.len?t.len:1/0,r=void 0!==t.allowedTags?t.allowedTags:["br"],a=e.split(v),i=[],o="",l=0,s=0;s<a.length;s++){var c=a[s],u=c.match(m),f=u&&u[2].toLowerCase();if(f)-1!==r.indexOf(f)&&(i.push(c),o=f);else{var d=c.length;if(l+d<n)i.push(c),l+=d;else if(l<n){var p=n-l;o&&("br"!==o||p<=3||d<=3)&&i.pop(),n>3?i.push(c.substr(0,p-3)+"..."):i.push(c.substr(0,p));break}o=""}}return i.join("")};var A={mu:"",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(e){return e.replace(L,function(e,t){return("#"===t.charAt(0)?function(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):A[t])||e})}function S(e){var t=encodeURI(decodeURI(e)),n=document.createElement("a"),r=document.createElement("a");n.href=e,r.href=t;var a=n.protocol,i=r.protocol;return -1!==h.indexOf(a)&&-1!==h.indexOf(i)?t:""}function M(e,t,n){var r,i,o,l=n.horizontalAlign,s=n.verticalAlign||"top",c=e.node().getBoundingClientRect(),u=t.node().getBoundingClientRect();return i="bottom"===s?function(){return c.bottom-r.height}:"middle"===s?function(){return c.top+(c.height-r.height)/2}:function(){return c.top},o="right"===l?function(){return c.right-r.width}:"center"===l?function(){return c.left+(c.width-r.width)/2}:function(){return c.left},function(){r=this.node().getBoundingClientRect();var e=o()-u.left,t=i()-u.top,l=n.gd||{};if(n.gd){l._fullLayout._calcInverseTransform(l);var s=a.apply3DTransform(l._fullLayout._invTransform)(e,t);e=s[0],t=s[1]}return this.style({top:t+"px",left:e+"px","z-index":1e3}),this}}n.convertEntities=C,n.sanitizeHTML=function(e){e=e.replace(g," ");for(var t=document.createElement("p"),n=t,a=[],i=e.split(v),o=0;o<i.length;o++){var l=i[o],s=l.match(m),c=s&&s[2].toLowerCase();if(c in d){if(s[1])a.length&&(n=a.pop());else{var u=s[4],f=k(u,_),p=f?{style:f}:{};if("a"===c){var $=k(u,x);if($){var h=S($);if(h){p.href=h;var y=k(u,b);y&&(p.target=y)}}}var w=document.createElement(c);n.appendChild(w),r.select(w).attr(p),n=w,a.push(w)}}else n.appendChild(document.createTextNode(C(l)))}return t.innerHTML},n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each(function(){var e=r.select(this);function a(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var i=a("x",t),o=a("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:i,y:o})})},n.makeEditable=function(e,t){var n=t.gd,a=t.delegate,i=r.dispatch("edit","input","cancel"),o=a||e;if(e.style({"pointer-events":a?"none":"all"}),1!==e.size())throw Error("boo");function l(){l=(a=r.select(n).select(".svg-container")).append("div"),u=parseFloat((c=e.node().style).fontSize||12),void 0===(f=t.text)&&(f=e.attr("data-unformatted")),l.classed("plugin-editable editable",!0).style({position:"absolute","font-family":c.fontFamily||"Arial","font-size":u,color:t.fill||c.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-u/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(f).call(M(e,a,t)).on("blur",function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,a=r.select(this).attr("class");(t=a?"."+a.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var o=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),i.edit.call(e,o)}).on("focus",function(){var e=this;n._editing=!0,r.select(document).on("mouseup",function(){if(r.event.target===e)return!1;document.activeElement===l.node()&&l.node().blur()})}).on("keyup",function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),i.cancel.call(e,this.textContent)):(i.input.call(e,this.textContent),r.select(this).call(M(e,a,t)))}).on("keydown",function(){13===r.event.which&&this.blur()}).call(s),e.style({opacity:0});var a,l,c,u,f,d,p=o.attr("class");(d=p?"."+p.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(d).style({opacity:0})}function s(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}return t.immediate?l():o.on("click",l),r.rebind(e,i,"on")}},{"../constants/alignment":177,"../constants/xmlns_namespaces":182,"../lib":202,d3:9}],225:[function(e,t,n){"use strict";var r={};function a(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var i=r[e],o=Date.now();if(!i){for(var l in r)r[l].ts<o-6e4&&delete r[l];i=r[e]={ts:0,timer:null}}function s(){n(),i.ts=Date.now(),i.onDone&&(i.onDone(),i.onDone=null)}a(i),o>i.ts+t?s():i.timer=setTimeout(function(){s(),i.timer=null},t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise(function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}}):Promise.resolve()},n.clear=function(e){if(e)a(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],226:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":11}],227:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],228:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],229:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,a=r.layoutArrayContainers,i=r.layoutArrayRegexes,o=e.split("[")[0],l=0;l<i.length;l++)if((n=e.match(i[l]))&&0===n.index){t=n[0];break}if(t||(t=a[a.indexOf(o)]),!t)return!1;var s=e.substr(t.length);return s?!!(n=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":290}],230:[function(e,t,n){"use strict";var r=e("../lib"),a=r.extendFlat,i=r.isPlainObject,o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},s=o.flags.slice().concat(["fullReplot"]),c=l.flags.slice().concat("layoutReplot");function u(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=a({},e);for(var o in r){var l=r[o];i(l)&&(r[o]=d(l,t,n,o))}return"from-root"===n&&(r.editType=t),r}function d(e,t,n,r){if(e.valType){var i=a({},e);if(i.editType=t,Array.isArray(e.items)){i.items=Array(e.items.length);for(var o=0;o<e.items.length;o++)i.items[o]=d(e.items[o],t,"from-root")}return i}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:o,layout:l,traceFlags:function(){return u(s)},layoutFlags:function(){return u(c)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),a=0;a<r.length;a++)e[r[a]]=!0},overrideAll:f}},{"../lib":202}],231:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("gl-mat4/fromQuat"),i=e("../registry"),o=e("../lib"),l=e("../plots/plots"),s=e("../plots/cartesian/axis_ids"),c=e("../components/color"),u=s.cleanId,f=s.getFromTrace,d=i.traceIs;function p(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=u(n,r,!0))}function $(e){function t(t,n){var r=e[t],a=e.title&&e.title[n];r&&!a&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function h(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function g(e,t,n,r){if(n&&!r)return e;if(r&&!n||!e.trim())return t;if(!t.trim())return e;var a,i=Math.min(e.length,t.length);for(a=0;a<i&&e.charAt(a)===t.charAt(a);a++);return e.substr(0,a).trim()}function v(e){var t="middle",n="center";return"string"==typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right")),t+" "+n}function m(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var t,r,i=(l.subplotsRegistry.cartesian||{}).attrRegex,s=(l.subplotsRegistry.polar||{}).attrRegex,f=(l.subplotsRegistry.ternary||{}).attrRegex,d=(l.subplotsRegistry.gl3d||{}).attrRegex,h=Object.keys(e);for(t=0;t<h.length;t++){var g=h[t];if(i&&i.test(g)){var v=e[g];v.anchor&&"free"!==v.anchor&&(v.anchor=u(v.anchor)),v.overlaying&&(v.overlaying=u(v.overlaying)),v.type||(v.isdate?v.type="date":v.islog?v.type="log":!1===v.isdate&&!1===v.islog&&(v.type="linear")),"withzero"!==v.autorange&&"tozero"!==v.autorange||(v.autorange=!0,v.rangemode="tozero"),delete v.islog,delete v.isdate,delete v.categories,m(v,"domain")&&delete v.domain,void 0!==v.autotick&&(void 0===v.tickmode&&(v.tickmode=v.autotick?"auto":"linear"),delete v.autotick),$(v)}else if(s&&s.test(g))$(e[g].radialaxis);else if(f&&f.test(g)){var y=e[g];$(y.aaxis),$(y.baxis),$(y.caxis)}else if(d&&d.test(g)){var _=e[g],x=_.cameraposition;if(Array.isArray(x)&&4===x[0].length){var b=x[0],w=x[1],k=x[2],T=a([],b),A=[];for(r=0;r<3;++r)A[r]=w[r]+k*T[2+4*r];_.camera={eye:{x:A[0],y:A[1],z:A[2]},center:{x:w[0],y:w[1],z:w[2]},up:{x:0,y:0,z:1}},delete _.cameraposition}$(_.xaxis),$(_.yaxis),$(_.zaxis)}}var L=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<L;t++){var C=e.annotations[t];o.isPlainObject(C)&&(C.ref&&("paper"===C.ref?(C.xref="paper",C.yref="paper"):"data"===C.ref&&(C.xref="x",C.yref="y"),delete C.ref),p(C,"xref"),p(C,"yref"))}var S=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<S;t++){var M=e.shapes[t];o.isPlainObject(M)&&(p(M,"xref"),p(M,"yref"))}var O=Array.isArray(e.images)?e.images.length:0;for(t=0;t<O;t++){var D=e.images[t];o.isPlainObject(D)&&(p(D,"xref"),p(D,"yref"))}var P=e.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor="left"):P.x<-2&&(P.x=-.02,P.xanchor="right"),P.y>3?(P.y=1.02,P.yanchor="bottom"):P.y<-2&&(P.y=-.02,P.yanchor="top")),$(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),c.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,a=e[t];if("histogramy"===a.type&&"xbins"in a&&!("ybins"in a)&&(a.ybins=a.xbins,delete a.xbins),a.error_y&&"opacity"in a.error_y){var s=c.defaults,f=a.error_y.color||(d(a,"bar")?c.defaultLine:s[t%s.length]);a.error_y.color=c.addOpacity(c.rgb(f),c.opacity(f)*a.error_y.opacity),delete a.error_y.opacity}if("bardir"in a&&("h"===a.bardir&&(d(a,"bar")||"histogram"===a.type.substr(0,9))&&(a.orientation="h",n.swapXYData(a)),delete a.bardir),"histogramy"===a.type&&n.swapXYData(a),"histogramx"!==a.type&&"histogramy"!==a.type||(a.type="histogram"),"scl"in a&&!("colorscale"in a)&&(a.colorscale=a.scl,delete a.scl),"reversescl"in a&&!("reversescale"in a)&&(a.reversescale=a.reversescl,delete a.reversescl),a.xaxis&&(a.xaxis=u(a.xaxis,"x")),a.yaxis&&(a.yaxis=u(a.yaxis,"y")),d(a,"gl3d")&&a.scene&&(a.scene=l.subplotsRegistry.gl3d.cleanId(a.scene)),!d(a,"pie-like")&&!d(a,"bar-like")){if(Array.isArray(a.textposition))for(r=0;r<a.textposition.length;r++)a.textposition[r]=v(a.textposition[r]);else a.textposition&&(a.textposition=v(a.textposition))}var p=i.getModule(a);if(p&&p.colorbar){var y=p.colorbar.container,_=y?a[y]:a;_&&_.colorscale&&("YIGnBu"===_.colorscale&&(_.colorscale="YlGnBu"),"YIOrRd"===_.colorscale&&(_.colorscale="YlOrRd"))}if("surface"===a.type&&o.isPlainObject(a.contours)){var x=["x","y","z"];for(r=0;r<x.length;r++){var b=a.contours[x[r]];o.isPlainObject(b)&&(b.highlightColor&&(b.highlightcolor=b.highlightColor,delete b.highlightColor),b.highlightWidth&&(b.highlightwidth=b.highlightWidth,delete b.highlightWidth))}}if("candlestick"===a.type||"ohlc"===a.type){var w=!1!==(a.increasing||{}).showlegend,k=!1!==(a.decreasing||{}).showlegend,T=h(a.increasing),A=h(a.decreasing);if(!1!==T&&!1!==A){var L=g(T,A,w,k);L&&(a.name=L)}else(T||A)&&!a.name&&(a.name=T||A)}if(Array.isArray(a.transforms)){var C=a.transforms;for(r=0;r<C.length;r++){var S=C[r];if(o.isPlainObject(S))switch(S.type){case"filter":S.filtersrc&&(S.target=S.filtersrc,delete S.filtersrc),S.calendar&&(S.valuecalendar||(S.valuecalendar=S.calendar),delete S.calendar);break;case"groupby":if(S.styles=S.styles||S.style,S.styles&&!Array.isArray(S.styles)){var M=S.styles,O=Object.keys(M);S.styles=[];for(var D=0;D<O.length;D++)S.styles.push({target:O[D],value:M[O[D]]})}}}}m(a,"line")&&delete a.line,"marker"in a&&(m(a.marker,"line")&&delete a.marker.line,m(a,"marker")&&delete a.marker),c.clean(a),a.autobinx&&(delete a.autobinx,delete a.xbins),a.autobiny&&(delete a.autobiny,delete a.ybins),$(a),a.colorbar&&$(a.colorbar),a.marker&&a.marker.colorbar&&$(a.marker.colorbar),a.line&&a.line.colorbar&&$(a.line.colorbar),a.aaxis&&$(a.aaxis),a.baxis&&$(a.baxis)}},n.swapXYData=function(e){var t;if(o.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);o.swapAttrs(e,["error_?.copy_ystyle"]),r&&o.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var a=e.hoverinfo.split("+");for(t=0;t<a.length;t++)"x"===a[t]?a[t]="y":"y"===a[t]&&(a[t]="x");e.hoverinfo=a.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(e,t){return t});if(Array.isArray(t)){for(var n=[],a=0;a<t.length;a++)o.isIndex(t[a],e.data.length)?n.push(t[a]):o.warn("trace index (",t[a],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var a=e.obj,i=e.parts,l=i.length,s=i[l-1],c=r(s);if(c&&null===t){var u=i.slice(0,l-1).join(".");o.nestedProperty(a,u).get().splice(s,1)}else c&&void 0===e.get()&&void 0===e.get()&&(n[e.astr]=null),e.set(t)};var y=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(e){var t=e.search(y);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=_(t);n;){if(n in e)return!0;n=_(n)}return!1};var x=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var a=e._fullData[r],i=0;i<3;i++){var l=f(e,a,x[i]);if(l&&"log"!==l.type){var s=l._name,c=l._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==n[c])continue;s=c+"."+s}var u=s+".type";void 0===n[s]&&void 0===n[u]&&o.nestedProperty(e.layout,u).set(null)}}}},{"../components/color":75,"../lib":202,"../plots/cartesian/axis_ids":251,"../plots/plots":282,"../registry":290,"fast-isnumeric":11,"gl-mat4/fromQuat":17}],232:[function(e,t,n){"use strict";var r=e("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var a=e("./template_api");n.makeTemplate=a.makeTemplate,n.validateTemplate=a.validateTemplate},{"../snapshot/download":292,"./plot_api":234,"./template_api":239,"./to_image":240,"./validate":241}],233:[function(e,t,n){"use strict";var r=e("../lib/is_plain_object"),a=e("../lib/noop"),i=e("../lib/loggers"),o=e("../lib/search").sorterAsc,l=e("../registry");n.containerArrayMatch=e("./container_array_match");var s=n.isAddVal=function(e){return"add"===e||r(e)},c=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,r,u){var f,d=t.astr,p=l.getComponentMethod(d,"supplyLayoutDefaults"),$=l.getComponentMethod(d,"draw"),h=l.getComponentMethod(d,"drawOne"),g=r.replot||r.recalc||p===a||$===a,v=e.layout,m=e._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",d);var y=n[""][""];if(c(y))t.set(null);else{if(!Array.isArray(y))return i.warn("Unrecognized full array edit value",d,y),!0;t.set(y)}return!g&&(p(v,m),$(e),!0)}var _,x,b,w,k,T,A,L,C=Object.keys(n).map(Number).sort(o),S=t.get(),M=S||[],O=u(m,d).get(),D=[],P=-1,z=M.length;for(_=0;_<C.length;_++)if(k=Object.keys(w=n[b=C[_]]),A=s(T=w[""]),b<0||b>M.length-(A?0:1))i.warn("index out of range",d,b);else if(void 0!==T)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",d,b),c(T)?D.push(b):A?("add"===T&&(T={}),M.splice(b,0,T),O&&O.splice(b,0,{})):i.warn("Unrecognized full object edit value",d,b,T),-1===P&&(P=b);else for(x=0;x<k.length;x++)L=d+"["+b+"].",u(M[b],k[x],L).set(w[k[x]]);for(_=D.length-1;_>=0;_--)M.splice(D[_],1),O&&O.splice(D[_],1);if(M.length?S||t.set(M):t.set(null),g)return!1;if(p(v,m),h!==a){if(-1===P)f=C;else{for(z=Math.max(M.length,z),f=[],_=0;_<C.length&&!((b=C[_])>=P);_++)f.push(b);for(_=P;_<z;_++)f.push(_)}for(_=0;_<f.length;_++)h(e,f[_])}else $(e);return!0}},{"../lib/is_plain_object":203,"../lib/loggers":206,"../lib/noop":211,"../lib/search":221,"../registry":290,"./container_array_match":229}],234:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("has-hover"),o=e("../lib"),l=o.nestedProperty,s=e("../lib/events"),c=e("../lib/queue"),u=e("../registry"),f=e("./plot_schema"),d=e("../plots/plots"),p=e("../plots/polar/legacy"),$=e("../plots/cartesian/axes"),h=e("../components/drawing"),g=e("../components/color"),v=e("../plots/cartesian/graph_interact").initInteractions,m=e("../constants/xmlns_namespaces"),y=e("../lib/svg_text_utils"),_=e("../plots/cartesian/select").clearSelect,x=e("./plot_config").dfltConfig,b=e("./manage_arrays"),w=e("./helpers"),k=e("./subroutines"),T=e("./edit_types"),A=e("../plots/cartesian/constants").AX_NAME_PATTERN,L=0;function C(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function S(e,t){try{e._fullLayout._paper.style("background",t)}catch(n){o.error(n)}}function M(e,t){S(e,g.combine(t,"white"))}function O(e,t){if(!e._context){e._context=o.extendDeep({},x);var n=r.select("base");e._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var a,l,s,c=e._context;if(t){for(l=Object.keys(t),a=0;a<l.length;a++)"editable"!==(s=l[a])&&"edits"!==s&&s in c&&("setBackground"===s&&"opaque"===t[s]?c[s]=M:c[s]=t[s]);t.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio);var u=t.editable;if(void 0!==u)for(c.editable=u,l=Object.keys(c.edits),a=0;a<l.length;a++)c.edits[l[a]]=u;if(t.edits)for(l=Object.keys(t.edits),a=0;a<l.length;a++)(s=l[a])in c.edits&&(c.edits[s]=t.edits[s]);c._exportedPlot=t._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||i||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=S),c._hasZeroHeight=c._hasZeroHeight||0===e.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===e.clientWidth;var f=c.scrollZoom,d=c._scrollZoom={};if(!0===f)d.cartesian=1,d.gl3d=1,d.geo=1,d.mapbox=1;else if("string"==typeof f){var p=f.split("+");for(a=0;a<p.length;a++)d[p[a]]=1}else!1!==f&&(d.gl3d=1,d.geo=1,d.mapbox=1)}function D(e,t){var n,r,a=t+1,i=[];for(n=0;n<e.length;n++)(r=e[n])<0?i.push(a+r):i.push(r);return i}function P(e,t,n){var r,a;for(r=0;r<t.length;r++){if((a=t[r])!==parseInt(a,10))throw Error("all values in "+n+" must be integers");if(a>=e.data.length||a<-e.data.length)throw Error(n+" must be valid indices for gd.data.");if(t.indexOf(a,r+1)>-1||a>=0&&t.indexOf(-e.data.length+a)>-1||a<0&&t.indexOf(e.data.length+a)>-1)throw Error("each index in "+n+" must be unique.")}}function z(e,t,n){if(!Array.isArray(e.data))throw Error("gd.data must be an array.");if(void 0===t)throw Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),P(e,t,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&P(e,n,"newIndices"),void 0!==n&&t.length!==n.length)throw Error("current and new indices must be of equal length.")}function R(e,t,n,r,i){!function(e,t,n,r){var a=o.isPlainObject(r);if(!Array.isArray(e.data))throw Error("gd.data must be an array");if(!o.isPlainObject(t))throw Error("update must be a key:value object");if(void 0===n)throw Error("indices must be an integer or array of integers");for(var i in P(e,n,"indices"),t){if(!Array.isArray(t[i])||t[i].length!==n.length)throw Error("attribute "+i+" must be an array of length equal to indices array length");if(a&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==t[i].length))throw Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,n,r);for(var s=function(e,t,n,r){var i,s,c,u,f,d=o.isPlainObject(r),p=[];for(var $ in Array.isArray(n)||(n=[n]),n=D(n,e.data.length-1),t)for(var h=0;h<n.length;h++){if(s=(c=l(i=e.data[n[h]],$)).get(),u=t[$][h],!o.isArrayOrTypedArray(u))throw Error("attribute: "+$+" index: "+h+" must be an array");if(!o.isArrayOrTypedArray(s))throw Error("cannot extend missing or non-array attribute: "+$);if(s.constructor!==u.constructor)throw Error("cannot extend array with an array of a different type: "+$);a(f=d?r[$][h]:r)||(f=-1),p.push({prop:c,target:s,insert:u,maxp:Math.floor(f)})}return p}(e,t,n,r),c={},u={},f=0;f<s.length;f++){var d=s[f].prop,p=s[f].maxp,$=i(s[f].target,s[f].insert,p);d.set($[0]),Array.isArray(c[d.astr])||(c[d.astr]=[]),c[d.astr].push($[1]),Array.isArray(u[d.astr])||(u[d.astr]=[]),u[d.astr].push(s[f].target.length)}return{update:c,maxPoints:u}}function I(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function E(e,t,r,a){e=o.getGraphDiv(e),w.clearPromiseQueue(e);var i={};if("string"==typeof t)i[t]=r;else{if(!o.isPlainObject(t))return o.warn("Restyle fail.",t,r,a),Promise.reject();i=o.extendFlat({},t),void 0===a&&(a=r)}Object.keys(i).length&&(e.changed=!0);var l=w.coerceTraceIndices(e,a),s=B(e,i,l),u=s.flags;u.calc&&(e.calcdata=void 0),u.clearAxisTypes&&w.clearAxisTypes(e,l,{});var f=[];u.fullReplot?f.push(n.plot):(f.push(d.previousPromises),d.supplyDefaults(e),u.markerSize&&(d.doCalcdata(e),q(f)),u.style&&f.push(k.doTraceStyle),u.colorbars&&f.push(k.doColorBars),f.push(C)),f.push(d.rehover,d.redrag),c.add(e,E,[e,s.undoit,s.traces],E,[e,s.redoit,s.traces]);var p=o.syncOrAsync(f,e);return p&&p.then||(p=Promise.resolve()),p.then(function(){return e.emit("plotly_restyle",s.eventData),e})}function F(e){return void 0===e?null:e}function N(e,t){return t?function(t,n,r){var a=l(t,n),i=a.set;return a.set=function(t){H((r||"")+n,a.get(),t,e),i(t)},a}:l}function H(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var a=Array.isArray(t)?t:[],i=Array.isArray(n)?n:[],l=Math.max(a.length,i.length),s=0;s<l;s++)H(e+"["+s+"]",a[s],i[s],r);else if(o.isPlainObject(t)||o.isPlainObject(n)){var c=o.isPlainObject(t)?t:{},u=o.isPlainObject(n)?n:{},f=o.extendFlat({},c,u);for(var d in f)H(e+"."+d,c[d],u[d],r)}else void 0===r[e]&&(r[e]=F(t))}function B(e,t,n){var r,a=e._fullLayout,i=e._fullData,s=e.data,c=a._guiEditing,p=N(a._preGUI,c),h=o.extendDeepAll({},t);V(t);var g,v=T.traceFlags(),m={},y={};function _(){return n.map(function(){})}function x(e){var t=$.id2name(e);-1===g.indexOf(t)&&g.push(t)}function b(e){return"LAYOUT"+e+".autorange"}function k(e){return"LAYOUT"+e+".range"}function A(e){for(var t=e;t<i.length;t++)if(i[t]._input===s[e])return i[t]}function L(r,i,o){if(Array.isArray(r))r.forEach(function(e){L(e,i,o)});else if(!(r in t)&&!w.hasParent(t,r)){var l;if("LAYOUT"===r.substr(0,6))l=p(e.layout,r.replace("LAYOUT",""));else{var u=n[o];l=N(a._tracePreGUI[A(u)._fullInput.uid],c)(s[u],r)}r in y||(y[r]=_()),void 0===y[r][o]&&(y[r][o]=F(l.get())),void 0!==i&&l.set(i)}}function C(e){return function(t){return i[t][e]}}function S(e){return function(t,r){return!1===t?i[n[r]][e]:null}}for(var M in t){if(w.hasParent(t,M))throw Error("cannot set "+M+" and a parent attribute simultaneously");var O,D,P,z,R,I,E=t[M];if("autobinx"!==M&&"autobiny"!==M||(M=M.charAt(M.length-1)+"bins",E=Array.isArray(E)?E.map(S(M)):!1===E?n.map(C(M)):null),m[M]=E,"LAYOUT"!==M.substr(0,6)){for(y[M]=_(),r=0;r<n.length;r++)if(O=s[n[r]],D=A(n[r]),z=(P=N(a._tracePreGUI[D._fullInput.uid],c)(O,M)).get(),void 0!==(R=Array.isArray(E)?E[r%E.length]:E)){var H=P.parts[P.parts.length-1],B=M.substr(0,M.length-H.length-1),j=B?B+".":"",U=B?l(D,B).get():D;if((I=f.getTraceValObject(D,P.parts))&&I.impliedEdits&&null!==R)for(var q in I.impliedEdits)L(o.relativeAttr(M,q),I.impliedEdits[q],r);else if(("thicknessmode"===H||"lenmode"===H)&&z!==R&&("fraction"===R||"pixels"===R)&&U){var G=a._size,Z=U.orient,Y="top"===Z||"bottom"===Z;if("thicknessmode"===H){var X=Y?G.h:G.w;L(j+"thickness",U.thickness*("fraction"===R?1/X:X),r)}else{var W=Y?G.w:G.h;L(j+"len",U.len*("fraction"===R?1/W:W),r)}}else if("type"===M&&("pie"===R!=("pie"===z)||"funnelarea"===R!=("funnelarea"===z))){var Q="x",J="y";"bar"!==R&&"bar"!==z||"h"!==O.orientation||(Q="y",J="x"),o.swapAttrs(O,["?","?src"],"labels",Q),o.swapAttrs(O,["d?","?0"],"label",Q),o.swapAttrs(O,["?","?src"],"values",J),"pie"===z||"funnelarea"===z?(l(O,"marker.color").set(l(O,"marker.colors").get()),a._pielayer.selectAll("g.trace").remove()):u.traceIs(O,"cartesian")&&l(O,"marker.colors").set(l(O,"marker.color").get())}if(y[M][r]=F(z),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(M)){if("orientation"===M){P.set(R);var K=O.x&&!O.y?"h":"v";if((P.get()||K)===D.orientation)continue}else"orientationaxes"===M&&(O.orientation=({v:"h",h:"v"})[D.orientation]);w.swapXYData(O),v.calc=v.clearAxisTypes=!0}else -1!==d.dataArrayContainers.indexOf(P.parts[0])?(w.manageArrayContainers(P,R,y),v.calc=!0):(I?I.arrayOk&&!u.traceIs(D,"regl")&&(o.isArrayOrTypedArray(R)||o.isArrayOrTypedArray(z))?v.calc=!0:T.update(v,I):v.calc=!0,P.set(R))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(M)&&$.swap(e,n),"orientationaxes"===M){var ee=l(e.layout,"hovermode"),et=ee.get();"x"===et?ee.set("y"):"y"===et?ee.set("x"):"x unified"===et?ee.set("y unified"):"y unified"===et&&ee.set("x unified")}if(-1!==["orientation","type"].indexOf(M)){for(g=[],r=0;r<n.length;r++){var en=s[n[r]];u.traceIs(en,"cartesian")&&(x(en.xaxis||"x"),x(en.yaxis||"y"))}L(g.map(b),!0,0),L(g.map(k),[0,1],0)}}else P=p(e.layout,M.replace("LAYOUT","")),y[M]=[F(P.get())],P.set(Array.isArray(E)?E[0]:E),v.calc=!0}return(v.calc||v.plot)&&(v.fullReplot=!0),{flags:v,undoit:y,redoit:m,traces:n,eventData:o.extendDeepNoArrays([],[h,n])}}function V(e){var t,n,r,a=o.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,l=Object.keys(e);for(t=0;t<l.length;t++)r=e[n=l[t]],("title"===n||a.test(n)||i.test(n))&&("string"==typeof r||"number"==typeof r)?s(n,n.replace("title","title.text")):n.indexOf("titlefont")>-1?s(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?s(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?s(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&s(n,n.replace("titleoffset","title.offset"));function s(t,n){e[n]=e[t],delete e[t]}}function j(e,t,n){if(e=o.getGraphDiv(e),w.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var r={};if("string"==typeof t)r[t]=n;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,n),Promise.reject();r=o.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var a=X(e,r),i=a.flags;i.calc&&(e.calcdata=void 0);var l=[d.previousPromises];i.layoutReplot?l.push(k.layoutReplot):Object.keys(r).length&&(U(e,i,a)||d.supplyDefaults(e),i.legend&&l.push(k.doLegend),i.layoutstyle&&l.push(k.layoutStyles),i.axrange&&q(l,a.rangesAltered),i.ticks&&l.push(k.doTicksRelayout),i.modebar&&l.push(k.doModeBar),i.camera&&l.push(k.doCamera),i.colorbars&&l.push(k.doColorBars),l.push(C)),l.push(d.rehover,d.redrag),c.add(e,j,[e,a.undoit],j,[e,a.redoit]);var s=o.syncOrAsync(l,e);return s&&s.then||(s=Promise.resolve(e)),s.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function U(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var a in t)if("axrange"!==a&&t[a])return!1;for(var i in n.rangesAltered){var o=$.id2name(i),l=e.layout[o],s=r[o];if(s.autorange=l.autorange,l.range&&(s.range=l.range.slice()),s.cleanRange(),s._matchGroup){for(var c in s._matchGroup)if(c!==i){var u=r[$.id2name(c)];u.autorange=s.autorange,u.range=s.range.slice(),u._input.range=s.range.slice()}}}return!0}function q(e,t){var n=t?function(e){var n=[],r=!0;for(var a in t){var i=$.getFromId(e,a);if(n.push(a),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&n.push(i._anchorAxis._id),i._matchGroup)for(var o in i._matchGroup)t[o]||n.push(o);i.automargin&&(r=!1)}return $.draw(e,n,{skipTitle:r})}:function(e){return $.draw(e,"redraw")};e.push(_,k.doAutoRangeAndConstraints,n,k.drawData,k.finalDraw)}var G=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Z=/^[xyz]axis[0-9]*\.autorange$/,Y=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function X(e,t){var n,r,a,i=e.layout,s=e._fullLayout,c=s._guiEditing,d=N(s._preGUI,c),p=Object.keys(t),h=$.list(e),g=o.extendDeepAll({},t),v={};for(V(t),p=Object.keys(t),r=0;r<p.length;r++)if(0===p[r].indexOf("allaxes")){for(a=0;a<h.length;a++){var m=h[a]._id.substr(1),y=-1!==m.indexOf("scene")?m+".":"",_=p[r].replace("allaxes",y+h[a]._name);t[_]||(t[_]=t[p[r]])}delete t[p[r]]}var x=T.layoutFlags(),k={},L={};function C(e,n){if(Array.isArray(e))e.forEach(function(e){C(e,n)});else if(!(e in t)&&!w.hasParent(t,e)){var r=d(i,e);e in L||(L[e]=F(r.get())),void 0!==n&&r.set(n)}}var S,M={};function O(e){var t=$.name2id(e.split(".")[0]);return M[t]=1,t}for(var D in t){if(w.hasParent(t,D))throw Error("cannot set "+D+" and a parent attribute simultaneously");for(var P=d(i,D),z=t[D],R=P.parts.length-1;R>0&&"string"!=typeof P.parts[R];)R--;var I=P.parts[R],E=P.parts[R-1]+"."+I,H=P.parts.slice(0,R).join("."),B=l(e.layout,H).get(),j=l(s,H).get(),U=P.get();if(void 0!==z){k[D]=z,L[D]="reverse"===I?z:F(U);var q=f.getLayoutValObject(s,P.parts);if(q&&q.impliedEdits&&null!==z)for(var X in q.impliedEdits)C(o.relativeAttr(D,X),q.impliedEdits[X]);if(-1!==["width","height"].indexOf(D)){if(z){C("autosize",null);var Q="height"===D?"width":"height";C(Q,s[Q])}else s[D]=e._initialAutoSize[D]}else if("autosize"===D)C("width",z?null:s.width),C("height",z?null:s.height);else if(E.match(G))O(E),l(s,H+"._inputRange").set(null);else if(E.match(Z)){O(E),l(s,H+"._inputRange").set(null);var J=l(s,H).get();J._inputDomain&&(J._input.domain=J._inputDomain.slice())}else E.match(Y)&&l(s,H+"._inputDomain").set(null);if("type"===I){S=B;var K="linear"===j.type&&"log"===z,ee="log"===j.type&&"linear"===z;if(K||ee){if(S&&S.range){if(j.autorange)K&&(S.range=S.range[1]>S.range[0]?[1,2]:[2,1]);else{var et=S.range[0],en=S.range[1];K?(et<=0&&en<=0&&C(H+".autorange",!0),et<=0?et=en/1e6:en<=0&&(en=et/1e6),C(H+".range[0]",Math.log(et)/Math.LN10),C(H+".range[1]",Math.log(en)/Math.LN10)):(C(H+".range[0]",Math.pow(10,et)),C(H+".range[1]",Math.pow(10,en)))}}else C(H+".autorange",!0);Array.isArray(s._subplots.polar)&&s._subplots.polar.length&&s[P.parts[0]]&&"radialaxis"===P.parts[1]&&delete s[P.parts[0]]._subplot.viewInitial["radialaxis.range"],u.getComponentMethod("annotations","convertCoords")(e,j,z,C),u.getComponentMethod("images","convertCoords")(e,j,z,C)}else C(H+".autorange",!0),C(H+".range",null);l(s,H+"._inputRange").set(null)}else if(I.match(A)){var er=l(s,D).get(),ea=(z||{}).type;ea&&"-"!==ea||(ea="linear"),u.getComponentMethod("annotations","convertCoords")(e,er,ea,C),u.getComponentMethod("images","convertCoords")(e,er,ea,C)}var ei=b.containerArrayMatch(D);if(ei){n=ei.array,r=ei.index;var eo=ei.property,el=q||{editType:"calc"};""!==r&&""===eo&&(b.isAddVal(z)?L[D]=null:b.isRemoveVal(z)?L[D]=(l(i,n).get()||[])[r]:o.warn("unrecognized full object value",t)),T.update(x,el),v[n]||(v[n]={});var es=v[n][r];es||(es=v[n][r]={}),es[eo]=z,delete t[D]}else"reverse"===I?(B.range?B.range.reverse():(C(H+".autorange",!0),B.range=[1,0]),j.autorange?x.calc=!0:x.plot=!0):(s._has("scatter-like")&&s._has("regl")&&"dragmode"===D&&("lasso"===z||"select"===z)&&"lasso"!==U&&"select"!==U||s._has("gl2d")?x.plot=!0:q?T.update(x,q):x.calc=!0,P.set(z))}}for(n in v)b.applyContainerArrayChanges(e,d(i,n),v[n],x,d)||(x.plot=!0);for(var ec in M){var eu=(S=$.getFromId(e,ec))&&S._constraintGroup;if(eu)for(var ef in x.calc=!0,eu)M[ef]||($.getFromId(e,ef)._constraintShrinkable=!0)}return(W(e)||t.height||t.width)&&(x.plot=!0),(x.plot||x.calc)&&(x.layoutReplot=!0),{flags:x,rangesAltered:M,undoit:L,redoit:k,eventData:g}}function W(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&d.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function Q(e,t,r,a){if(e=o.getGraphDiv(e),w.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);o.isPlainObject(t)||(t={}),o.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var i=w.coerceTraceIndices(e,a),l=B(e,o.extendFlat({},t),i),s=l.flags,u=X(e,o.extendFlat({},r)),f=u.flags;(s.calc||f.calc)&&(e.calcdata=void 0),s.clearAxisTypes&&w.clearAxisTypes(e,i,r);var p=[];f.layoutReplot?p.push(k.layoutReplot):s.fullReplot?p.push(n.plot):(p.push(d.previousPromises),U(e,f,u)||d.supplyDefaults(e),s.style&&p.push(k.doTraceStyle),(s.colorbars||f.colorbars)&&p.push(k.doColorBars),f.legend&&p.push(k.doLegend),f.layoutstyle&&p.push(k.layoutStyles),f.axrange&&q(p,u.rangesAltered),f.ticks&&p.push(k.doTicksRelayout),f.modebar&&p.push(k.doModeBar),f.camera&&p.push(k.doCamera),p.push(C)),p.push(d.rehover,d.redrag),c.add(e,Q,[e,l.undoit,u.undoit,l.traces],Q,[e,l.redoit,u.redoit,l.traces]);var $=o.syncOrAsync(p,e);return $&&$.then||($=Promise.resolve(e)),$.then(function(){return e.emit("plotly_update",{data:l.eventData,layout:u.eventData}),e})}function J(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var K=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ee=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function et(e,t){for(var n=0;n<t.length;n++){var r=t[n],a=e.match(r.pattern);if(a)return{head:a[1],attr:r.attr}}}function en(e,t){var n=l(t,e).get();if(void 0!==n)return n;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=l(t,r.join(".")+".uirevision").get()))return n;return t.uirevision}function er(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return -1}function ea(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function ei(e,t){var n=o.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&o.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function eo(e,t,n,r){var a,i,s,c=r.getValObject,u=r.flags,f=r.immutable,d=r.inArray,p=r.arrayIndex;function $(){var e=a.editType;d&&-1!==e.indexOf("arraydraw")?o.pushUnique(u.arrays[d],p):(T.update(u,a),"none"!==e&&u.nChanges++,r.transition&&a.anim&&u.nChangesAnim++,(G.test(s)||Z.test(s))&&(u.rangesAltered[n[0]]=1),Y.test(s)&&l(t,"_inputDomain").set(null),"datarevision"===i&&(u.newDataRevision=1))}function h(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(u.calc&&!r.transition)return;var g=e[i],v=t[i],m=n.concat(i);if(s=m.join("."),"_"!==i.charAt(0)&&"function"!=typeof g&&g!==v){if(("tick0"===i||"dtick"===i)&&"geo"!==n[0]){var y=t.tickmode;if("auto"===y||"array"===y||!y)continue}if(("range"!==i||!t.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==t.type)&&(a=c(m))&&(!a._compareAsJSON||JSON.stringify(g)!==JSON.stringify(v))){var _,x=a.valType,b=h(a),w=Array.isArray(g),k=Array.isArray(v);if(w&&k){var A="_input_"+i,L=e[A],C=t[A];if(Array.isArray(L)&&L===C)continue}if(void 0===v)b&&w?u.calc=!0:$();else if(a._isLinkedToArray){var S=[],M=!1;d||(u.arrays[i]=S);var O=Math.min(g.length,v.length),D=Math.max(g.length,v.length);if(O!==D){if("arraydraw"!==a.editType){$();continue}M=!0}for(_=0;_<O;_++)eo(g[_],v[_],m.concat(_),o.extendFlat({inArray:i,arrayIndex:_},r));if(M)for(_=O;_<D;_++)S.push(_)}else!x&&o.isPlainObject(g)?eo(g,v,m,r):b?w&&k?(f&&(u.calc=!0),(f||r.newDataRevision)&&$()):w!==k?u.calc=!0:$():w&&k&&g.length===v.length&&String(g)===String(v)||$()}}}for(i in t)if(!(i in e)&&"_"!==i.charAt(0)&&"function"!=typeof t[i]){if(h(a=c(n.concat(i)))&&Array.isArray(t[i]))return void(u.calc=!0);$()}}function el(e){var t=e._fullLayout,n=e.getBoundingClientRect();if(!o.equalDomRects(n,t._lastBBox)){var r=t._invTransform=o.inverseTransformMatrix(o.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),t._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),t._lastBBox=n}}function es(e){var t=r.select(e),n=e._fullLayout;if(n._calcInverseTransform=el,n._calcInverseTransform(e),n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),delete n._modeBar,n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var a={};r.selectAll("defs").each(function(){this.id&&(a[this.id.split("-")[1]]=1)}),n._uid=o.randstr(a)}n._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var i=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=i.append("g").classed("imagelayer",!0),n._shapeLowerLayer=i.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var l=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=l.append("g").classed("imagelayer",!0),n._shapeUpperLayer=l.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=function(e,t,n){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var a=(n=d.supplyAnimationDefaults(n)).transition,i=n.frame;function l(e){return Array.isArray(a)?e>=a.length?a[0]:a[e]:a}function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function c(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise(function(i,u){var f,p,$=0;function h(e){return Array.isArray(a)?$>=a.length?e.transitionOpts=a[$]:e.transitionOpts=a[0]:e.transitionOpts=a,$++,e}var g=[],v=null==t,m=Array.isArray(t);if(!v&&!m&&o.isPlainObject(t))g.push({type:"object",data:h(o.extendFlat({},t))});else if(v||-1!==["string","number"].indexOf(typeof t))for(f=0;f<r._frames.length;f++)(p=r._frames[f])&&(v||String(p.group)===String(t))&&g.push({type:"byname",name:String(p.name),data:h({name:p.name})});else if(m)for(f=0;f<t.length;f++){var y=t[f];-1!==["number","string"].indexOf(typeof y)?(y=String(y),g.push({type:"byname",name:y,data:h({name:y})})):o.isPlainObject(y)&&g.push({type:"object",data:h(o.extendFlat({},y))})}for(f=0;f<g.length;f++)if("byname"===(p=g[f]).type&&!r._frameHash[p.data.name])return o.warn('animate failure: frame not found: "'+p.data.name+'"'),void u();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&g.reverse();var _=e._fullLayout._currentFrame;if(_&&n.fromcurrent){var x=-1;for(f=0;f<g.length;f++)if("byname"===(p=g[f]).type&&p.name===_){x=f;break}if(x>0&&x<g.length-1){var b=[];for(f=0;f<g.length;f++)p=g[f],("byname"!==g[f].type||f>x)&&b.push(p);g=b}}g.length>0?function(t){if(0!==t.length){for(var a,o=0;o<t.length;o++){f="byname"===t[o].type?d.computeFrame(e,t[o].name):t[o].data;var f,p=s(o),$=l(o);$.duration=Math.min($.duration,p.duration);var h={frame:f,name:t[o].name,frameOpts:p,transitionOpts:$};o===t.length-1&&(h.onComplete=c(i,2),h.onInterrupt=u),r._frameQueue.push(h)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||(e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null,(a=function(){r._animationRaf=window.requestAnimationFrame(a),Date.now()-r._lastFrameAt>r._timeToNext&&function t(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var n=r._currentFrame=r._frameQueue.shift();if(n){var a=n.name?n.name.toString():null;e._fullLayout._currentFrame=a,r._lastFrameAt=Date.now(),r._timeToNext=n.frameOpts.duration,d.transition(e,n.frame.data,n.frame.layout,w.coerceTraceIndices(e,n.frame.traces),n.frameOpts,n.transitionOpts).then(function(){n.onComplete&&n.onComplete()}),e.emit("plotly_animatingframe",{name:a,frame:n.frame,animation:{frame:n.frameOpts,transition:n.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}()})())}}(g):(e.emit("plotly_animated"),i())})},n.addFrames=function(e,t,n){if(e=o.getGraphDiv(e),null==t)return Promise.resolve();if(!o.isPlotDiv(e))throw Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,a,i,l,s=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(t))throw Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=s.length+2*t.length,p=[],$={};for(r=t.length-1;r>=0;r--)if(o.isPlainObject(t[r])){var h=t[r].name,g=(u[h]||$[h]||{}).name,v=t[r].name,m=u[g]||$[g];g&&v&&"number"==typeof v&&m&&L<5&&(L++,o.warn('addFrames: overwriting frame "'+(u[g]||$[g]).name+'" with a frame whose name of type "number" also equates to "'+g+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===L&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),$[h]={name:h},p.push({frame:d.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}p.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var y=[],_=[],x=s.length;for(r=p.length-1;r>=0;r--){if("number"==typeof(a=p[r].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+e._transitionData._counter++];);if(u[a.name]){for(i=0;i<s.length&&(s[i]||{}).name!==a.name;i++);y.push({type:"replace",index:i,value:a}),_.unshift({type:"replace",index:i,value:s[i]})}else l=Math.max(0,Math.min(p[r].index,x)),y.push({type:"insert",index:l,value:a}),_.unshift({type:"delete",index:l}),x++}var b=d.modifyFrames,w=d.modifyFrames,k=[e,_],T=[e,y];return c&&c.add(e,b,k,w,T),d.modifyFrames(e,y)},n.deleteFrames=function(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw Error("This element is not a Plotly plot: "+e);var n,r,a=e._transitionData._frames,i=[],l=[];if(!t)for(t=[],n=0;n<a.length;n++)t.push(n);for((t=t.slice()).sort(),n=t.length-1;n>=0;n--)r=t[n],i.push({type:"delete",index:r}),l.unshift({type:"insert",index:r,value:a[r]});var s=d.modifyFrames,u=d.modifyFrames,f=[e,l],p=[e,i];return c&&c.add(e,s,f,u,p),d.modifyFrames(e,i)},n.addTraces=function e(t,r,a){t=o.getGraphDiv(t);var i,l,s=[],u=n.deleteTraces,f=e,d=[t,s],p=[t,r];for(function(e,t,n){var r,a;if(!Array.isArray(e.data))throw Error("gd.data must be an array.");if(void 0===t)throw Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!=typeof(a=t[r])||Array.isArray(a)||null===a)throw Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==t.length)throw Error("if indices is specified, traces.length must equal indices.length")}(t,r,a),Array.isArray(r)||(r=[r]),r=r.map(function(e){return o.extendFlat({},e)}),w.cleanData(r),i=0;i<r.length;i++)t.data.push(r[i]);for(i=0;i<r.length;i++)s.push(-r.length+i);if(void 0===a)return l=n.redraw(t),c.add(t,u,d,f,p),l;Array.isArray(a)||(a=[a]);try{z(t,s,a)}catch($){throw t.data.splice(t.data.length-r.length,r.length),$}return c.startSequence(t),c.add(t,u,d,f,p),l=n.moveTraces(t,s,a),c.stopSequence(t),l},n.deleteTraces=function e(t,r){t=o.getGraphDiv(t);var a,i,l=[],s=n.addTraces,u=[t,l,r],f=[t,r];if(void 0===r)throw Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),P(t,r,"indices"),(r=D(r,t.data.length-1)).sort(o.sorterDes),a=0;a<r.length;a+=1)i=t.data.splice(r[a],1)[0],l.push(i);var d=n.redraw(t);return c.add(t,s,u,e,f),d},n.extendTraces=function e(t,r,a,i){var l=R(t=o.getGraphDiv(t),r,a,i,function e(t,n,r){var a,i;if(o.isTypedArray(t)){if(r<0){var l=new t.constructor(0),s=I(t,n);r<0?(a=s,i=l):(a=l,i=s)}else if(a=new t.constructor(r),i=new t.constructor(t.length+n.length-r),r===n.length)a.set(n),i.set(t);else if(r<n.length){var c=n.length-r;a.set(n.subarray(c)),i.set(t),i.set(n.subarray(0,c),t.length)}else{var u=r-n.length,f=t.length-u;a.set(t.subarray(f)),a.set(n,u),i.set(t.subarray(0,f))}}else a=t.concat(n),i=r>=0&&r<a.length?a.splice(0,a.length-r):[];return[a,i]}),s=n.redraw(t),u=[t,l.update,a,l.maxPoints];return c.add(t,n.prependTraces,u,e,arguments),s},n.moveTraces=function e(t,r,a){var i,l=[],s=[],u=[t=o.getGraphDiv(t),a,r],f=[t,r,a];if(z(t,r,a),r=Array.isArray(r)?r:[r],void 0===a)for(a=[],i=0;i<r.length;i++)a.push(-r.length+i);for(a=Array.isArray(a)?a:[a],r=D(r,t.data.length-1),a=D(a,t.data.length-1),i=0;i<t.data.length;i++)-1===r.indexOf(i)&&l.push(t.data[i]);for(i=0;i<r.length;i++)s.push({newIndex:a[i],trace:t.data[r[i]]});for(s.sort(function(e,t){return e.newIndex-t.newIndex}),i=0;i<s.length;i+=1)l.splice(s[i].newIndex,0,s[i].trace);t.data=l;var d=n.redraw(t);return c.add(t,e,u,e,f),d},n.prependTraces=function e(t,r,a,i){var l=R(t=o.getGraphDiv(t),r,a,i,function e(t,n,r){var a,i;if(o.isTypedArray(t)){if(r<=0){var l=new t.constructor(0),s=I(n,t);r<0?(a=s,i=l):(a=l,i=s)}else if(a=new t.constructor(r),i=new t.constructor(t.length+n.length-r),r===n.length)a.set(n),i.set(t);else if(r<n.length){var c=n.length-r;a.set(n.subarray(0,c)),i.set(n.subarray(c)),i.set(t,c)}else{var u=r-n.length;a.set(n),a.set(t.subarray(0,u),n.length),i.set(t.subarray(u))}}else a=n.concat(t),i=r>=0&&r<a.length?a.splice(r,a.length):[];return[a,i]}),s=n.redraw(t),u=[t,l.update,a,l.maxPoints];return c.add(t,n.extendTraces,u,e,arguments),s},n.newPlot=function(e,t,r,a){return e=o.getGraphDiv(e),d.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),d.purge(e),n.plot(e,t,r,a)},n.plot=function(e,t,a,i){if(e=o.getGraphDiv(e),s.init(e),o.isPlainObject(t)){var l,c=t;t=c.data,a=c.layout,i=c.config,l=c.frames}if(!1===s.triggerHandler(e,"plotly_beforeplot",[t,a,i]))return Promise.reject();t||a||o.isPlotDiv(e)||o.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),O(e,i),a||(a={}),r.select(e).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var f=0===(e.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(w.cleanData(t),f?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!f||(e.layout=w.cleanLayout(a)),d.supplyDefaults(e);var g=e._fullLayout,m=g._has("cartesian");if(!g._has("polar")&&t&&t[0]&&t[0].r)return o.log("Legacy polar charts are deprecated!"),function(e,t,n){var a=r.select(e).selectAll(".plot-container").data([0]);a.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=a.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t),n&&(e.layout=n),p.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=p.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var l=e.framework.svg(),s=1,c=e._fullLayout.title?e._fullLayout.title.text:"";""!==c&&c||(s=0);var u=function(){this.call(y.convertToTspans,e)},f=l.select(".title-group text").call(u);if(e._context.edits.titleText){var $=o._(e,"Click to enter Plot title");c&&c!==$||(s=.2,f.attr({"data-unformatted":$}).text($).style({opacity:s}).on("mouseover.opacity",function(){r.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(1e3).style("opacity",0)}));var h=function(){this.call(y.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:{text:t}}}),this.text(t).call(u),this.call(h)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(u)})};f.call(h)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),d.addLinks(e),Promise.resolve()}(e,t,a);g._replotting=!0,(f||g._shouldCreateBgLayer)&&(es(e),g._shouldCreateBgLayer&&delete g._shouldCreateBgLayer),e.framework!==es&&(e.framework=es,es(e)),h.initGradients(e),f&&$.saveShowSpikeInitial(e);var _=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;_&&d.doCalcdata(e);for(var x=0;x<e.calcdata.length;x++)e.calcdata[x][0].trace=e._fullData[x];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||d.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var b=o.extendFlat({},g._size),T=0;function A(){if(d.clearAutoMarginIds(e),k.drawMarginPushers(e),$.allowAutoMargin(e),g._has("pie"))for(var t=e._fullData,n=0;n<t.length;n++){var r=t[n];"pie"===r.type&&r.automargin&&d.allowAutoMargin(e,"pie."+r.uid+".automargin")}return d.doAutoMargin(e),d.previousPromises(e)}function L(){e._transitioning||(k.doAutoRangeAndConstraints(e),f&&$.saveRangeInitial(e),u.getComponentMethod("rangeslider","calcAutorange")(e))}var S=[d.previousPromises,function(){if(l)return n.addFrames(e,l)},function t(){for(var n=g._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(e);if(!g._glcanvas&&g._has("gl")&&(g._glcanvas=g._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(e){return e.key}),g._glcanvas.enter().append("canvas").attr("class",function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),g._glcanvas){g._glcanvas.attr("width",g.width).attr("height",g.height);var a=g._glcanvas.data()[0].regl;if(a&&(Math.floor(g.width)!==a._gl.drawingBufferWidth||Math.floor(g.height)!==a._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!T)return o.log(i+" Clearing graph and plotting again."),d.cleanPlot([],{},e._fullData,g),d.supplyDefaults(e),g=e._fullLayout,d.doCalcdata(e),T++,t();o.error(i)}}return"h"===g.modebar.orientation?g._modebardiv.style("height",null).style("width","100%"):g._modebardiv.style("width",null).style("height",g.height+"px"),d.previousPromises(e)},A,function(){if(d.didMarginChange(b,g._size))return o.syncOrAsync([A,k.layoutStyles],e)}];m&&S.push(function(){if(_)return o.syncOrAsync([u.getComponentMethod("shapes","calcAutorange"),u.getComponentMethod("annotations","calcAutorange"),L],e);L()}),S.push(k.layoutStyles),m&&S.push(function(){return $.draw(e,f?"":"redraw")},function(e){e._fullLayout._insideTickLabelsAutorange&&j(e,e._fullLayout._insideTickLabelsAutorange).then(function(){e._fullLayout._insideTickLabelsAutorange=void 0})}),S.push(k.drawData,k.finalDraw,v,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,function(e){e._fullLayout._insideTickLabelsAutorange&&f&&$.saveRangeInitial(e,!0)},d.previousPromises);var M=o.syncOrAsync(S,e);return M&&M.then||(M=Promise.resolve()),M.then(function(){return C(e),e})},n.purge=function(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return d.cleanPlot([],{},n,t),d.purge(e),s.purge(e),t._container&&t._container.remove(),delete e._context,e},n.react=function(e,t,r,a){e=o.getGraphDiv(e),w.clearPromiseQueue(e);var i,s,c=e._fullData,p=e._fullLayout;if(o.isPlotDiv(e)&&c&&p){if(o.isPlainObject(t)){var $=t;t=$.data,r=$.layout,a=$.config,i=$.frames}var h=!1;if(a){var g=o.extendDeep({},e._context);e._context=void 0,O(e,a),h=function e(t,n){var r;for(r in t)if("_"!==r.charAt(0)){var a=t[r],i=n[r];if(a!==i){if(o.isPlainObject(a)&&o.isPlainObject(i)){if(e(a,i))return!0}else{if(!Array.isArray(a)||!Array.isArray(i)||a.length!==i.length)return!0;for(var l=0;l<a.length;l++)if(a[l]!==i[l]&&(!o.isPlainObject(a[l])||!o.isPlainObject(i[l])||e(a[l],i[l])))return!0}}}}(g,e._context)}e.data=t||[],w.cleanData(e.data),e.layout=r||{},w.cleanLayout(e.layout),function(e,t,n,r){var a,i,s,c,u,f,d,p,$=r._preGUI,h=[],g={};for(a in $){if(u=et(a,K)){if((c=(s=l(r,i=u.attr||u.head+".uirevision").get())&&en(i,t))&&c===s&&(null===(f=$[a])&&(f=void 0),ei(p=(d=l(t,a)).get(),f))){void 0===p&&"autorange"===a.substr(a.length-9)&&h.push(a.substr(0,a.length-10)),d.set(F(l(r,a).get()));continue}}else o.warn("unrecognized GUI edit: "+a);delete $[a],"range["===a.substr(a.length-8,6)&&(g[a.substr(0,a.length-9)]=1)}for(var v=0;v<h.length;v++){var m=h[v];if(g[m]){var y=l(t,m).get();y&&delete y.autorange}}var _=r._tracePreGUI;for(var x in _){var b,w=_[x],k=null;for(a in w){if(!k){var T=er(x,n);if(T<0){delete _[x];break}var A=ea(x,e,(b=n[T]._fullInput).index);if(A<0){delete _[x];break}k=e[A]}if(u=et(a,ee)){if(u.attr?c=(s=l(r,u.attr).get())&&en(u.attr,t):(s=b.uirevision,void 0===(c=k.uirevision)&&(c=t.uirevision)),c&&c===s&&(null===(f=w[a])&&(f=void 0),ei(p=(d=l(k,a)).get(),f))){d.set(F(l(b,a).get()));continue}}else o.warn("unrecognized GUI edit: "+a+" in trace uid "+x);delete w[a]}}}(e.data,e.layout,c,p),d.supplyDefaults(e,{skipUpdateCalc:!0});var v,m,y,_,x,b,A=e._fullData,L=e._fullLayout,S=void 0===L.datarevision,M=L.transition,D=(v=e,m=p,y=L,_=S,x=M,(b=T.layoutFlags()).arrays={},b.rangesAltered={},b.nChanges=0,b.nChangesAnim=0,eo(m,y,[],{getValObject:function e(t){return f.getLayoutValObject(y,t)},flags:b,immutable:_,transition:x,gd:v}),(b.plot||b.calc)&&(b.layoutReplot=!0),x&&b.nChanges&&b.nChangesAnim&&(b.anim=b.nChanges===b.nChangesAnim?"all":"some"),b),P=function(e,t,n,r,a,i){var o=t.length===n.length;if(!a&&!o)return{fullReplot:!0,calc:!0};var l,s,c=T.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var u={getValObject:function(e){var t=f.getTraceValObject(s,e);return!s._module.animatable&&t.anim&&(t.anim=!1),t},flags:c,immutable:r,transition:a,newDataRevision:i,gd:e},p={};for(l=0;l<t.length;l++)if(n[l]){if(s=n[l]._fullInput,d.hasMakesDataTransform(s)&&(s=n[l]),p[s.uid])continue;p[s.uid]=1,eo(t[l]._fullInput,s,[],u)}return(c.calc||c.plot)&&(c.fullReplot=!0),a&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&o?"all":"some"),c}(e,c,A,S,M,D.newDataRevision);if(W(e)&&(D.layoutReplot=!0),P.calc||D.calc){e.calcdata=void 0;for(var z=Object.getOwnPropertyNames(L),R=0;R<z.length;R++){var I=z[R],E=I.substring(0,5);if("xaxis"===E||"yaxis"===E){var N=L[I]._emptyCategories;N&&N()}}}else d.supplyDefaultsUpdateCalc(e.calcdata,A);var H=[];if(i&&(e._transitionData={},d.createTransitionData(e),H.push(function(){return n.addFrames(e,i)})),L.transition&&!h&&(P.anim||D.anim))D.ticks&&H.push(k.doTicksRelayout),d.doCalcdata(e),k.doAutoRangeAndConstraints(e),H.push(function(){return d.transitionFromReact(e,P,D,p)});else if(P.fullReplot||D.layoutReplot||h)e._fullLayout._skipDefaults=!0,H.push(n.plot);else{for(var B in D.arrays){var V=D.arrays[B];if(V.length){var j=u.getComponentMethod(B,"drawOne");if(j!==o.noop)for(var U=0;U<V.length;U++)j(e,V[U]);else{var G=u.getComponentMethod(B,"draw");if(G===o.noop)throw Error("cannot draw components: "+B);G(e)}}}H.push(d.previousPromises),P.style&&H.push(k.doTraceStyle),(P.colorbars||D.colorbars)&&H.push(k.doColorBars),D.legend&&H.push(k.doLegend),D.layoutstyle&&H.push(k.layoutStyles),D.axrange&&q(H),D.ticks&&H.push(k.doTicksRelayout),D.modebar&&H.push(k.doModeBar),D.camera&&H.push(k.doCamera),H.push(C)}H.push(d.rehover,d.redrag),(s=o.syncOrAsync(H,e))&&s.then||(s=Promise.resolve(e))}else s=n.newPlot(e,t,r,a);return s.then(function(){return e.emit("plotly_react",{data:t,layout:r}),e})},n.redraw=function(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then(function(){return e.emit("plotly_redraw"),e})},n.relayout=j,n.restyle=E,n.setPlotConfig=function(e){return o.extendFlat(x,e)},n.update=Q,n._guiRelayout=J(j),n._guiRestyle=J(E),n._guiUpdate=J(Q),n._storeDirectGUIEdit=function(e,t,n){for(var r in n)H(r,l(e,r).get(),n[r],t)}},{"../components/color":75,"../components/drawing":97,"../constants/xmlns_namespaces":182,"../lib":202,"../lib/events":195,"../lib/queue":217,"../lib/svg_text_utils":224,"../plots/cartesian/axes":248,"../plots/cartesian/constants":254,"../plots/cartesian/graph_interact":257,"../plots/cartesian/select":267,"../plots/plots":282,"../plots/polar/legacy":285,"../registry":290,"./edit_types":230,"./helpers":231,"./manage_arrays":233,"./plot_config":235,"./plot_schema":236,"./subroutines":238,d3:9,"fast-isnumeric":11,"has-hover":42}],235:[function(e,t,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},a={};!function e(t,n){for(var r in t){var a=t[r];a.valType?n[r]=a.dflt:(n[r]||(n[r]={}),e(a,n[r]))}}(r,a),t.exports={configAttributes:r,dfltConfig:a}},{}],236:[function(e,t,n){"use strict";var r=e("../registry"),a=e("../lib"),i=e("../plots/attributes"),o=e("../plots/layout_attributes"),l=e("../plots/frame_attributes"),s=e("../plots/animation_attributes"),c=e("./plot_config").configAttributes,u=e("../plots/polar/legacy/area_attributes"),f=e("../plots/polar/legacy/axis_attributes"),d=e("./edit_types"),p=a.extendFlat,$=a.extendDeepAll,h=a.isPlainObject,g=a.isArrayOrTypedArray,v=a.nestedProperty,m=a.valObjectMeta,y=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function _(e,t,n){if(!e)return!1;if(e._isLinkedToArray){if(x(t[n]))n++;else if(n<t.length)return!1}for(;n<t.length;n++){var r=e[t[n]];if(!h(r)||(e=r,n===t.length-1))break;if(e._isLinkedToArray){if(!x(t[++n]))return!1}else if("info_array"===e.valType){var a=t[++n];if(!x(a))return!1;var i=e.items;if(Array.isArray(i)){if(a>=i.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var o=t[n];if(!x(o))return!1;e=i[a][o]}else e=i[a]}else e=i}}return e}function x(e){return e===Math.round(e)&&e>=0}function b(e){var t,r,a;return t=e,n.crawl(t,function(e,t,r){n.isValObject(e)?"data_array"===e.valType?(e.role="data",r[t+"src"]={valType:"string",editType:"none"}):!0===e.arrayOk&&(r[t+"src"]={valType:"string",editType:"none"}):h(e)&&(e.role="object")}),r=e,n.crawl(r,function(e,t,n){if(e){var r=e._isLinkedToArray;r&&(delete e._isLinkedToArray,n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}),!function e(t){for(var n in t)if(h(t[n]))e(t[n]);else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)e(t[n][r]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}(e),e}function w(e,t,n){var r=v(e,n),a=$({},t.layoutAttributes);a._isSubplotObj=!0,r.set(a)}function k(e,t,n){var r=v(e,n);r.set($(r.get()||{},t))}n.IS_SUBPLOT_OBJ="_isSubplotObj",n.IS_LINKED_TO_ARRAY="_isLinkedToArray",n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=y,n.get=function(){var e={};r.allTypes.concat("area").forEach(function(t){e[t]=function(e){"area"===e?(t={attributes:u},a={}):a=(t=r.modules[e]._module).basePlotModule;var t,a,o={type:null},l=$({},i),s=$({},t.attributes);n.crawl(s,function(e,t,n,r,a){v(l,a).set(void 0),void 0===e&&v(s,a).set(void 0)}),$(o,l),r.traceIs(e,"noOpacity")&&delete o.opacity,r.traceIs(e,"showLegend")||(delete o.showlegend,delete o.legendgroup),r.traceIs(e,"noHover")&&(delete o.hoverinfo,delete o.hoverlabel),t.selectPoints||delete o.selectedpoints,$(o,s),a.attributes&&$(o,a.attributes),o.type=e;var c={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:b(o)};if(t.layoutAttributes){var f={};$(f,t.layoutAttributes),c.layoutAttributes=b(f)}return t.animatable||n.crawl(c,function(e){n.isValObject(e)&&"anim"in e&&delete e.anim}),c}(t)});var t,a={};return Object.keys(r.transformsRegistry).forEach(function(e){var t,n;a[e]=(t=e,n=$({},r.transformsRegistry[t].attributes),Object.keys(r.componentsRegistry).forEach(function(e){var a=r.componentsRegistry[e];a.schema&&a.schema.transforms&&a.schema.transforms[t]&&Object.keys(a.schema.transforms[t]).forEach(function(e){k(n,a.schema.transforms[t][e],e)})}),{attributes:b(n)})}),{defs:{valObjects:m,metaKeys:y.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{}},traces:e,layout:function e(){var t,n,a,i={};for(n in $(i,o),r.subplotsRegistry)if((a=r.subplotsRegistry[n]).layoutAttributes){if(Array.isArray(a.attr))for(var l=0;l<a.attr.length;l++)w(i,a,a.attr[l]);else w(i,a,"subplot"===a.attr?a.name:a.attr)}for(n in i=(p(t=i,{radialaxis:f.radialaxis,angularaxis:f.angularaxis}),p(t,f.layout),t),r.componentsRegistry){var s=(a=r.componentsRegistry[n]).schema;if(s&&(s.subplots||s.layout)){var c=s.subplots;if(c&&c.xaxis&&!c.yaxis)for(var u in c.xaxis)delete i.yaxis[u]}else"colorscale"===a.name?$(i,a.layoutAttributes):a.layoutAttributes&&k(i,a.layoutAttributes,a.name)}return{layoutAttributes:b(i)}}(),transforms:a,frames:(b(t={frames:$({},l)}),t.frames),animation:b(s),config:b(c)}},n.crawl=function(e,t,r,a){var i=r||0;a=a||"",Object.keys(e).forEach(function(r){var o=e[r];if(-1===y.indexOf(r)){var l=(a?a+".":"")+r;t(o,r,e,i,l),n.isValObject(o)||h(o)&&"impliedEdits"!==r&&n.crawl(o,t,i+1,l)}})},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,a=[],o=[],l=[];function s(e,n,i,s){o=o.slice(0,s).concat([n]),l=l.slice(0,s).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===o[s-1]&&("ticktext"===n||"tickvals"===n))&&function e(t,n,i){var s=t[o[n]],c=""+o[n];if(n===o.length-1)g(s)&&a.push(r+c);else if(l[n]){if(Array.isArray(s))for(var u=0;u<s.length;u++)h(s[u])&&e(s[u],n+1,c+"["+u+"].")}else h(s)&&e(s,n+1,c+".")}(t,0,"")}t=e,r="",n.crawl(i,s),e._module&&e._module.attributes&&n.crawl(e._module.attributes,s);var c=e.transforms;if(c)for(var u=0;u<c.length;u++){var f=c[u],d=f._module;d&&(r="transforms["+u+"].",t=f,n.crawl(d.attributes,s))}return a},n.getTraceValObject=function(e,t){var n,a,o=t[0],l=1;if("transforms"===o){if(1===t.length)return i.transforms;var s=e.transforms;if(!Array.isArray(s)||!s.length)return!1;var c=t[1];if(!x(c)||c>=s.length)return!1;a=(n=(r.transformsRegistry[s[c].type]||{}).attributes)&&n[t[2]],l=3}else if("area"===e.type)a=u[o];else{var f=e._module;if(f||(f=(r.modules[e.type||i.type.dflt]||{})._module),!f)return!1;if(!(a=(n=f.attributes)&&n[o])){var d=f.basePlotModule;d&&d.attributes&&(a=d.attributes[o])}a||(a=i[o])}return _(a,t,l)},n.getLayoutValObject=function(e,t){return _(function(e,t){var n,a,i,l,s,c=e._basePlotModules;if(c){for(a=0;a<c.length;a++){if((l=c[a]).attrRegex&&l.attrRegex.test(t)){if(l.layoutAttrOverrides)return l.layoutAttrOverrides;!n&&l.layoutAttributes&&(n=l.layoutAttributes)}var u=l.baseLayoutAttrOverrides;if(u&&t in u)return u[t]}if(n)return n}var d=e._modules;if(d){for(a=0;a<d.length;a++)if((s=d[a].layoutAttributes)&&t in s)return s[t]}for(i in r.componentsRegistry){if("colorscale"===(l=r.componentsRegistry[i]).name&&0===t.indexOf("coloraxis"))return l.layoutAttributes[t];if(!l.schema&&t===l.name)return l.layoutAttributes}return t in o?o[t]:"radialaxis"===t||"angularaxis"===t?f[t]:f.layout[t]||!1}(e,t[0]),t,1)}},{"../lib":202,"../plots/animation_attributes":242,"../plots/attributes":244,"../plots/frame_attributes":277,"../plots/layout_attributes":280,"../plots/polar/legacy/area_attributes":283,"../plots/polar/legacy/axis_attributes":284,"../registry":290,"./edit_types":230,"./plot_config":235}],237:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plots/attributes"),i={name:{valType:"string",editType:"none"}};function o(e){return e&&"string"==typeof e}function l(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}i.templateitemname={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=i.name,t.templateitemname=i.templateitemname,t},n.traceTemplater=function(e){var t,n,i={};for(t in e)Array.isArray(n=e[t])&&n.length&&(i[t]=0);return{newTrace:function(o){var l={type:t=r.coerce(o,{},a,"type"),_template:null};if(t in i){n=e[t];var s=i[t]%n.length;i[t]++,l._template=n[s]}return l}}},n.newContainer=function(e,t,n){var a=e._template,i=a&&(a[t]||n&&a[n]);return r.isPlainObject(i)||(i=null),e[t]={_template:i}},n.arrayTemplater=function(e,t,n){var r=e._template,a=r&&r[l(t)],i=r&&r[t];Array.isArray(i)&&i.length||(i=[]);var s={};return{newItem:function(e){var t={name:e.name,_input:e},r=t.templateitemname=e.templateitemname;if(!o(r))return t._template=a,t;for(var l=0;l<i.length;l++){var c=i[l];if(c.name===r)return s[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t},defaultItems:function(){for(var e=[],t=0;t<i.length;t++){var n=i[t],r=n.name;if(o(r)&&!s[r]){var a={_template:n,name:r,_input:{_templateitemname:r}};a.templateitemname=n.templateitemname,e.push(a),s[r]=1}}return e}}},n.arrayDefaultKey=l,n.arrayEditor=function(e,t,n){var a=(r.nestedProperty(e,t).get()||[]).length,i=n._index,o=i>=a&&(n._input||{})._templateitemname;o&&(i=a);var l,s=t+"["+i+"]";function c(){l={},o&&(l[s]={},l[s].templateitemname=o)}function u(e,t){o?r.nestedProperty(l[s],e).set(t):l[s+"."+e]=t}function f(){var e=l;return c(),e}return c(),{modifyBase:function(e,t){l[e]=t},modifyItem:u,getUpdateObj:f,applyUpdate:function(t,n){t&&u(t,n);var a=f();for(var i in a)r.nestedProperty(e,i).set(a[i])}}}},{"../lib":202,"../plots/attributes":244}],238:[function(e,t,n){"use strict";var r=e("d3"),a=e("../registry"),i=e("../plots/plots"),o=e("../lib"),l=e("../lib/clear_gl_canvases"),s=e("../components/color"),c=e("../components/drawing"),u=e("../components/titles"),f=e("../components/modebar"),d=e("../plots/cartesian/axes"),p=e("../constants/alignment"),$=e("../plots/cartesian/constraints"),h=$.enforce,g=$.clean,v=e("../plots/cartesian/autorange").doAutoRange;function m(e,t,n){for(var r=0;r<n.length;r++){var a=n[r][0],i=n[r][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&i[0]<t[1]&&i[1]>t[0])return!0}return!1}function y(e){var t,a,l,u,$,h,g=e._fullLayout,v=g._size,y=v.p,x=d.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(c.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),n.drawMainTitle(e),f.manage(e),!g._has("cartesian"))return i.previousPromises(e);function w(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-y-r:t._offset+t._length+y+r:v.t+v.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+y+r:t._offset-y-r:v.l+v.w*(e.position||0)+r%1}for(t=0;t<x.length;t++){var k=(u=x[t])._anchorAxis;u._linepositions={},u._lw=c.crispRound(e,u.linewidth,1),u._mainLinePosition=w(u,k,u.side),u._mainMirrorPosition=u.mirror&&k?w(u,k,p.OPPOSITE_SIDE[u.side]):null}var T=[],A=[],L=[],C=1===s.opacity(g.paper_bgcolor)&&1===s.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(a in g._plots)if((l=g._plots[a]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var S=l.xaxis.domain,M=l.yaxis.domain,O=l.plotgroup;if(m(S,M,L)){var D=O.node(),P=l.bg=o.ensureSingle(O,"rect","bg");D.insertBefore(P.node(),D.childNodes[0]),A.push(a)}else O.select("rect.bg").remove(),L.push([S,M]),C||(T.push(a),A.push(a))}var z,R,I,E,F,N,H,B,V,j,U,q,G,Z=g._bgLayer.selectAll(".bg").data(T);for(Z.enter().append("rect").classed("bg",!0),Z.exit().remove(),Z.each(function(e){g._plots[e].bg=r.select(this)}),t=0;t<A.length;t++)$=(l=g._plots[A[t]]).xaxis,h=l.yaxis,l.bg&&void 0!==$._offset&&void 0!==h._offset&&l.bg.call(c.setRect,$._offset-y,h._offset-y,$._length+2*y,h._length+2*y).call(s.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(a in g._plots){$=(l=g._plots[a]).xaxis,h=l.yaxis;var Y,X,W=l.clipId="clip"+g._uid+a+"plot",Q=o.ensureSingleById(g._clips,"clipPath",W,function(e){e.classed("plotclip",!0).append("rect")});l.clipRect=Q.select("rect").attr({width:$._length,height:h._length}),c.setTranslate(l.plot,$._offset,h._offset),l._hasClipOnAxisFalse?(Y=null,X=W):(Y=W,X=null),c.setClipUrl(l.plot,Y,e),l.layerClipId=X}function J(e){return"M"+z+","+e+"H"+R}function K(e){return"M"+$._offset+","+e+"h"+$._length}function ee(e){return"M"+e+","+B+"V"+H}function et(e){return"M"+e+","+h._offset+"v"+h._length}function en(e,t,n){if(!e.showline||a!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(a in g._plots){$=(l=g._plots[a]).xaxis,h=l.yaxis;var er="M0,0";_($,a)&&(F=b($,"left",h,x),z=$._offset-(F?y+F:0),N=b($,"right",h,x),R=$._offset+$._length+(N?y+N:0),I=w($,h,"bottom"),E=w($,h,"top"),(G=!$._anchorAxis||a!==$._mainSubplot)&&("allticks"===$.mirror||"all"===$.mirror)&&($._linepositions[a]=[I,E]),er=en($,J,K),G&&$.showline&&("all"===$.mirror||"allticks"===$.mirror)&&(er+=J(I)+J(E)),l.xlines.style("stroke-width",$._lw+"px").call(s.stroke,$.showline?$.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",er);var ea="M0,0";_(h,a)&&(U=b(h,"bottom",$,x),H=h._offset+h._length+(U?y:0),q=b(h,"top",$,x),B=h._offset-(q?y:0),V=w(h,$,"left"),j=w(h,$,"right"),(G=!h._anchorAxis||a!==h._mainSubplot)&&("allticks"===h.mirror||"all"===h.mirror)&&(h._linepositions[a]=[V,j]),ea=en(h,ee,et),G&&h.showline&&("all"===h.mirror||"allticks"===h.mirror)&&(ea+=ee(V)+ee(j)),l.ylines.style("stroke-width",h._lw+"px").call(s.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ea)}return d.makeClipPaths(e),i.previousPromises(e)}function _(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function x(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var a=p.FROM_BL[t];return n.side===t?r.domain[a]===e.domain[a]:n.mirror&&r.domain[1-a]===e.domain[1-a]}function b(e,t,n,r){if(x(e,t,n))return n._lw;for(var a=0;a<r.length;a++){var i=r[a];if(i._mainAxis===n._mainAxis&&x(e,t,i))return i._lw}return 0}n.layoutStyles=function(e){return o.syncOrAsync([i.doAutoMargin,y],e)},n.drawMainTitle=function(e){var t,n,r,a,i,l,s,c,f,d,$,h,g,v,m,y,_=e._fullLayout,x=(n=(t=_).title,r="middle",o.isRightAnchor(n)?r="end":o.isLeftAnchor(n)&&(r="start"),r),b=(i=(a=_).title,l="0em",o.isTopAnchor(i)?l=p.CAP_SHIFT+"em":o.isMiddleAnchor(i)&&(l=p.MID_SHIFT+"em"),l);u.draw(e,"gtitle",{propContainer:_,propName:"title.text",placeholder:_._dfltTitle.plot,attributes:{x:(s=_,c=x,f=s.title,d=s._size,$=0,("start"===c?$=f.pad.l:"end"===c&&($=-f.pad.r),"paper"===f.xref)?d.l+d.w*f.x+$:s.width*f.x+$),y:(h=_,g=b,v=h.title,m=h._size,y=0,("0em"!==g&&g?g===p.CAP_SHIFT+"em"&&(y=v.pad.t):y=-v.pad.b,"auto"===v.y)?m.t/2:"paper"===v.yref?m.t+m.h-m.h*v.y+y:h.height-h.height*v.y+y),"text-anchor":x,dy:b}})},n.doTraceStyle=function(e){var t,r=e.calcdata,o=[];for(t=0;t<r.length;t++){var s=r[t],c=s[0]||{},u=c.trace||{},f=u._module||{},d=f.arraysToCalcdata;d&&d(s,u);var p=f.editStyle;p&&o.push({fn:p,cd0:c})}if(o.length){for(t=0;t<o.length;t++){var $=o[t];$.fn(e,$.cd0)}l(e),n.redrawReglTraces(e)}return i.style(e),a.getComponentMethod("legend","draw")(e),i.previousPromises(e)},n.doColorBars=function(e){return a.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,a.call("plot",e,"",t)},n.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),i.previousPromises(e)},n.doTicksRelayout=function(e){return d.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(e),l(e),n.redrawReglTraces(e)),n.drawMainTitle(e),i.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return i.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var a=t[n[r]];a._scene.setViewport(a)}},n.drawData=function(e){var t=e._fullLayout;l(e);for(var r=t._basePlotModules,o=0;o<r.length;o++)r[o].plot(e);return n.redrawReglTraces(e),i.style(e),a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("images","draw")(e),t._replotting=!1,i.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,a=e._fullData,i=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<a.length;n++){var s=a[n];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?o.pushUnique(i,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&o.pushUnique(l,s.subplot))}for(n=0;n<i.length;n++)(r=t._plots[i[n]])._scene&&r._scene.draw();for(n=0;n<l.length;n++)(r=t[l[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t,n=d.list(e,"",!0),r={},a=0;a<n.length;a++)if(!r[(t=n[a])._id]){r[t._id]=1,g(e,t),v(e,t);var i=t._matchGroup;if(i)for(var o in i){var l=d.getFromId(e,o);v(e,l,t.range),r[o]=1}}h(e)},n.finalDraw=function(e){a.getComponentMethod("rangeslider","draw")(e),a.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){a.getComponentMethod("legend","draw")(e),a.getComponentMethod("rangeselector","draw")(e),a.getComponentMethod("sliders","draw")(e),a.getComponentMethod("updatemenus","draw")(e),a.getComponentMethod("colorbar","draw")(e)}},{"../components/color":75,"../components/drawing":97,"../components/modebar":135,"../components/titles":170,"../constants/alignment":177,"../lib":202,"../lib/clear_gl_canvases":190,"../plots/cartesian/autorange":247,"../plots/cartesian/axes":248,"../plots/cartesian/constraints":255,"../plots/plots":282,"../registry":290,d3:9}],239:[function(e,t,n){"use strict";var r=e("../lib"),a=r.isPlainObject,i=e("./plot_schema"),o=e("../plots/plots"),l=e("../plots/attributes"),s=e("./plot_template"),c=e("./plot_config").dfltConfig;function u(e,t){var n,i,o=Object.keys(e=r.extendDeep({},e)).sort();function l(t,n,r){if(a(n)&&a(t))u(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var o=s.arrayTemplater({_template:e},r);for(i=0;i<n.length;i++){var l=n[i],c=o.newItem(l)._template;c&&u(c,l)}var f=o.defaultItems();for(i=0;i<f.length;i++)n.push(f[i]._template);for(i=0;i<n.length;i++)delete n[i].templateitemname}}for(n=0;n<o.length;n++){var c=o[n],d=e[c];if(c in t?l(d,t[c],c):t[c]=d,f(c)===c)for(var p in t){var $=f(p);p===$||$!==c||p in e||l(d,t[p],c)}}}function f(e){return e.replace(/[0-9]+$/,"")}function d(e,t,n,i,o){var l=o&&n(o);for(var c in e){var u=e[c],p=h(e,c,i),$=h(e,c,o),g=n($);if(!g){var v=f(c);v!==c&&(g=n($=h(e,v,o)))}if((!l||l!==g)&&!(!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(u))){if(!g.valType&&a(u))d(u,t,n,p,$);else if(g._isLinkedToArray&&Array.isArray(u))for(var m=!1,y=0,_={},x=0;x<u.length;x++){var b=u[x];if(a(b)){var w=b.name;if(w)_[w]||(d(b,t,n,h(u,y,p),h(u,y,$)),y++,_[w]=1);else if(!m){var k=h(e,s.arrayDefaultKey(c),i),T=h(u,y,p);d(b,t,n,T,h(u,y,$));var A=r.nestedProperty(t,T);r.nestedProperty(t,k).set(A.get()),A.set(null),m=!0}}}else r.nestedProperty(t,p).set(u)}}}function p(e,t){return i.getLayoutValObject(e,r.nestedProperty({},t).parts)}function $(e,t){return i.getTraceValObject(e,r.nestedProperty({},t).parts)}function h(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function g(e){for(var t=0;t<e.length;t++)if(a(e[t]))return!0}function v(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:c},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var i={data:{},layout:{}};t.forEach(function(e){var t={};d(e,t,$.bind(null,e));var n=r.coerce(e,{},l,"type"),a=i.data[n];a||(a=i.data[n]=[]),a.push(t)}),d(n,i.layout,p.bind(null,n)),delete i.layout.template;var s=n.template;if(a(s)){var f,h,g,v,m,y,_=s.layout;a(_)&&u(_,i.layout);var x=s.data;if(a(x)){for(h in i.data)if(Array.isArray(g=x[h])){for(y=(m=i.data[h]).length,v=g.length,f=0;f<y;f++)u(g[f%v],m[f]);for(f=y;f<v;f++)m.push(r.extendDeep({},g[f]))}for(h in x)h in i.data||(i.data[h]=r.extendDeep([],x[h]))}}return i},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:c,data:e.data,layout:e.layout}),i=n.layout||{};a(t)||(t=i.template||{});var l=t.layout,s=t.data,u=[];n.layout=i,n.layout.template=t,o.supplyDefaults(n);var d=n._fullLayout,p=n._fullData,$={};if(a(l)?(function e(t,n){for(var r in t)if("_"!==r.charAt(0)&&a(t[r])){var i,o=f(r),l=[];for(i=0;i<n.length;i++)l.push(h(t,r,n[i])),o!==r&&l.push(h(t,o,n[i]));for(i=0;i<l.length;i++)$[l[i]]=1;e(t[r],l)}}(d,["layout"]),function e(t,n){for(var r in t)if(-1===r.indexOf("defaults")&&a(t[r])){var i=h(t,r,n);$[i]?e(t[r],i):u.push({code:"unused",path:i})}}(l,"layout")):u.push({code:"layout"}),a(s)){for(var m,y={},_=0;_<p.length;_++){var x=p[_];y[m=x.type]=(y[m]||0)+1,x._fullInput._template||u.push({code:"missing",index:x._fullInput.index,traceType:m})}for(m in s){var b=s[m].length,w=y[m]||0;b>w?u.push({code:"unused",traceType:m,templateCount:b,dataCount:w}):w>b&&u.push({code:"reused",traceType:m,templateCount:b,dataCount:w})}}else u.push({code:"data"});if(function e(t,n){for(var r in t)if("_"!==r.charAt(0)){var i=t[r],o=h(t,r,"");a(i)?(Array.isArray(t)&&!1===i._template&&i.templateitemname&&u.push({code:"missing",path:o,templateitemname:i.templateitemname}),e(i,o)):Array.isArray(i)&&g(i)&&e(i,o)}}({data:p,layout:d},""),u.length)return u.map(v)}},{"../lib":202,"../plots/attributes":244,"../plots/plots":282,"./plot_config":235,"./plot_schema":236,"./plot_template":237}],240:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("./plot_api"),i=e("../plots/plots"),o=e("../lib"),l=e("../snapshot/helpers"),s=e("../snapshot/tosvg"),c=e("../snapshot/svgtoimg"),u=e("../version").version,f={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};t.exports=function(e,t){function n(e){return!(e in t)||o.validate(t[e],f[e])}if(t=t||{},o.isPlainObject(e)?(d=e.data||[],p=e.layout||{},$=e.config||{},h={}):(e=o.getGraphDiv(e),d=o.extendDeep([],e.data),p=o.extendDeep({},e.layout),$=e._context,h=e._fullLayout||{}),!n("width")&&null!==t.width||!n("height")&&null!==t.height)throw Error("Height and width should be pixel values.");if(!n("format"))throw Error("Export format is not "+o.join2(f.format.values,", "," or ")+".");var d,p,$,h,g={};function v(e,n){return o.coerce(t,g,f,e,n)}var m=v("format"),y=v("width"),_=v("height"),x=v("scale"),b=v("setBackground"),w=v("imageDataOnly"),k=document.createElement("div");k.style.position="absolute",k.style.left="-5000px",document.body.appendChild(k);var T=o.extendFlat({},p);y?T.width=y:null===t.width&&r(h.width)&&(T.width=h.width),_?T.height=_:null===t.height&&r(h.height)&&(T.height=h.height);var A=o.extendFlat({},$,{_exportedPlot:!0,staticPlot:!0,setBackground:b}),L=l.getRedrawFunc(k);function C(){return new Promise(function(e){setTimeout(e,l.getDelay(k._fullLayout))})}function S(){return new Promise(function(e,t){var n=s(k,m,x),r=k._fullLayout.width,f=k._fullLayout.height;function d(){a.purge(k),document.body.removeChild(k)}if("full-json"===m){var p=i.graphJson(k,!1,"keepdata","object",!0,!0);return p.version=u,p=JSON.stringify(p),d(),e(w?p:l.encodeJSON(p))}if(d(),"svg"===m)return e(w?n:l.encodeSVG(n));var $=document.createElement("canvas");$.id=o.randstr(),c({format:m,width:r,height:f,scale:x,canvas:$,svg:n,promise:!0}).then(e).catch(t)})}return new Promise(function(e,t){a.plot(k,d,T,A).then(L).then(C).then(S).then(function(t){var n;e((n=t,w?n.replace(l.IMAGE_URL_PREFIX,""):n))}).catch(function(e){t(e)})})}},{"../lib":202,"../plots/plots":282,"../snapshot/helpers":294,"../snapshot/svgtoimg":296,"../snapshot/tosvg":298,"../version":358,"./plot_api":234,"fast-isnumeric":11}],241:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plots/plots"),i=e("./plot_schema"),o=e("./plot_config").dfltConfig,l=r.isPlainObject,s=Array.isArray,c=r.isArrayOrTypedArray;function u(e,t,n,a,i,o){o=o||[];for(var f=Object.keys(e),d=0;d<f.length;d++){var g=f[d];if("transforms"!==g){var v=o.slice();v.push(g);var m=e[g],y=t[g],_=h(n,g),x=(_||{}).valType,b="info_array"===x,w="colorscale"===x,k=(_||{}).items;if($(n,g)){if(l(m)&&l(y)&&"any"!==x)u(m,y,_,a,i,v);else if(b&&s(m)){m.length>y.length&&a.push(p("unused",i,v.concat(y.length)));var T,A,L,C,S,M=y.length,O=Array.isArray(k);if(O&&(M=Math.min(M,k.length)),2===_.dimensions)for(A=0;A<M;A++)if(s(m[A])){m[A].length>y[A].length&&a.push(p("unused",i,v.concat(A,y[A].length)));var D=y[A].length;for(T=0;T<(O?Math.min(D,k[A].length):D);T++)L=O?k[A][T]:k,C=m[A][T],S=y[A][T],r.validate(C,L)?S!==C&&S!==+C&&a.push(p("dynamic",i,v.concat(A,T),C,S)):a.push(p("value",i,v.concat(A,T),C))}else a.push(p("array",i,v.concat(A),m[A]));else for(A=0;A<M;A++)L=O?k[A]:k,C=m[A],S=y[A],r.validate(C,L)?S!==C&&S!==+C&&a.push(p("dynamic",i,v.concat(A),C,S)):a.push(p("value",i,v.concat(A),C))}else if(_.items&&!b&&s(m)){var P,z,R=k[Object.keys(k)[0]],I=[];for(P=0;P<y.length;P++){var E=y[P]._index||P;if((z=v.slice()).push(E),l(m[E])&&l(y[P])){I.push(E);var F=m[E],N=y[P];l(F)&&!1!==F.visible&&!1===N.visible?a.push(p("invisible",i,z)):u(F,N,R,a,i,z)}}for(P=0;P<m.length;P++)(z=v.slice()).push(P),l(m[P])?-1===I.indexOf(P)&&a.push(p("unused",i,z)):a.push(p("object",i,z,m[P]))}else!l(m)&&l(y)?a.push(p("object",i,v,m)):c(m)||!c(y)||b||w?g in t?r.validate(m,_)?"enumerated"===_.valType&&(_.coerceNumber&&m!==+y||m!==y)&&a.push(p("dynamic",i,v,m,y)):a.push(p("value",i,v,m)):a.push(p("unused",i,v,m)):a.push(p("array",i,v,m))}else a.push(p("schema",i,v))}}return a}t.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n,c,f,d=i.get(),$=[],h={_context:r.extendFlat({},o)};s(e)?(h.data=r.extendDeep([],e),c=e):(h.data=[],c=[],$.push(p("array","data"))),l(t)?(h.layout=r.extendDeep({},t),f=t):(h.layout={},f={},arguments.length>1&&$.push(p("object","layout"))),a.supplyDefaults(h);for(var g=h._fullData,v=c.length,m=0;m<v;m++){var y=c[m],_=["data",m];if(l(y)){var x=g[m],b=x.type,w=d.traces[b].attributes;w.type={valType:"enumerated",values:[b]},!1===x.visible&&!1!==y.visible&&$.push(p("invisible",_)),u(y,x,w,$,_);var k=y.transforms,T=x.transforms;if(k){s(k)||$.push(p("array",_,["transforms"])),_.push("transforms");for(var A=0;A<k.length;A++){var L=["transforms",A],C=k[A].type;if(l(k[A])){var S=d.transforms[C]?d.transforms[C].attributes:{};S.type={valType:"enumerated",values:Object.keys(d.transforms)},u(k[A],T[A],S,$,_,L)}else $.push(p("object",_,L))}}}else $.push(p("object",_))}return u(f,h._fullLayout,function e(t,n){for(var a=t.layout.layoutAttributes,i=0;i<n.length;i++){var o=n[i],l=t.traces[o.type],s=l.layoutAttributes;s&&(o.subplot?r.extendFlat(a[l.attributes.subplot.dflt],s):r.extendFlat(a,s))}return a}(d,g),$,"layout"),0===$.length?void 0:$};var f={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":d(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":d(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return d(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=l(n)?"container":"key";return d(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[d(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?d(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[d(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function d(e){return s(e)?"In data trace "+e[1]+", ":"In "+e+", "}function p(e,t,n,a,i){n=n||"",s(t)?(o=t[0],l=t[1]):(o=t,l=null);var o,l,c=function(e){if(!s(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}(n),u=f[e](t,c,a,i);return r.log(u),{code:e,container:o,trace:l,path:n,astr:c,msg:u}}function $(e,t){var n=v(t),r=n.keyMinusId,a=n.id;return!!(r in e&&e[r]._isSubplotObj&&a)||t in e}function h(e,t){return t in e?e[t]:e[v(t).keyMinusId]}var g=r.counterRegex("([a-z]+)");function v(e){var t=e.match(g);return{keyMinusId:t&&t[1],id:t&&t[2]}}},{"../lib":202,"../plots/plots":282,"./plot_config":235,"./plot_schema":236}],242:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],243:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plot_api/plot_template");t.exports=function(e,t,n){var i,o,l=n.name,s=n.inclusionAttr||"visible",c=t[l],u=r.isArrayOrTypedArray(e[l])?e[l]:[],f=t[l]=[],d=a.arrayTemplater(t,l,s);for(i=0;i<u.length;i++){var p=u[i];r.isPlainObject(p)?o=d.newItem(p):(o=d.newItem({}))[s]=!1,o._index=i,!1!==o[s]&&n.handleItemDefaults(p,o,t,n),f.push(o)}var $=d.defaultItems();for(i=0;i<$.length;i++)(o=$[i])._index=f.length,n.handleItemDefaults({},o,t,n,{}),f.push(o);if(r.isArrayOrTypedArray(c)){var h=Math.min(c.length,f.length);for(i=0;i<h;i++)r.relinkPrivateKeys(f[i],c[i])}return f}},{"../lib":202,"../plot_api/plot_template":237}],244:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":106}],245:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=a.dateTime2ms,o=a.incrementMonth,l=e("../../constants/numerical").ONEAVGMONTH;t.exports=function(e,t,n,a){if("date"!==t.type)return a;var s=e[n+"periodalignment"];if(!s)return a;var c,u=e[n+"period"];if(r(u)){if((u=+u)<=0)return a}else if("string"==typeof u&&"M"===u.charAt(0)){var f=+u.substring(1);if(!(f>0&&Math.round(f)===f))return a;c=f}for(var d=t.calendar,p="start"===s,$="end"===s,h=e[n+"period0"],g=i(h,d)||0,v=[],m=a.length,y=0;y<m;y++){var _,x,b,w=a[y];if(c){for(_=Math.round((w-g)/(c*l)),b=o(g,c*_,d);b>w;)b=o(b,-c,d);for(;b<=w;)b=o(b,c,d);x=o(b,-c,d)}else{for(b=g+(_=Math.round((w-g)/u))*u;b>w;)b-=u;for(;b<=w;)b+=u;x=b-u}v[y]=p?x:$?b:(x+b)/2}return v}},{"../../constants/numerical":181,"../../lib":202,"fast-isnumeric":11}],246:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],247:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../../constants/numerical").FP_SAFE,o=e("../../registry"),l=e("./axis_ids"),s=l.getFromId,c=l.isLinked;function u(e,t){var n,r,i=[],o=e._fullLayout,l=d(o,t,0),s=d(o,t,1),c=p(e,t),u=c.min,$=c.max;if(0===u.length||0===$.length)return a.simpleMap(t.range,t.r2l);var h=u[0].val,g=$[0].val;for(n=1;n<u.length&&h===g;n++)h=Math.min(h,u[n].val);for(n=1;n<$.length&&h===g;n++)g=Math.max(g,$[n].val);var v=!1;if(t.range){var m=a.simpleMap(t.range,t.r2l);v=m[1]<m[0]}"reversed"===t.autorange&&(v=!0,t.autorange=!0);var y,_,x,b,w,k,T=t.rangemode,A="tozero"===T,L="nonnegative"===T,C=t._length,S=C/10,M=0;for(n=0;n<u.length;n++)for(y=u[n],r=0;r<$.length;r++)(k=(_=$[r]).val-y.val-f(t,y.val,_.val))>0&&((w=C-l(y)-s(_))>S?k/w>M&&(x=y,b=_,M=k/w):k/C>M&&(x={val:y.val,nopad:1},b={val:_.val,nopad:1},M=k/C));if(h===g){var O=h-1,D=h+1;if(A){if(0===h)i=[0,1];else{var P=(h>0?$:u).reduce(function(e,t){return Math.max(e,s(t))},0),z=h/(1-Math.min(.5,P/C));i=h>0?[0,z]:[z,0]}}else i=L?[Math.max(0,O),Math.max(1,D)]:[O,D]}else A?(x.val>=0&&(x={val:0,nopad:1}),b.val<=0&&(b={val:0,nopad:1})):L&&(x.val-M*l(x)<0&&(x={val:0,nopad:1}),b.val<=0&&(b={val:1,nopad:1})),M=(b.val-x.val-f(t,y.val,_.val))/(C-l(x)-s(b)),i=[x.val-M*l(x),b.val+M*s(b)];return v&&i.reverse(),a.simpleMap(i,t.l2r||Number)}function f(e,t,n){var r=0;if(e.rangebreaks)for(var a=e.locateBreaks(t,n),i=0;i<a.length;i++){var o=a[i];r+=o.max-o.min}return r}function d(e,t,n){var r=.05*t._length,i=t._anchorAxis||{};if(-1!==(t.ticklabelposition||"").indexOf("inside")||-1!==(i.ticklabelposition||"").indexOf("inside")){var o="reversed"===t.autorange;if(!o){var l=a.simpleMap(t.range,t.r2l);o=l[1]<l[0]}o&&(n=!n)}var s=0;return c(e,t._id)||(s=function(e,t){var n=0,r=e._anchorAxis||{};if(-1!==(r.ticklabelposition||"").indexOf("inside")&&(!t&&("left"===r.side||"bottom"===r.side)||t&&("top"===r.side||"right"===r.side))){var i="x"===e._id.charAt(0);if(r._vals){var o=a.deg2rad(r._tickAngles[r._id+"tick"]||0),l=Math.abs(Math.cos(o)),s=Math.abs(Math.sin(o));r._vals.forEach(function(e){if(e.bb){var t=6+e.bb.width,r=6+e.bb.height;n=Math.max(n,i?Math.max(t*l,r*s):Math.max(r*l,t*s))}})}"inside"===r.ticks&&"inside"===r.ticklabelposition&&(n+=r.ticklen||0)}return n}(t,n)),r=Math.max(s,r),"domain"===t.constrain&&t._inputDomain&&(r*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(e){return e.nopad?0:e.pad+(e.extrapad?r:s)}}function p(e,t,n){var r,a,i,o=t._id,l=e._fullData,c=e._fullLayout,u=[],f=[];function d(e,t){for(r=0;r<t.length;r++){var n=e[t[r]],l=(n._extremes||{})[o];if(!0===n.visible&&l){for(a=0;a<l.min.length;a++)$(u,(i=l.min[a]).val,i.pad,{extrapad:i.extrapad});for(a=0;a<l.max.length;a++)h(f,(i=l.max[a]).val,i.pad,{extrapad:i.extrapad})}}}if(d(l,t._traceIndices),d(c.annotations||[],t._annIndices||[]),d(c.shapes||[],t._shapeIndices||[]),t._matchGroup&&!n){for(var g in t._matchGroup)if(g!==t._id){var v=s(e,g),m=p(e,v,!0),y=t._length/v._length;for(a=0;a<m.min.length;a++)$(u,(i=m.min[a]).val,i.pad*y,{extrapad:i.extrapad});for(a=0;a<m.max.length;a++)h(f,(i=m.max[a]).val,i.pad*y,{extrapad:i.extrapad})}}return{min:u,max:f}}function $(e,t,n,r){g(e,t,n,r,m)}function h(e,t,n,r){g(e,t,n,r,y)}function g(e,t,n,r,a){for(var i=r.tozero,o=r.extrapad,l=!0,s=0;s<e.length&&l;s++){var c=e[s];if(a(c.val,t)&&c.pad>=n&&(c.extrapad||!o)){l=!1;break}a(t,c.val)&&c.pad<=n&&(o||!c.extrapad)&&(e.splice(s,1),s--)}if(l){var u=i&&0===t;e.push({val:t,pad:u?0:n,extrapad:!u&&o})}}function v(e){return r(e)&&Math.abs(e)<i}function m(e,t){return e<=t}function y(e,t){return e>=t}t.exports={getAutoRange:u,makePadFn:d,doAutoRange:function(e,t,n){if(t.setScale(),t.autorange){t.range=n?n.slice():u(e,t),t._r=t.range.slice(),t._rl=a.simpleMap(t._r,t.r2l);var r=t._input,i={};i[t._attr+".range"]=t.range,i[t._attr+".autorange"]=t.autorange,o.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i),r.range=t.range.slice(),r.autorange=t.autorange}var l=t._anchorAxis;if(l&&l.rangeslider){var s=l.rangeslider[t._name];s&&"auto"===s.rangemode&&(s.range=u(e,t)),l._input.rangeslider[t._name]=a.extendFlat({},s)}},findExtremes:function(e,t,n){n||(n={}),e._m||e.setScale();var a,o,l,s,c,u,f,d,p,g=[],m=[],y=t.length,_=n.padded||!1,x=n.tozero&&("linear"===e.type||"-"===e.type),b="log"===e.type,w=!1,k=n.vpadLinearized||!1;function T(e){if(Array.isArray(e))return w=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var A=T((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),L=T((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),C=T(n.vpadplus||n.vpad),S=T(n.vpadminus||n.vpad);if(!w){if(d=1/0,p=-1/0,b)for(a=0;a<y;a++)(o=t[a])<d&&o>0&&(d=o),o>p&&o<i&&(p=o);else for(a=0;a<y;a++)(o=t[a])<d&&o>-i&&(d=o),o>p&&o<i&&(p=o);t=[d,p],y=2}var M={tozero:x,extrapad:_};function O(n){r(l=t[n])&&(u=A(n),f=L(n),k?(s=e.c2l(l)-S(n),c=e.c2l(l)+C(n)):(d=l-S(n),p=l+C(n),b&&d<p/10&&(d=p/10),s=e.c2l(d),c=e.c2l(p)),x&&(s=Math.min(0,s),c=Math.max(0,c)),v(s)&&$(g,s,f,M),v(c)&&h(m,c,u,M))}var D=Math.min(6,y);for(a=0;a<D;a++)O(a);for(a=y-1;a>=D;a--)O(a);return{min:g,max:m,opts:n}},concatExtremes:p}},{"../../constants/numerical":181,"../../lib":202,"../../registry":290,"./axis_ids":251,"fast-isnumeric":11}],248:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../../plots/plots"),o=e("../../registry"),l=e("../../lib"),s=l.strTranslate,c=e("../../lib/svg_text_utils"),u=e("../../components/titles"),f=e("../../components/color"),d=e("../../components/drawing"),p=e("./layout_attributes"),$=e("./clean_ticks"),h=e("../../constants/numerical"),g=h.ONEMAXYEAR,v=h.ONEAVGYEAR,m=h.ONEMINYEAR,y=h.ONEMAXQUARTER,_=h.ONEAVGQUARTER,x=h.ONEMINQUARTER,b=h.ONEMAXMONTH,w=h.ONEAVGMONTH,k=h.ONEMINMONTH,T=h.ONEWEEK,A=h.ONEDAY,L=A/2,C=h.ONEHOUR,S=h.ONEMIN,M=h.ONESEC,O=h.MINUS_SIGN,D=h.BADNUM,P=e("../../constants/alignment"),z=P.MID_SHIFT,R=P.CAP_SHIFT,I=P.LINE_SPACING,E=P.OPPOSITE_SIDE,F=t.exports={};F.setConvert=e("./set_convert");var N=e("./axis_autotype"),H=e("./axis_ids"),B=H.idSort,V=H.isLinked;F.id2name=H.id2name,F.name2id=H.name2id,F.cleanId=H.cleanId,F.list=H.list,F.listIds=H.listIds,F.getFromId=H.getFromId,F.getFromTrace=H.getFromTrace;var j=e("./autorange");function U(e){var t=1e-4*(e[1]-e[0]);return[e[0]-t,e[1]+t]}F.getAutoRange=j.getAutoRange,F.findExtremes=j.findExtremes,F.coerceRef=function(e,t,n,r,a,i){var o=r.charAt(r.length-1),s=n._fullLayout._subplots[o+"axis"],c=r+"ref",u={};return a||(a=s[0]||("string"==typeof i?i:i[0])),i||(i=a),s=s.concat(s.map(function(e){return e+" domain"})),u[c]={valType:"enumerated",values:s.concat(i?"string"==typeof i?[i]:i:[]),dflt:a},l.coerce(e,t,u,c)},F.getRefType=function(e){return void 0===e?e:"paper"===e?"paper":"pixel"===e?"pixel":/( domain)$/.test(e)?"domain":"range"},F.coercePosition=function(e,t,n,r,a,i){var o,s;if("range"!==F.getRefType(r))o=l.ensureNumber,s=n(a,i);else{var c=F.getFromId(t,r);s=n(a,i=c.fraction2r(i)),o=c.cleanPos}e[a]=o(s)},F.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?l.ensureNumber:F.getFromId(t,n).cleanPos)(e)},F.redrawComponents=function(e,t){t=t||F.listIds(e);var n=e._fullLayout;function r(r,a,i,l){for(var s=o.getComponentMethod(r,a),c={},u=0;u<t.length;u++)for(var f=n[F.id2name(t[u])][i],d=0;d<f.length;d++){var p=f[d];if(!c[p]&&(s(e,p),c[p]=1,l))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var q=F.getDataConversions=function(e,t,n,r){var a,i="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(i)){if(a={type:N(r,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(a),"category"===a.type)for(var o=0;o<r.length;o++)a.d2c(r[o])}else a=F.getFromTrace(e,t,i);return a?{d2c:a.d2c,c2d:a.c2d}:"ids"===i?{d2c:Z,c2d:Z}:{d2c:G,c2d:G}};function G(e){return+e}function Z(e){return String(e)}function Y(e){return+e.substring(1)}F.getDataToCoordFunc=function(e,t,n,r){return q(e,t,n,r).d2c},F.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},F.minDtick=function(e,t,n,r){-1===["log","category","multicategory"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},F.saveRangeInitial=function(e,t){for(var n=F.list(e,"",!0),r=!1,a=0;a<n.length;a++){var i=n[a],o=void 0===i._rangeInitial,l=o||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(o&&!1===i.autorange||t&&l)&&(i._rangeInitial=i.range.slice(),r=!0)}return r},F.saveShowSpikeInitial=function(e,t){for(var n=F.list(e,"",!0),r=!1,a="on",i=0;i<n.length;i++){var o=n[i],l=void 0===o._showSpikeInitial,s=l||o.showspikes!==o._showspikes;(l||t&&s)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==a||o.showspikes||(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,r},F.autoBin=function(e,t,n,r,i,o){var s,c=l.aggNums(Math.min,null,e),u=l.aggNums(Math.max,null,e);if("category"===t.type||"multicategory"===t.type)return{start:c-.5,end:u+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:u-c};if(i||(i=t.calendar),s="log"===t.type?{type:"linear",range:[c,u]}:{type:t.type,range:l.simpleMap([c,u],t.c2r,0,i),calendar:i},F.setConvert(s),o=o&&$.dtick(o,s.type))s.dtick=o,s.tick0=$.tick0(void 0,s.type,i);else{if(n)p=(u-c)/n;else{var f=l.distinctVals(e),d=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10));a(p=Math.max(d*l.roundUp(f.minDiff/d,[.9,1.9,4.9,9.9],!0),2*l.stdev(e)/Math.pow(e.length,r?.25:.4)))||(p=1)}F.autoTicks(s,p)}var p,h,g=s.dtick,v=F.tickIncrement(F.tickFirst(s),g,"reverse",i);if("number"==typeof g)h=(v=function(e,t,n,r,i){var o=0,l=0,s=0,c=0;function u(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1==0?s++:a(t[f])||c++,u(t[f])&&o++,u(t[f]+n.dtick/2)&&l++;var d=t.length-c;if(s===d&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(l<.1*d&&(o>.3*d||u(r)||u(i))){var p=n.dtick/2;e+=e+p<r?p:-p}return e}(v,e,s,c,u))+(1+Math.floor((u-v)/g))*g;else for("M"===s.dtick.charAt(0)&&(v=function(e,t,n,r,a){var i=l.findExactDates(t,a);if(i.exactDays>.8){var o=Number(n.substr(1));i.exactYears>.8&&o%12==0?e=F.tickIncrement(e,"M6","reverse")+1.5*A:i.exactMonths>.8?e=F.tickIncrement(e,"M1","reverse")+15.5*A:e-=L;var s=F.tickIncrement(e,n);if(s<=r)return s}return e}(v,e,g,c,i)),h=v;h<=u;)h=F.tickIncrement(h,g,!1,i);return{start:t.c2r(v,0,i),end:t.c2r(h,0,i),size:g,_dataSpan:u-c}},F.prepTicks=function(e,t){var n=l.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e._dtickInit=e.dtick,e._tick0Init=e.tick0,"auto"===e.tickmode||!e.dtick){var r,i=e.nticks;i||("category"===e.type||"multicategory"===e.type?(r=e.tickfont?1.2*(e.tickfont.size||12):15,i=e._length/r):(r="y"===e._id.charAt(0)?40:80,i=l.constrain(e._length/r,4,9)+1),"radialaxis"===e._name&&(i*=2)),"array"===e.tickmode&&(i*=100),e._roughDTick=Math.abs(n[1]-n[0])/i,F.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}"period"===e.ticklabelmode&&function(e){function t(){return!(a(e.dtick)||"M"!==e.dtick.charAt(0))}var n,r=t(),i=F.getTickFormat(e);if(i){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(i)||(/%[HI]/.test(i)?(n=C,o&&!r&&e.dtick<C&&(e.dtick=C)):/%p/.test(i)?(n=L,o&&!r&&e.dtick<L&&(e.dtick=L)):/%[Aadejuwx]/.test(i)?(n=A,o&&!r&&e.dtick<A&&(e.dtick=A)):/%[UVW]/.test(i)?(n=T,o&&!r&&e.dtick<T&&(e.dtick=T)):/%[Bbm]/.test(i)?(n=w,o&&(r?1>Y(e.dtick):e.dtick<k)&&(e.dtick="M1")):/%[q]/.test(i)?(n=_,o&&(r?3>Y(e.dtick):e.dtick<x)&&(e.dtick="M3")):/%[Yy]/.test(i)&&(n=v,o&&(r?12>Y(e.dtick):e.dtick<m)&&(e.dtick="M12")))}(r=t())&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=n}(e),e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),er(e)},F.calcTicks=function(e,t){F.prepTicks(e,t);var n=l.simpleMap(e.range,e.r2l,void 0,void 0,t);if("array"===e.tickmode)return function(e){var t=e.tickvals,n=e.ticktext,r=Array(t.length),a=U(l.simpleMap(e.range,e.r2l)),i=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]),s=0;Array.isArray(n)||(n=[]);var c="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var u=0;u<t.length;u++){var f=c(t[u]);f>i&&f<o&&(void 0===n[u]?r[s]=F.tickText(e,f):r[s]=ea(e,f,String(n[u])),s++)}return s<t.length&&r.splice(s,t.length-s),e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==D})),r}(e);var r=U(n),i=r[0],o=r[1],s=n[1]<n[0],c=Math.min(n[0],n[1]),u=Math.max(n[0],n[1]),f="log"===e.type&&!(a(e.dtick)||"L"===e.dtick.charAt(0)),d="period"===e.ticklabelmode;if(e._tmin=F.tickFirst(e,t),e._tmin<i!==s)return[];"category"!==e.type&&"multicategory"!==e.type||(o=s?Math.max(-.5,o):Math.min(e._categories.length-.5,o));var p=e._tmin;e.rangebreaks&&e._tick0Init!==e.tick0&&(p=ex(p,e),s||(p=F.tickIncrement(p,e.dtick,!s,e.calendar))),d&&(p=F.tickIncrement(p,e.dtick,!s,e.calendar));for(var $,h=Math.max(1e3,e._length||0),S=[],M=null;s?p>=o:p<=o;p=F.tickIncrement(p,e.dtick,s,e.calendar)){if(e.rangebreaks&&!s){if(p<i)continue;if(e.maskBreaks(p)===D&&ex(p,e)>=u)break}if(S.length>h||p===M)break;M=p;var O=!1;f&&p!==(0|p)&&(O=!0),S.push({minor:O,value:p})}if(d&&function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r].value,i=r,o=r+1;r<e.length-1?(i=r,o=r+1):r>0?(i=r-1,o=r):(i=r,o=r);var l,s=e[i].value,c=Math.abs(e[o].value-s),u=n||c,f=0;u>=m?f=c>=m&&c<=g?c:v:n===_&&u>=x?f=c>=x&&c<=y?c:_:u>=k?f=c>=k&&c<=b?c:w:n===T&&u>=T?f=T:u>=A?f=A:n===L&&u>=L?f=L:n===C&&u>=C&&(f=C),f>=c&&(f=c,l=!0);var d=a+f;if(t.rangebreaks&&f>0){for(var p=0,$=0;$<84;$++){var h=($+.5)/84;t.maskBreaks(a*(1-h)+h*d)!==D&&p++}(f*=p/84)||(e[r].drop=!0),l&&c>T&&(f=c)}(f>0||0===r)&&(e[r].periodX=a+f/2)}}(S,e,e._definedDelta),e.rangebreaks){var P="y"===e._id.charAt(0),z=1;"auto"===e.tickmode&&(z=e.tickfont?e.tickfont.size:12);var R=NaN;for($=S.length-1;$>-1;$--)if(S[$].drop)S.splice($,1);else{S[$].value=ex(S[$].value,e);var I=e.c2p(S[$].value);(P?R>I-z:R<I+z)?S.splice(s?$+1:$,1):R=I}}e_(e)&&360===Math.abs(n[1]-n[0])&&S.pop(),e._tmax=(S[S.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var E,N,H=[];for($=0;$<S.length;$++){var B=S[$].minor,V=S[$].value;E=F.tickText(e,V,!1,B),void 0!==(N=S[$].periodX)&&(E.periodX=N,(N>u||N<c)&&(N>u&&(E.periodX=u),N<c&&(E.periodX=c),E.text=" ",e._prevDateHead="")),H.push(E)}return e._inCalcTicks=!1,H};var X=[2,5,10],W=[1,2,3,6,12],Q=[1,2,5,10,15,30],J=[1,2,3,7,14],K=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ee=[-.301,0,.301,.699,1],et=[15,30,45,90,180];function en(e,t,n){return t*l.roundUp(e/t,n)}function er(e){var t=e.dtick;if(e._tickexponent=0,a(t)||"string"==typeof t||(t=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),i=r.length;if("M"===String(t).charAt(0))i>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12==0?"y":"m";else if(t>=A&&i<=10||t>=15*A)e._tickround="d";else if(t>=S&&i<=16||t>=C)e._tickround="M";else if(t>=M&&i<=19||t>=S)e._tickround="S";else{var o=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(i,o)-20,e._tickround<0&&(e._tickround=4)}}else if(a(t)||"L"===t.charAt(0)){var l=e.range.map(e.r2d||Number);a(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var s=Math.floor(Math.log(Math.max(Math.abs(l[0]),Math.abs(l[1])))/Math.LN10+.01);Math.abs(s)>(void 0===e.minexponent?3:e.minexponent)&&(eo(e.exponentformat)&&!el(s)?e._tickexponent=3*Math.round((s-1)/3):e._tickexponent=s)}else e._tickround=null}function ea(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}F.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=l.dateTick0(e.calendar,0);var i=2*t;if(i>v)t/=v,n=r(10),e.dtick="M"+12*en(t,n,X);else if(i>w)t/=w,e.dtick="M"+en(t,1,W);else if(i>A){e.dtick=en(t,A,e._hasDayOfWeekBreaks?[1,2,7,14]:J);var o=F.getTickFormat(e),s="period"===e.ticklabelmode;s&&(e._rawTick0=e.tick0),/%[uVW]/.test(o)?e.tick0=l.dateTick0(e.calendar,2):e.tick0=l.dateTick0(e.calendar,1),s&&(e._dowTick0=e.tick0)}else i>C?e.dtick=en(t,C,W):i>S?e.dtick=en(t,S,Q):i>M?e.dtick=en(t,M,Q):(n=r(10),e.dtick=en(t,n,X))}else if("log"===e.type){e.tick0=0;var c=l.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(1>Math.abs(c[1]-c[0])){var u=1.5*Math.abs((c[1]-c[0])/t);t=Math.abs(Math.pow(10,c[1])-Math.pow(10,c[0]))/u,n=r(10),e.dtick="L"+en(t,n,X)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):e_(e)?(e.tick0=0,n=1,e.dtick=en(t,n,et)):(e.tick0=0,n=r(10),e.dtick=en(t,n,X));if(0===e.dtick&&(e.dtick=1),!a(e.dtick)&&"string"!=typeof e.dtick){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}},F.tickIncrement=function(e,t,n,i){var o=n?-1:1;if(a(t))return l.increment(e,o*t);var s=t.charAt(0),c=o*Number(t.substr(1));if("M"===s)return l.incrementMonth(e,c,i);if("L"===s)return Math.log(Math.pow(10,e)+c)/Math.LN10;if("D"===s){var u=e+.01*o,f=l.roundUp(l.mod(u,1),"D2"===t?ee:K,n);return Math.floor(u)+Math.log(r.round(Math.pow(10,f),1))/Math.LN10}throw"unrecognized dtick "+String(t)},F.tickFirst=function(e,t){var n=e.r2l||Number,i=l.simpleMap(e.range,n,void 0,void 0,t),o=i[1]<i[0],s=o?Math.floor:Math.ceil,c=U(i)[0],u=e.dtick,f=n(e.tick0);if(a(u)){var d=s((c-f)/u)*u+f;return"category"!==e.type&&"multicategory"!==e.type||(d=l.constrain(d,0,e._categories.length-1)),d}var p=u.charAt(0),$=Number(u.substr(1));if("M"===p){for(var h,g,v,m=0,y=f;m<10;){if(((h=F.tickIncrement(y,u,o,e.calendar))-c)*(y-c)<=0)return o?Math.min(y,h):Math.max(y,h);v=p+(Math.abs(Math.round(g=(c-(y+h)/2)/(h-y)))||1)*$,y=F.tickIncrement(y,v,g<0?!o:o,e.calendar),m++}return l.error("tickFirst did not converge",e),y}if("L"===p)return Math.log(s((Math.pow(10,c)-f)/$)*$+f)/Math.LN10;if("D"===p){var _=l.roundUp(l.mod(c,1),"D2"===u?ee:K,o);return Math.floor(c)+Math.log(r.round(Math.pow(10,_),1))/Math.LN10}throw"unrecognized dtick "+String(u)},F.tickText=function(e,t,n,r){var i,o=ea(e,t),s="array"===e.tickmode,c=n||s,u=e.type,f="category"===u?e.d2l_noadd:e.d2l;if(s&&Array.isArray(e.ticktext)){var d=l.simpleMap(e.range,e.r2l),p=(Math.abs(d[1]-d[0])-(e._lBreaks||0))/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-f(e.tickvals[i]))<p);i++);if(i<e.ticktext.length)return o.text=String(e.ticktext[i]),o}function $(r){if(void 0===r)return!0;if(n)return"none"===r;var a={first:e._tmin,last:e._tmax}[r];return"all"!==r&&t!==a}var h,g,v,m,y,_,x,b,w,k,T,A,L,C,S=n?"never":"none"!==e.exponentformat&&$(e.showexponent)?"hide":"";if("date"===u?function(e,t,n,r){var i=e._tickround,o=n&&e.hoverformat||F.getTickFormat(e);r&&(i=a(i)?4:({y:"m",m:"d",d:"M",M:"S",S:4})[i]);var s,c=l.formatDate(t.x,o,i,e._dateFormat,e.calendar,e._extraFormat),u=c.indexOf("\n");if(-1!==u&&(s=c.substr(u+1),c=c.substr(0,u)),r&&("00:00:00"===c||"00:00"===c?(c=s,s=""):8===c.length&&(c=c.replace(/:00$/,""))),s){if(n)"d"===i?c+=", "+s:c=s+(c?", "+c:"");else if(e._inCalcTicks&&e._prevDateHead===s){var f=-1!==(e.ticklabelposition||"").indexOf("inside"),d=e._realSide||e.side;(!f&&"top"===d||f&&"bottom"===d)&&(c+="<br> ")}else e._prevDateHead=s,c+="<br>"+s}t.text=c}(e,o,n,c):"log"===u?function(e,t,n,r,i){var o=e.dtick,s=t.x,c=e.tickformat,u="string"==typeof o&&o.charAt(0);if("never"===i&&(i=""),r&&"L"!==u&&(o="L3",u="L"),c||"L"===u)t.text=es(Math.pow(10,s),e,i,r);else if(a(o)||"D"===u&&.1>l.mod(s+.01,1)){var f=Math.round(s),d=Math.abs(f),p=e.exponentformat;"power"===p||eo(p)&&el(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":O)+d+"</sup>",t.fontSize*=1.25):("e"===p||"E"===p)&&d>2?t.text="1"+p+(f>0?"+":O)+d:(t.text=es(Math.pow(10,s),e,"","fakehover"),"D1"===o&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==u)throw"unrecognized dtick "+String(o);t.text=String(Math.round(Math.pow(10,l.mod(s,1)))),t.fontSize*=.75}if("D1"===e.dtick){var $=String(t.text).charAt(0);"0"!==$&&"1"!==$||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(s<0?.5:.25)))}}(e,o,0,c,S):"category"===u?(h=e,g=o,void 0===(v=h._categories[Math.round(g.x)])&&(v=""),g.text=String(v)):"multicategory"===u?(m=e,y=o,_=n,x=Math.round(y.x),w=void 0===(b=m._categories[x]||[])[1]?"":String(b[1]),k=void 0===b[0]?"":String(b[0]),_?y.text=k+" - "+w:(y.text=w,y.text2=k)):e_(e)?function(e,t,n,r,a){if("radians"!==e.thetaunit||n)t.text=es(t.x,e,a,r);else{var i=t.x/180;if(0===i)t.text="0";else{var o=function(e){function t(e,t){return 1e-6>=Math.abs(e-t)}var n=function(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}(e),r=e*n,a=Math.abs(function e(n,r){return t(r,0)?n:e(r,n%r)}(r,n));return[Math.round(r/a),Math.round(n/a)]}(i);if(o[1]>=100)t.text=es(l.deg2rad(t.x),e,a,r);else{var s=t.x<0;1===o[1]?1===o[0]?t.text="":t.text=o[0]+"":t.text=["<sup>",o[0],"</sup>","","<sub>",o[1],"</sub>",""].join(""),s&&(t.text=O+t.text)}}}}(e,o,n,c,S):(T=e,A=o,L=c,"never"===(C=S)?C="":"all"===T.showexponent&&1e-6>Math.abs(A.x/T.dtick)&&(C="hide"),A.text=es(A.x,T,C,L)),r||(e.tickprefix&&!$(e.showtickprefix)&&(o.text=e.tickprefix+o.text),e.ticksuffix&&!$(e.showticksuffix)&&(o.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var M=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};o.xbnd=[M(o.x-.5),M(o.x+e.dtick-.5)]}return o},F.hoverLabelText=function(e,t,n){if(n!==D&&n!==t)return F.hoverLabelText(e,t)+" - "+F.hoverLabelText(e,n);var r="log"===e.type&&t<=0,a=F.tickText(e,e.c2l(r?-t:t),"hover").text;return r?0===t?"0":O+a:a};var ei=["f","p","n","","m","","k","M","G","T"];function eo(e){return"SI"===e||"B"===e}function el(e){return e>14||e<-15}function es(e,t,n,r){var i=e<0,o=t._tickround,s=n||t.exponentformat||"B",c=t._tickexponent,u=F.getTickFormat(t),f=t.separatethousands;if(r){var d={exponentformat:s,minexponent:t.minexponent,dtick:"none"===t.showexponent?t.dtick:a(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};er(d),o=(Number(d._tickround)||0)+4,c=d._tickexponent,t.hoverformat&&(u=t.hoverformat)}if(u)return t._numFormat(u)(e).replace(/-/g,O);var p,$=Math.pow(10,-o)/2;if("none"===s&&(c=0),(e=Math.abs(e))<$)e="0",i=!1;else{if(e+=$,c&&(e*=Math.pow(10,-c),o+=c),0===o)e=String(Math.floor(e));else if(o<0){e=(e=String(Math.round(e))).substr(0,e.length+o);for(var h=o;h<0;h++)e+="0"}else{var g=(e=String(e)).indexOf(".")+1;g&&(e=e.substr(0,g+o).replace(/\.?0+$/,""))}e=l.numSeparate(e,t._separators,f)}return c&&"hide"!==s&&(eo(s)&&el(c)&&(s="power"),p=c<0?O+-c:"power"!==s?"+"+c:String(c),"e"===s||"E"===s?e+=s+p:"power"===s?e+="\xd710<sup>"+p+"</sup>":"B"===s&&9===c?e+="B":eo(s)&&(e+=ei[c/3+5])),i?O+e:e}function ec(e){return void 0!==e.periodX?e.periodX:e.x}function eu(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function ef(e){var t=e.title.font.size,n=(e.title.text.match(c.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?n?t*(R+n*I):t*R:n?t*(n+1)*I:t}function ed(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function ep(e){var t=r.select(e),n=t.select(".text-math-group");return n.empty()?t.select("text"):n}function e$(e){return e._id+".automargin"}function eh(e){return e$(e)+".mirror"}function eg(e){return e._id+".rangeslider"}function ev(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function em(e,t,n){var r,a,i=[],o=[],s=e.layout;for(r=0;r<t.length;r++)i.push(F.getFromId(e,t[r]));for(r=0;r<n.length;r++)o.push(F.getFromId(e,n[r]));var c=Object.keys(p),u=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<c.length;r++){var d=c[r],$=i[0][d],h=o[0][d],g=!0,v=!1,m=!1;if("_"!==d.charAt(0)&&"function"!=typeof $&&-1===u.indexOf(d)){for(a=1;a<i.length&&g;a++){var y=i[a][d];"type"===d&&-1!==f.indexOf($)&&-1!==f.indexOf(y)&&$!==y?v=!0:y!==$&&(g=!1)}for(a=1;a<o.length&&g;a++){var _=o[a][d];"type"===d&&-1!==f.indexOf(h)&&-1!==f.indexOf(_)&&h!==_?m=!0:o[a][d]!==h&&(g=!1)}g&&(v&&(s[i[0]._name].type="linear"),m&&(s[o[0]._name].type="linear"),ey(s,d,i,o,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var x=e._fullLayout.annotations[r];-1!==t.indexOf(x.xref)&&-1!==n.indexOf(x.yref)&&l.swapAttrs(s.annotations[r],["?"])}}function ey(e,t,n,r,a){var i,o=l.nestedProperty,s=o(e[n[0]._name],t).get(),c=o(e[r[0]._name],t).get();for("title"===t&&(s&&s.text===a.x&&(s.text=a.y),c&&c.text===a.y&&(c.text=a.x)),i=0;i<n.length;i++)o(e,n[i]._name+"."+t).set(c);for(i=0;i<r.length;i++)o(e,r[i]._name+"."+t).set(s)}function e_(e){return"angularaxis"===e._id}function ex(e,t){for(var n=t._rangebreaks.length,r=0;r<n;r++){var a=t._rangebreaks[r];if(e>=a.min&&e<a.max)return a.max}return e}F.getTickFormat=function(e){var t,n,r,a,i,o,l,s;function c(e){return"string"!=typeof e?e:Number(e.replace("M",""))*w}function u(e,t){var n=["L","D"];if(typeof e==typeof t){if("number"==typeof e)return e-t;var r=n.indexOf(e.charAt(0)),a=n.indexOf(t.charAt(0));return r===a?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-a}return"number"==typeof e?1:-1}function f(e,t){var n=null===t[0],r=null===t[1],a=u(e,t[0])>=0,i=0>=u(e,t[1]);return(n||a)&&(r||i)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&(a=e.dtick,i=r.dtickrange,o=void 0,l=void 0,s=void 0,o=c||function(e){return e},l=i[0],s=i[1],(!l&&"number"!=typeof l||o(l)<=o(a))&&(!s&&"number"!=typeof s||o(s)>=o(a)))){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&f(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},F.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),a=t?F.findSubplotsWithAxis(r,t):r;return a.sort(function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]}),a},F.findSubplotsWithAxis=function(e,t){for(var n=RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],a=0;a<e.length;a++){var i=e[a];n.test(i)&&r.push(i)}return r},F.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,a,i={_offset:0,_length:t.width,_id:""},o={_offset:0,_length:t.height,_id:""},l=F.list(e,"x",!0),s=F.list(e,"y",!0),c=[];for(n=0;n<l.length;n++)for(c.push({x:l[n],y:o}),a=0;a<s.length;a++)0===n&&c.push({x:i,y:s[a]}),c.push({x:l[n],y:s[a]});var u=t._clips.selectAll(".axesclip").data(c,function(e){return e.x._id+e.y._id});u.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+t._uid+e.x._id+e.y._id}).append("rect"),u.exit().remove(),u.each(function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})}},F.draw=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each(function(e){var t=e[0],n=r._plots[t];if(n){var a=n.xaxis,i=n.yaxis;n.xaxislayer.selectAll("."+a._id+"tick").remove(),n.yaxislayer.selectAll("."+i._id+"tick").remove(),n.xaxislayer.selectAll("."+a._id+"tick2").remove(),n.yaxislayer.selectAll("."+i._id+"tick2").remove(),n.xaxislayer.selectAll("."+a._id+"divider").remove(),n.yaxislayer.selectAll("."+i._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+a._id+"title").remove(),r._infolayer.select(".g-"+i._id+"title").remove()}});var a=t&&"redraw"!==t?t:F.listIds(e);return l.syncOrAsync(a.map(function(t){return function(){if(t){var r=F.getFromId(e,t),a=F.drawOne(e,r,n);return r._r=r.range.slice(),r._rl=l.simpleMap(r._r,r.r2l),a}}}))},F.drawOne=function(e,t,n){n=n||{},t.setScale();var r=e._fullLayout,a=t._id,s=a.charAt(0),c=F.counterLetter(a),p=r._plots[t._mainSubplot];if(p){var $=p[s+"axislayer"],h=t._mainLinePosition,g=t._mainMirrorPosition,v=t._vals=F.calcTicks(t),m=[t.mirror,h,g].join("_");for(_=0;_<v.length;_++)v[_].axInfo=m;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var y={};if(t.visible){var _,x,b,w,k,T=F.makeTransTickFn(t),A=F.makeTransTickLabelFn(t),L="inside"===t.ticks,C="outside"===t.ticks;if("boundaries"===t.tickson){var S=function(e,t){var n,r=[],a=function(e,t){var n=e.xbnd[t];null!==n&&r.push(l.extendFlat({},e,{x:n}))};if(t.length){for(n=0;n<t.length;n++)a(t[n],0);a(t[n-1],1)}return r}(0,v);k=F.clipEnds(t,S),w=L?k:S}else k=F.clipEnds(t,v),w=L&&"period"!==t.ticklabelmode?k:v;var M=t._gridVals=k,O=function(e,t){var n,r,a=[],i=t.length&&t[t.length-1].x<t[0].x,o=function(e,t){var n=e.xbnd[t];null!==n&&a.push(l.extendFlat({},e,{x:n}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var s=t[n];s.text2!==r&&o(s,i?1:0),r=s.text2}o(t[n-1],i?0:1)}return a}(t,v);if(!r._hasOnlyLargeSploms){var D=t._subplotsWith,P={};for(_=0;_<D.length;_++){x=D[_];var z=(b=r._plots[x])[c+"axis"],R=z._mainAxis._id;if(!P[R]){P[R]=1;var N="x"===s?"M0,"+z._offset+"v"+z._length:"M"+z._offset+",0h"+z._length;F.drawGrid(e,t,{vals:M,counterAxis:z,layer:b.gridlayer.select("."+a),path:N,transFn:T}),F.drawZeroLine(e,t,{counterAxis:z,layer:b.zerolinelayer,path:N,transFn:T})}}}var H=F.getTickSigns(t),B=[];if(t.ticks){var V,j,U,q=F.makeTickPath(t,h,H[2]);if(t._anchorAxis&&t.mirror&&!0!==t.mirror?(V=F.makeTickPath(t,g,H[3]),j=q+V):(V="",j=q),t.showdividers&&C&&"boundaries"===t.tickson){var G={};for(_=0;_<O.length;_++)G[O[_].x]=1;U=function(e){return G[e.x]?V:j}}else U=j;F.drawTicks(e,t,{vals:w,layer:$,path:U,transFn:T}),"allticks"===t.mirror&&(B=Object.keys(t._linepositions||{}))}for(_=0;_<B.length;_++){x=B[_],b=r._plots[x];var Z=t._linepositions[x]||[],Y=F.makeTickPath(t,Z[0],H[0])+F.makeTickPath(t,Z[1],H[1]);F.drawTicks(e,t,{vals:w,layer:b[s+"axislayer"],path:Y,transFn:T})}var X=[];if(X.push(function(){return F.drawLabels(e,t,{vals:v,layer:$,transFn:A,labelFns:F.makeLabelFns(t,h)})}),"multicategory"===t.type){var W={x:2,y:10}[s];X.push(function(){var n=J()[({x:"height",y:"width"})[s]]+W+(t._tickAngles[a+"tick"]?t.tickfont.size*I:0);return F.drawLabels(e,t,{vals:function e(t,n){for(var r=[],a={},i=0;i<n.length;i++){var o=n[i];a[o.text2]?a[o.text2].push(o.x):a[o.text2]=[o.x]}for(var s in a)r.push(ea(t,l.interp(a[s],.5),s));return r}(t,v),layer:$,cls:a+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:T,labelFns:F.makeLabelFns(t,h+n*H[4])})}),X.push(function(){var n,r,a,i,o,l;return t._depth=H[4]*(J("tick2")[t.side]-h),n=e,r=t,a={vals:O,layer:$,path:F.makeTickPath(t,h,H[4],t._depth),transFn:T},i=r._id+"divider",o=a.vals,void((l=a.layer.selectAll("path."+i).data(o,eu)).exit().remove(),l.enter().insert("path",":first-child").classed(i,1).classed("crisp",1).call(f.stroke,r.dividercolor).style("stroke-width",d.crispRound(n,r.dividerwidth,1)+"px"),l.attr("transform",a.transFn).attr("d",a.path))})}else t.title.hasOwnProperty("standoff")&&X.push(function(){t._depth=H[4]*(J()[t.side]-h)});var Q=o.getComponentMethod("rangeslider","isVisible")(t);return X.push(function(){var n,a,l,u,f=t.side.charAt(0),d=E[t.side].charAt(0),p=F.getPxPosition(e,t),$=C?t.ticklen:0;if((t.automargin||Q)&&("multicategory"===t.type?n=J("tick2"):(n=J(),"x"===s&&"b"===f&&(t._depth=Math.max(n.width>0?n.bottom-p:0,$)))),t.automargin){a={x:0,y:0,r:0,l:0,t:0,b:0};var h=[0,1];if("x"===s){if("b"===f?a[f]=t._depth:(a[f]=t._depth=Math.max(n.width>0?p-n.top:0,$),h.reverse()),n.width>0){var g=n.right-(t._offset+t._length);g>0&&(a.xr=1,a.r=g);var v=t._offset-n.left;v>0&&(a.xl=0,a.l=v)}}else if("l"===f?a[f]=t._depth=Math.max(n.height>0?p-n.left:0,$):(a[f]=t._depth=Math.max(n.height>0?n.right-p:0,$),h.reverse()),n.height>0){var m=n.bottom-(t._offset+t._length);m>0&&(a.yb=0,a.b=m);var y=t._offset-n.top;y>0&&(a.yt=1,a.t=y)}a[c]="free"===t.anchor?t.position:t._anchorAxis.domain[h[0]],t.title.text!==r._dfltTitle[s]&&(a[f]+=ef(t)+(t.title.standoff||0)),t.mirror&&"free"!==t.anchor&&((l={x:0,y:0,r:0,l:0,t:0,b:0})[d]=t.linewidth,t.mirror&&!0!==t.mirror&&(l[d]+=$),!0===t.mirror||"ticks"===t.mirror?l[c]=t._anchorAxis.domain[h[1]]:"all"!==t.mirror&&"allticks"!==t.mirror||(l[c]=[t._counterDomainMin,t._counterDomainMax][h[1]]))}Q&&(u=o.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),i.autoMargin(e,e$(t),a),i.autoMargin(e,eh(t),l),i.autoMargin(e,eg(t),u)}),n.skipTitle||Q&&"bottom"===t.side||X.push(function(){return function(e,t){var n,r=e._fullLayout,a=t._id,i=a.charAt(0),o=t.title.font.size;if(t.title.hasOwnProperty("standoff"))n=t._depth+t.title.standoff+ef(t);else{var l=-1!==(t.ticklabelposition||"").indexOf("inside");if("multicategory"===t.type)n=t._depth;else{var s=1.5*o;l&&(s=.5*o,"outside"===t.ticks&&(s+=t.ticklen)),n=10+s+(t.linewidth?t.linewidth-1:0)}l||(n+="x"===i?"top"===t.side?o*(t.showticklabels?1:0):o*(t.showticklabels?1.5:.5):"right"===t.side?o*(t.showticklabels?1:.5):o*(t.showticklabels?.5:0))}var c,f,p,$,h=F.getPxPosition(e,t);if("x"===i?(f=t._offset+t._length/2,p="top"===t.side?h-n:h+n):(p=t._offset+t._length/2,f="right"===t.side?h+n:h-n,c={rotate:"-90",offset:0}),"multicategory"!==t.type){var g=t._selections[t._id+"tick"];if($={selection:g,side:t.side},g&&g.node()&&g.node().parentNode){var v=d.getTranslate(g.node().parentNode);$.offsetLeft=v.x,$.offsetTop=v.y}t.title.hasOwnProperty("standoff")&&($.pad=0)}return u.draw(e,a+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[i],avoid:$,transform:c,attributes:{x:f,y:p,"text-anchor":"middle"}})}(e,t)}),l.syncOrAsync(X)}}function J(e){var n,r,i,o,l,s,c=a+(e||"tick");return y[c]||(y[c]=(n=t,r=c,n._selections[r].size()?(i=1/0,o=-1/0,l=1/0,s=-1/0,n._selections[r].each(function(){var e=ep(this),t=d.bBox(e.node().parentNode);i=Math.min(i,t.top),o=Math.max(o,t.bottom),l=Math.min(l,t.left),s=Math.max(s,t.right)})):(i=0,o=0,l=0,s=0),{top:i,bottom:o,left:l,right:s,height:o-i,width:s-l})),y[c]}},F.getTickSigns=function(e){var t=e._id.charAt(0),n=e.side===({x:"top",y:"right"})[t]?1:-1,r=[-1,1,n,-n];return"inside"!==e.ticks==("x"===t)&&(r=r.map(function(e){return-e})),e.side&&r.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),r},F.makeTransTickFn=function(e){return"x"===e._id.charAt(0)?function(t){return s(e._offset+e.l2p(t.x),0)}:function(t){return s(0,e._offset+e.l2p(t.x))}},F.makeTransTickLabelFn=function(e){var t=function(e){var t=e.ticklabelposition||"",n=function(e){return -1!==t.indexOf(e)},r=n("top"),a=n("left"),i=n("right"),o=n("bottom"),l=n("inside"),s=o||a||r||i;if(!s&&!l)return[0,0];var c=e.side,u=s?(e.tickwidth||0)/2:0,f=3,d=e.tickfont?e.tickfont.size:12;return(o||r)&&(u+=d*R,f+=(e.linewidth||0)/2),(a||i)&&(u+=(e.linewidth||0)/2,f+=3),l&&"top"===c&&(f-=d*(1-R)),(a||r)&&(u=-u),"bottom"!==c&&"right"!==c||(f=-f),[s?u:0,l?f:0]}(e),n=t[0],r=t[1];return"x"===e._id.charAt(0)?function(t){return s(n+e._offset+e.l2p(ec(t)),r)}:function(t){return s(r,n+e._offset+e.l2p(ec(t)))}},F.makeTickPath=function(e,t,n,r){r=void 0!==r?r:e.ticklen;var a=e._id.charAt(0),i=(e.linewidth||1)/2;return"x"===a?"M0,"+(t+i*n)+"v"+r*n:"M"+(t+i*n)+",0h"+r*n},F.makeLabelFns=function(e,t,n){var r=e.ticklabelposition||"",i=function(e){return -1!==r.indexOf(e)},o=i("top"),s=i("left"),c=i("right"),u=i("bottom")||s||o||c,f=i("inside"),d="inside"===r&&"inside"===e.ticks||!f&&"outside"===e.ticks&&"boundaries"!==e.tickson,p=0,$=0,h=d?e.ticklen:0;if(f?h*=-1:u&&(h=0),d&&(p+=h,n)){var g=l.deg2rad(n);p=h*Math.cos(g)+1,$=h*Math.sin(g)}e.showticklabels&&(d||e.showline)&&(p+=.2*e.tickfont.size);var v,m,y,_,x,b={labelStandoff:p+=(e.linewidth||1)/2*(f?-1:1),labelShift:$},w=0,k=e.side,T=e._id.charAt(0),A=e.tickangle;if("x"===T)_=(x=!f&&"bottom"===k||f&&"top"===k)?1:-1,f&&(_*=-1),v=$*_,m=t+p*_,y=x?1:-.2,90===Math.abs(A)&&(f?y+=z:y=-90===A&&"bottom"===k?R:90===A&&"top"===k?z:.5,w=z/2*(A/90)),b.xFn=function(e){return e.dx+v+w*e.fontSize},b.yFn=function(e){return e.dy+m+e.fontSize*y},b.anchorFn=function(e,t){if(u){if(s)return"end";if(c)return"start"}return a(t)&&0!==t&&180!==t?t*_<0!==f?"end":"start":"middle"},b.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:"top"===e.side!==f?-r:0};else if("y"===T){if(_=(x=!f&&"left"===k||f&&"right"===k)?1:-1,f&&(_*=-1),v=p,m=$*_,y=0,f||90!==Math.abs(A)||(y=-90===A&&"left"===k||90===A&&"right"===k?R:.5),f){var L=a(A)?+A:0;0!==L&&(w=Math.abs(Math.sin(l.deg2rad(L)))*R*_,y=0)}b.xFn=function(e){return e.dx+t-(v+e.fontSize*y)*_+w*e.fontSize},b.yFn=function(e){return e.dy+m+e.fontSize*z},b.anchorFn=function(e,t){return a(t)&&90===Math.abs(t)?"middle":x?"end":"start"},b.heightFn=function(t,n,r){return"right"===e.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return b},F.drawTicks=function(e,t,n){n=n||{};var r=t._id+"tick",a=n.vals;"period"===t.ticklabelmode&&(a=a.slice()).shift();var i=n.layer.selectAll("path."+r).data(t.ticks?a:[],eu);i.exit().remove(),i.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(f.stroke,t.tickcolor).style("stroke-width",d.crispRound(e,t.tickwidth,1)+"px").attr("d",n.path),i.attr("transform",n.transFn)},F.drawGrid=function(e,t,n){n=n||{};var r=t._id+"grid",a=n.vals,i=n.counterAxis;if(!1===t.showgrid)a=[];else if(i&&F.shouldShowZeroLine(e,t,i))for(var o="array"===t.tickmode,l=0;l<a.length;l++){var s=a[l].x;if(o?!s:Math.abs(s)<t.dtick/100){if(a=a.slice(0,l).concat(a.slice(l+1)),!o)break;l--}}var c=n.layer.selectAll("path."+r).data(a,eu);c.exit().remove(),c.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),t._gw=d.crispRound(e,t.gridwidth,1),c.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.gridcolor||"#ddd").style("stroke-width",t._gw+"px"),"function"==typeof n.path&&c.attr("d",n.path)},F.drawZeroLine=function(e,t,n){n=n||n;var r=t._id+"zl",a=F.shouldShowZeroLine(e,t,n.counterAxis),i=n.layer.selectAll("path."+r).data(a?[{x:0,id:t._id}]:[]);i.exit().remove(),i.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each(function(){n.layer.selectAll("path").sort(function(e,t){return B(e.id,t.id)})}),i.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.zerolinecolor||f.defaultLine).style("stroke-width",d.crispRound(e,t.zerolinewidth,t._gw||1)+"px")},F.drawLabels=function(e,t,n){n=n||{};var i=e._fullLayout,o=t._id,u=o.charAt(0),f=n.cls||o+"tick",p=n.vals,$=n.labelFns,h=n.secondary?0:t.tickangle,g=(t._prevTickAngles||{})[f],v=n.layer.selectAll("g."+f).data(t.showticklabels?p:[],eu),m=[];function y(e,i){var o=-1!==(t.ticklabelposition||"").indexOf("inside");e.each(function(e){var l=r.select(this),u=l.select(".text-math-group"),f=$.anchorFn(e,i),p=n.transFn.call(l.node(),e)+(a(i)&&0!=+i?" rotate("+i+","+$.xFn(e)+","+($.yFn(e)-e.fontSize/2)+")":""),h=c.lineCount(l),g=I*e.fontSize,v=$.heightFn(e,a(i)?+i:0,(h-1)*g);if(v&&(p+=s(0,v)),u.empty()){var m=l.select("text");m.attr({transform:p,"text-anchor":f}),o&&(m.style({opacity:100}),t._hideOutOfRangeInsideTickLabels&&t._hideOutOfRangeInsideTickLabels())}else{var y=d.bBox(u.node()).width*({end:-.5,start:.5})[f];u.attr("transform",p+s(y,0))}})}v.enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each(function(t){var n=r.select(this),a=e._promises.length;n.call(c.positionText,$.xFn(t),$.yFn(t)).call(d.font,t.font,t.fontSize,t.fontColor).text(t.text).call(c.convertToTspans,e),e._promises[a]?m.push(e._promises.pop().then(function(){y(n,h)})):y(n,h)}),v.exit().remove(),n.repositionOnUpdate&&v.each(function(e){r.select(this).select("text").call(c.positionText,$.xFn(e),$.yFn(e))}),t._hideOutOfRangeInsideTickLabels=void 0,-1!==(t.ticklabelposition||"").indexOf("inside")&&(t._hideOutOfRangeInsideTickLabels=function(){var e=l.simpleMap(t.range,t.r2l),n=t.l2p(e[0]),a=t.l2p(e[1]),i=Math.min(n,a)+t._offset,o=Math.max(n,a)+t._offset,s="x"===t._id.charAt(0);v.each(function(e){var n=r.select(this);if(n.select(".text-math-group").empty()){var a=d.bBox(n.node()),l=!1;s?(a.right>o||a.left<i)&&(l=!0):(a.bottom>o||a.top+(t.tickangle?0:e.fontSize/4)<i)&&(l=!0),l&&n.select("text").style({opacity:0})}})}),y(v,g+1?g:h);var _=null;t._selections&&(t._selections[f]=v);var x=[function(){return m.length&&Promise.all(m)}];t.automargin&&i._redrawFromAutoMarginCount&&90===g?(_=90,x.push(function(){y(v,g)})):x.push(function(){if(y(v,h),p.length&&"x"===u&&!a(h)&&("log"!==t.type||"D"!==String(t.dtick).charAt(0))){_=0;var e,r=0,i=[];if(v.each(function(e){r=Math.max(r,e.fontSize);var n=t.l2p(e.x),a=ep(this),o=d.bBox(a.node());i.push({top:0,bottom:10,height:10,left:n-o.width/2,right:n+o.width/2+2,width:o.width+2})}),"boundaries"!==t.tickson&&!t.showdividers||n.secondary){var o=p.length,s=Math.abs((p[o-1].x-p[0].x)*t._m)/(o-1),c=t.ticklabelposition||"",f=function(e){return -1!==c.indexOf(e)},$=f("top"),g=f("left"),m=f("right"),x=f("bottom")||g||$||m?(t.tickwidth||0)+6:0,b=s<2.5*r||"multicategory"===t.type;for(e=0;e<i.length-1;e++)if(l.bBoxIntersect(i[e],i[e+1],x)){_=b?90:30;break}}else{var w=2;for(t.ticks&&(w+=t.tickwidth/2),e=0;e<i.length;e++){var k=p[e].xbnd,T=i[e];if(null!==k[0]&&T.left-t.l2p(k[0])<w||null!==k[1]&&t.l2p(k[1])-T.right<w){_=90;break}}}_&&y(v,_)}}),t._tickAngles&&x.push(function(){t._tickAngles[f]=null===_?a(h)?h:0:_});var b=t._anchorAxis;b&&b.autorange&&-1!==(t.ticklabelposition||"").indexOf("inside")&&!V(i,t._id)&&(i._insideTickLabelsAutorange||(i._insideTickLabelsAutorange={}),i._insideTickLabelsAutorange[b._name+".autorange"]=b.autorange,x.push(function(){v.each(function(e,n){var r=ep(this);t._vals[n].bb=d.bBox(r.node())})}));var w=l.syncOrAsync(x);return w&&w.then&&e._promises.push(w),w},F.getPxPosition=function(e,t){var n,r=e._fullLayout._size,a=t._id.charAt(0),i=t.side;return"free"!==t.anchor?n=t._anchorAxis:"x"===a?n={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:"y"===a&&(n={_offset:r.l+(t.position||0)*r.w,_length:0}),"top"===i||"left"===i?n._offset:"bottom"===i||"right"===i?n._offset+n._length:void 0},F.shouldShowZeroLine=function(e,t,n){var r=l.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&!(t.rangebreaks&&t.maskBreaks(0)===D)&&(ed(t,0)||!function(e,t,n,r){var a=n._mainAxis;if(a){var i=e._fullLayout,o=t._id.charAt(0),l=F.counterLetter(t._id),s=t._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===o)?0:t._length),c=i._plots[n._mainSubplot];if(!(c.mainplotinfo||c).overlays.length)return p(n);for(var u=F.list(e,l),f=0;f<u.length;f++){var d=u[f];if(d._mainAxis===a&&p(d))return!0}}function p(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"==typeof e&&Math.abs(e-s)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var a=e._linepositions||{};for(var i in a)if(r(a[i][0])||r(a[i][1]))return!0}}(e,t,n,r)||function(e,t){for(var n=e._fullData,r=t._mainSubplot,a=t._id.charAt(0),i=0;i<n.length;i++){var l=n[i];if(!0===l.visible&&l.xaxis+l.yaxis===r&&(o.traceIs(l,"bar-like")&&l.orientation===({x:"h",y:"v"})[a]||l.fill&&l.fill.charAt(l.fill.length-1)===a))return!0}return!1}(e,t))},F.clipEnds=function(e,t){return t.filter(function(t){return ed(e,t.x)})},F.allowAutoMargin=function(e){for(var t=F.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(i.allowAutoMargin(e,e$(r)),r.mirror&&i.allowAutoMargin(e,eh(r))),o.getComponentMethod("rangeslider","isVisible")(r)&&i.allowAutoMargin(e,eg(r))}},F.swap=function(e,t){for(var n=function(e,t){var n,r,a=[];for(n=0;n<t.length;n++){var i=[],o=e._fullData[t[n]].xaxis,l=e._fullData[t[n]].yaxis;if(o&&l){for(r=0;r<a.length;r++)-1===a[r].x.indexOf(o)&&-1===a[r].y.indexOf(l)||i.push(r);if(i.length){var s,c=a[i[0]];if(i.length>1)for(r=1;r<i.length;r++)s=a[i[r]],ev(c.x,s.x),ev(c.y,s.y);ev(c.x,[o]),ev(c.y,[l])}else a.push({x:[o],y:[l]})}}return a}(e,t),r=0;r<n.length;r++)em(e,n[r].x,n[r].y)}},{"../../components/color":75,"../../components/drawing":97,"../../components/titles":170,"../../constants/alignment":177,"../../constants/numerical":181,"../../lib":202,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../../registry":290,"./autorange":247,"./axis_autotype":249,"./axis_ids":251,"./clean_ticks":253,"./layout_attributes":262,"./set_convert":268,d3:9,"fast-isnumeric":11}],249:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../../constants/numerical").BADNUM,o=a.isArrayOrTypedArray,l=a.isDateTime,s=a.cleanNumber,c=Math.round;function u(e,t){return t?r(e):"number"==typeof e}function f(e){return Math.max(1,(e-1)/1e3)}t.exports=function(e,t,n){var a,d=e,p=n.noMultiCategory;if(o(d)&&!d.length)return"-";if(!p&&o((a=d)[0])&&o(a[1]))return"multicategory";if(p&&Array.isArray(d[0])){for(var $=[],h=0;h<d.length;h++)if(o(d[h]))for(var g=0;g<d[h].length;g++)$.push(d[h][g]);d=$}if(function(e,t){for(var n=e.length,a=f(n),i=0,o=0,s={},u=0;u<n;u+=a){var d=e[c(u)],p=String(d);s[p]||(s[p]=1,l(d,t)&&i++,r(d)&&o++)}return i>2*o}(d,t))return"date";var v="strict"!==n.autotypenumbers;return!function(e,t){for(var n=e.length,r=f(n),a=0,o=0,l={},u=0;u<n;u+=r){var d=e[c(u)],p=String(d);if(!l[p]){l[p]=1;var $=typeof d;"boolean"===$?o++:(t?s(d)!==i:"number"===$)?a++:"string"===$&&o++}}return o>2*a}(d,v)?!function(e,t){for(var n=e.length,r=0;r<n;r++)if(u(e[r],t))return!0;return!1}(d,v)?"-":"linear":"category"}},{"../../constants/numerical":181,"../../lib":202,"fast-isnumeric":11}],250:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../registry"),i=e("../../lib"),o=e("../array_container_defaults"),l=e("./layout_attributes"),s=e("./tick_value_defaults"),c=e("./tick_mark_defaults"),u=e("./tick_label_defaults"),f=e("./category_order_defaults"),d=e("./line_grid_defaults"),p=e("./set_convert"),$=e("./constants").WEEKDAY_PATTERN,h=e("./constants").HOUR_PATTERN;function g(e,t,n){function a(n,r){return i.coerce(e,t,l.rangebreaks,n,r)}if(a("enabled")){var o=a("bounds");if(o&&o.length>=2){var s,c,u="";if(2===o.length){for(s=0;s<2;s++)if(c=m(o[s])){u=$;break}}var f=a("pattern",u);if(f===$)for(s=0;s<2;s++)(c=m(o[s]))&&(t.bounds[s]=o[s]=c-1);if(f)for(s=0;s<2;s++)switch(c=o[s],f){case $:if(!r(c)||(c=+c)!==Math.floor(c)||c<0||c>=7)return void(t.enabled=!1);t.bounds[s]=o[s]=c;break;case h:if(!r(c)||(c=+c)<0||c>24)return void(t.enabled=!1);t.bounds[s]=o[s]=c}if(!1===n.autorange){var d=n.range;if(d[0]<d[1]){if(o[0]<d[0]&&o[1]>d[1])return void(t.enabled=!1)}else if(o[0]>d[0]&&o[1]<d[1])return void(t.enabled=!1)}}else{var p=a("values");if(!p||!p.length)return void(t.enabled=!1);a("dvalue")}}}t.exports=function(e,t,n,r,h){var v,m=r.letter,y=r.font||{},_=r.splomStash||{},x=n("visible",!r.visibleDflt),b=t._template||{},w=t.type||b.type||"-";"date"===w&&(a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",r.calendar),r.noTicklabelmode||(v=n("ticklabelmode"))),r.noTicklabelposition&&"multicategory"!==w||i.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===v?["outside","inside"]:"x"===m?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),p(t,h);var k=!t.isValidRange(e.range);k&&r.reverseDflt&&(k="reversed"),n("autorange",k)&&("linear"===w||"-"===w)&&n("rangemode"),n("range"),t.cleanRange(),f(e,t,n,r),"category"===w||r.noHover||n("hoverformat");var T=n("color"),A=T!==l.color.dflt?T:y.color,L=_.label||h._dfltTitle[m];if(u(e,t,n,w,r,{pass:1}),!x)return t;n("title.text",L),i.coerceFont(n,"title.font",{family:y.family,size:Math.round(1.2*y.size),color:A}),s(e,t,n,w),u(e,t,n,w,r,{pass:2}),c(e,t,n,r),d(e,t,n,{dfltColor:T,bgColor:r.bgColor,showGrid:r.showGrid,attributes:l}),(t.showline||t.ticks)&&n("mirror"),r.automargin&&n("automargin");var C,S="multicategory"===w;if(!r.noTickson&&("category"===w||S)&&(t.ticks||t.showgrid)&&(S&&(C="boundaries"),"boundaries"!==n("tickson",C)||delete t.ticklabelposition),S&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===w){if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),t.rangebreaks.length){for(var M=0;M<t.rangebreaks.length;M++)if(t.rangebreaks[M].pattern===$){t._hasDayOfWeekBreaks=!0;break}if(p(t,h),h._has("scattergl")||h._has("splom"))for(var O=0;O<r.data.length;O++){var D=r.data[O];"scattergl"!==D.type&&"splom"!==D.type||(D.visible=!1,i.warn(D.type+" traces do not work on axes with rangebreaks. Setting trace "+D.index+" to `visible: false`."))}}else delete t.rangebreaks}return t};var v={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(e){if("string"==typeof e)return v[e.substr(0,3).toLowerCase()]}},{"../../lib":202,"../../registry":290,"../array_container_defaults":243,"./category_order_defaults":252,"./constants":254,"./layout_attributes":262,"./line_grid_defaults":264,"./set_convert":268,"./tick_label_defaults":269,"./tick_mark_defaults":270,"./tick_value_defaults":271,"fast-isnumeric":11}],251:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("./constants");function i(e,t){if(t&&t.length){for(var n=0;n<t.length;n++)if(t[n][e])return!0}return!1}n.id2name=function(e){if("string"==typeof e&&e.match(a.AX_ID_PATTERN)){var t=e.split(" ")[0].substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(a.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t,n){var r=/( domain)$/.test(e);if("string"==typeof e&&e.match(a.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)&&(!r||n)){var i=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),e.charAt(0)+i+(r&&n?" domain":"")}},n.list=function(e,t,r){var a=e._fullLayout;if(!a)return[];var i,o=n.listIds(e,t),l=Array(o.length);for(i=0;i<o.length;i++){var s=o[i];l[i]=a[s.charAt(0)+"axis"+s.substr(1)]}if(!r){var c=a._subplots.gl3d||[];for(i=0;i<c.length;i++){var u=a[c[i]];t?l.push(u[t+"axis"]):l.push(u.xaxis,u.yaxis,u.zaxis)}}return l},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var a=e._fullLayout;return t=void 0===t||"string"!=typeof t?t:t.replace(" domain",""),"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),a[n.id2name(t)]},n.getFromTrace=function(e,t,a){var i=e._fullLayout,o=null;if(r.traceIs(t,"gl3d")){var l=t.scene;"scene"===l.substr(0,5)&&(o=i[l][a+"axis"])}else o=n.getFromId(e,t[a+"axis"]||a);return o},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)},n.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},n.isLinked=function(e,t){return i(t,e._axisMatchGroups)||i(t,e._axisConstraintGroups)}},{"../../registry":290,"./constants":254}],252:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){if("category"===t.type){var a,i=e.categoryarray,o=Array.isArray(i)&&i.length>0;o&&(a="array");var l,s=n("categoryorder",a);"array"===s&&(l=n("categoryarray")),o||"array"!==s||(s=t.categoryorder="trace"),"trace"===s?t._initialCategories=[]:"array"===s?t._initialCategories=l.slice():(l=(function(e,t){var n,r,a,i=t.dataAttr||e._id.charAt(0),o={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var l=t.data[r];l[i+"axis"]===e._id&&n.push(l)}for(r=0;r<n.length;r++){var s=n[r][i];for(a=0;a<s.length;a++){var c=s[a];null!=c&&(o[c]=1)}}return Object.keys(o)})(t,r).sort(),"category ascending"===s?t._initialCategories=l:"category descending"===s&&(t._initialCategories=l.reverse()))}}},{}],253:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../../constants/numerical"),o=i.ONEDAY,l=i.ONEWEEK;n.dtick=function(e,t){var n="log"===t,a="date"===t,i=a?o:1;if(!e)return i;if(r(e))return(e=Number(e))<=0?i:"category"===t?Math.max(1,Math.round(e)):a?Math.max(.1,e):e;if("string"!=typeof e||!a&&!n)return i;var l=e.charAt(0),s=e.substr(1);return(s=r(s)?Number(s):0)<=0||!(a&&"M"===l&&s===Math.round(s)||n&&"L"===l||n&&"D"===l&&(1===s||2===s))?i:e},n.tick0=function(e,t,n,i){return"date"===t?a.cleanDate(e,a.dateTick0(n,i%l==0?1:0)):"D1"!==i&&"D2"!==i?r(e)?Number(e):0:void 0}},{"../../constants/numerical":181,"../../lib":202,"fast-isnumeric":11}],254:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":218}],255:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./autorange"),i=e("./axis_ids").id2name,o=e("./layout_attributes"),l=e("./scale_zoom"),s=e("./set_convert"),c=e("../../constants/numerical").ALMOST_EQUAL,u=e("../../constants/alignment").FROM_BL;function f(e,t,n){var a=n.axIds,l=n.layoutOut,s=n.hasImage,c=l._axisConstraintGroups,u=l._axisMatchGroups,f=t._id,h=f.charAt(0),g=((l._splomAxes||{})[h]||{})[f]||{},v=t._id,m="x"===v.charAt(0);function y(n,a){return r.coerce(e,t,o,n,a)}t._matchGroup=null,t._constraintGroup=null,y("constrain",s?"domain":"range"),r.coerce(e,t,{constraintoward:{valType:"enumerated",values:m?["left","center","right"]:["bottom","middle","top"],dflt:m?"center":"middle"}},"constraintoward");var _,x,b=t.type,w=[];for(_=0;_<a.length;_++)(x=a[_])!==v&&l[i(x)].type===b&&w.push(x);var k=p(c,v);if(k){var T=[];for(_=0;_<w.length;_++)k[x=w[_]]||T.push(x);w=T}var A,L,C=w.length;C&&(e.matches||g.matches)&&(A=r.coerce(e,t,{matches:{valType:"enumerated",values:w,dflt:-1!==w.indexOf(g.matches)?g.matches:void 0}},"matches"));var S=s&&!m?t.anchor:void 0;if(C&&!A&&(e.scaleanchor||S)&&(L=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:w}},"scaleanchor",S)),A){t._matchGroup=$(u,v,A,1);var M=l[i(A)],O=d(l,t)/d(l,M);m!==("x"===A.charAt(0))&&(O=(m?"x":"y")+O),$(c,v,A,O)}else e.matches&&-1!==a.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(L){var D=y("scaleratio");D||(D=t.scaleratio=1),$(c,v,L,D)}else e.scaleanchor&&-1!==a.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(e,t){var n=t.domain;return n||(n=e[i(t.overlaying)].domain),n[1]-n[0]}function p(e,t){for(var n=0;n<e.length;n++)if(e[n][t])return e[n];return null}function $(e,t,n,r){var a,i,o,l,s,c=p(e,t);null===c?((c={})[t]=1,s=e.length,e.push(c)):s=e.indexOf(c);var u=Object.keys(c);for(a=0;a<e.length;a++)if(o=e[a],a!==s&&o[n]){var f=o[n];for(i=0;i<u.length;i++)o[l=u[i]]=h(f,h(r,c[l]));return void e.splice(s,1)}if(1!==r)for(i=0;i<u.length;i++){var d=u[i];c[d]=h(r,c[d])}c[n]=1}function h(e,t){var n,r,a="",i="";"string"==typeof e&&(n=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(n)),"string"==typeof t&&(r=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(r));var o=e*t;return n||r?n&&r&&a.charAt(0)!==i.charAt(0)?n===r?o:(n>r?a.substr(r):i.substr(n))+o:a+i+e*t:o}function g(e,t){for(var n=t._size,r=n.h/n.w,a={},i=Object.keys(e),o=0;o<i.length;o++){var l=i[o],s=e[l];if("string"==typeof s){var c=s.match(/^[xy]*/)[0],u=c.length;s=+s.substr(u);for(var f="y"===c.charAt(0)?r:1/r,d=0;d<u;d++)s*=f}a[l]=s}return a}function v(e,t){var n=e._inputDomain,r=u[e.constraintoward],a=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[a+(n[0]-a)/t,a+(n[1]-a)/t],e.setScale()}n.handleDefaults=function(e,t,n){var a,o,l,c,u,d,p,$,h=n.axIds,g=n.axHasImage,v=t._axisConstraintGroups=[],m=t._axisMatchGroups=[];for(a=0;a<h.length;a++)f(u=e[c=i(h[a])],d=t[c],{axIds:h,layoutOut:t,hasImage:g[c]});function y(e,n){for(a=0;a<e.length;a++)for(l in o=e[a])t[i(l)][n]=o}for(y(m,"_matchGroup"),a=0;a<v.length;a++)for(l in o=v[a])if((d=t[i(l)]).fixedrange){for(var _ in o){var x=i(_);!1===(e[x]||{}).fixedrange&&r.warn("fixedrange was specified as false for axis "+x+" but was overridden because another axis in its constraint group has fixedrange true"),t[x].fixedrange=!0}break}for(a=0;a<v.length;){for(l in o=v[a]){(d=t[i(l)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(o).length&&(v.splice(a,1),a--);break}a++}y(v,"_constraintGroup");var b=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],w=!1,k=!1;function T(){$=d[p],"rangebreaks"===p&&(k=d._hasDayOfWeekBreaks)}for(a=0;a<m.length;a++){o=m[a];for(var A,L=0;L<b.length;L++){for(l in p=b[L],$=null,o)if(u=e[c=i(l)],p in(d=t[c])){if(!d.matches&&(A=d,p in u)){T();break}null===$&&p in u&&T()}if("range"===p&&$&&(w=!0),"autorange"===p&&null===$&&w&&($=!1),null===$&&p in A&&($=A[p]),null!==$)for(l in o)(d=t[i(l)])[p]="range"===p?$.slice():$,"rangebreaks"===p&&(d._hasDayOfWeekBreaks=k,s(d,t))}}},n.enforce=function(e){var t,n,r,o,s,u,f,d,p=e._fullLayout,$=p._axisConstraintGroups||[];for(t=0;t<$.length;t++){var h=Object.keys(r=g($[t],p)),m=1/0,y=0,_=1/0,x={},b={},w=!1;for(n=0;n<h.length;n++)b[o=h[n]]=s=p[i(o)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),x[o]=u=Math.abs(s._m)/r[o],m=Math.min(m,u),"domain"!==s.constrain&&s._constraintShrinkable||(_=Math.min(_,u)),delete s._constraintShrinkable,y=Math.max(y,u),"domain"===s.constrain&&(w=!0);if(!(m>c*y)||w){for(n=0;n<h.length;n++)if(u=x[o=h[n]],f=(s=b[o]).constrain,u!==_||"domain"===f){if(d=u/_,"range"===f)l(s,d);else{var k=s._inputDomain,T=(s.domain[1]-s.domain[0])/(k[1]-k[0]),A=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((d/=T)*A<1){s.domain=s._input.domain=k.slice(),l(s,d);continue}if(A<1&&(s.range=s._input.range=s._inputRange.slice(),d*=A),s.autorange){var L=s.r2l(s.range[0]),C=s.r2l(s.range[1]),S=(L+C)/2,M=S,O=S,D=Math.abs(C-S),P=S-D*d*1.0001,z=S+D*d*1.0001,R=a.makePadFn(p,s,0),I=a.makePadFn(p,s,1);v(s,d);var E,F,N=Math.abs(s._m),H=a.concatExtremes(e,s),B=H.min,V=H.max;for(F=0;F<B.length;F++)(E=B[F].val-R(B[F])/N)>P&&E<M&&(M=E);for(F=0;F<V.length;F++)(E=V[F].val+I(V[F])/N)<z&&E>O&&(O=E);d/=(O-M)/(2*D),M=s.l2r(M),O=s.l2r(O),s.range=s._input.range=L<C?[M,O]:[O,M]}v(s,d)}}}}},n.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return"g"+r;return t},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,a=e._fullLayout._axisConstraintGroups,i=0;i<a.length;i++)if(a[i][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":177,"../../constants/numerical":181,"../../lib":202,"./autorange":247,"./axis_ids":251,"./layout_attributes":262,"./scale_zoom":266,"./set_convert":268}],256:[function(e,t,n){"use strict";var r=e("d3"),a=e("tinycolor2"),i=e("has-passive-events"),o=e("../../registry"),l=e("../../lib"),s=l.strTranslate,c=e("../../lib/svg_text_utils"),u=e("../../components/color"),f=e("../../components/drawing"),d=e("../../components/fx"),p=e("./axes"),$=e("../../lib/setcursor"),h=e("../../components/dragelement"),g=e("../../components/dragelement/helpers"),v=g.selectingOrDrawing,m=g.freeMode,y=e("../../constants/alignment").FROM_TL,_=e("../../lib/clear_gl_canvases"),x=e("../../plot_api/subroutines").redrawReglTraces,b=e("../plots"),w=e("./axis_ids").getFromId,k=e("./select").prepSelect,T=e("./select").clearSelect,A=e("./select").selectOnClick,L=e("./scale_zoom"),C=e("./constants"),S=C.MINDRAG,M=C.MINZOOM,O=!0;function D(e,t,n,r){var a=l.ensureSingle(e.draglayer,t,n,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call($,r),a.node()}function P(e,t,n,a,i,o,l){var s=D(e,"rect",t,n);return r.select(s).call(f.setRect,a,i,o,l),s}function z(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function R(e,t,n,r,a){for(var i=0;i<e.length;i++){var o=e[i];if(!o.fixedrange){if(o.rangebreaks){var l="y"===o._id.charAt(0),s=l?1-t:t,c=l?1-n:n;r[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length)),r[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],f=o._rl[1]-u;r[o._name+".range[0]"]=o.l2r(u+f*t),r[o._name+".range[1]"]=o.l2r(u+f*n)}}}if(a&&a.length){var d=(t+(1-n))/2;R(a,d,1-d,r,[])}}function I(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.fixedrange){if(r.rangebreaks){var a=r._length,i=(r.p2l(0+t)-r.p2l(0)+(r.p2l(a+t)-r.p2l(a)))/2;r.range=[r.l2r(r._rl[0]-i),r.l2r(r._rl[1]-i)]}else r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)]}}}function E(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function F(e,t,n,r,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(n,r)).attr("d",a+"Z")}function N(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(t,n)).attr("d","M0,0Z")}function H(e,t,n,r,a,i){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),B(e,t,a,i)}function B(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function V(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function j(e){O&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),O=!1)}function U(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,M)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function q(e,t,n,r,a){for(var i,o,s,c,u=!1,f={},d={},p=(a||{}).xaHash,$=(a||{}).yaHash,h=0;h<t.length;h++){var g=t[h];for(i in n)if(g[i]){for(s in g)a&&(p[s]||$[s])||("x"===s.charAt(0)?n:r)[s]||(f[s]=i);for(o in r)a&&(p[o]||$[o])||!g[o]||(u=!0)}for(o in r)if(g[o])for(c in g)a&&(p[c]||$[c])||("x"===c.charAt(0)?n:r)[c]||(d[c]=o)}u&&(l.extendFlat(f,d),d={});var v={},m=[];for(s in f){var y=w(e,s);m.push(y),v[y._id]=y}var _={},x=[];for(c in d){var b=w(e,c);x.push(b),_[b._id]=b}return{xaHash:v,yaHash:_,xaxes:m,yaxes:x,xLinks:f,yLinks:d,isSubplotConstrained:u}}function G(e,t){if(i){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function Z(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:function(e,t,n,i,s,u,$,g){var O,D,B,Y,X,W,Q,J,K,ee,et,en,er,ea,ei,eo,el,es,ec,eu,ef,ed,ep,e$=e._fullLayout._zoomlayer,eh=$+g==="nsew",eg=1===($+g).length;function ev(){if(O=t.xaxis,D=t.yaxis,K=O._length,ee=D._length,Q=O._offset,J=D._offset,(B={})[O._id]=O,(Y={})[D._id]=D,$&&g)for(var n=t.overlays,r=0;r<n.length;r++){var a=n[r].xaxis;B[a._id]=a;var i=n[r].yaxis;Y[i._id]=i}X=Z(B),W=Z(Y),er=z(X,g),ei=!(ea=z(W,$))&&!er,en=q(e,e._fullLayout._axisMatchGroups,B,Y);var o=(et=q(e,e._fullLayout._axisConstraintGroups,B,Y,en)).isSubplotConstrained||en.isSubplotConstrained;eo=g||o,el=$||o;var l=e._fullLayout;es=l._has("scattergl"),ec=l._has("splom"),eu=l._has("svg")}ev();var em=(e_=ea+er,ex=e._fullLayout.dragmode,eb=eh,e_?"nsew"===e_?eb?"":"pan"===ex?"move":"crosshair":e_.toLowerCase()+"-resize":"pointer"),ey=P(t,$+g+"drag",em,n,i,s,u);if(ei&&!eh)return ey.onmousedown=null,ey.style.pointerEvents="none",ey;var e_,ex,eb,e8,e0,ew,ek,eT,e1,e3,eA,e4,e2,eL={element:ey,gd:e,plotinfo:t};function e6(){eL.plotinfo.selection=!1,T(e)}function eC(n,a){var i=eL.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var l=i._fullLayout.clickmode;if(V(i),2!==n||eg||function t(){if(!e._transitioningWithDuration){var n=e._context.doubleClick,r=[];er&&(r=r.concat(X)),ea&&(r=r.concat(W)),en.xaxes&&(r=r.concat(en.xaxes)),en.yaxes&&(r=r.concat(en.yaxes));var a,i,l,s={};if("reset+autosize"===n){for(n="autosize",i=0;i<r.length;i++)if((a=r[i])._rangeInitial&&(a.range[0]!==a._rangeInitial[0]||a.range[1]!==a._rangeInitial[1])||!a._rangeInitial&&!a.autorange){n="reset";break}}if("autosize"===n)for(i=0;i<r.length;i++)(a=r[i]).fixedrange||(s[a._name+".autorange"]=!0);else if("reset"===n)for((er||et.isSubplotConstrained)&&(r=r.concat(et.xaxes)),ea&&!et.isSubplotConstrained&&(r=r.concat(et.yaxes)),et.isSubplotConstrained&&(er?ea||(r=r.concat(W)):r=r.concat(X)),i=0;i<r.length;i++)(a=r[i]).fixedrange||(a._rangeInitial?(l=a._rangeInitial,s[a._name+".range[0]"]=l[0],s[a._name+".range[1]"]=l[1]):s[a._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,s)}}(),eh)l.indexOf("select")>-1&&A(a,i,X,W,t.id,eL),l.indexOf("event")>-1&&d.click(i,a,t.id);else if(1===n&&eg){var s,u,f,p,h,v=$?D:O,m="s"===$||"w"===g?0:1,y=v._name+".range["+m+"]",_=(s=v,u=m,h=Math.abs((p=s.range[u])-s.range[1-u]),"date"===s.type?p:"log"===s.type?(f=Math.ceil(Math.max(0,-Math.log(h)/Math.LN10))+3,r.format("."+f+"g")(Math.pow(10,p))):(f=Math.floor(Math.log(Math.abs(p))/Math.LN10)-Math.floor(Math.log(h)/Math.LN10)+4,r.format("."+String(f)+"g")(p))),x="left",b="middle";if(v.fixedrange)return;$?(b="n"===$?"top":"bottom","right"===v.side&&(x="right")):"e"===g&&(x="right"),i._context.showAxisRangeEntryBoxes&&r.select(ey).call(c.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(_),fill:v.tickfont?v.tickfont.color:"#444",horizontalAlign:x,verticalAlign:b}).on("edit",function(e){var t=v.d2r(e);void 0!==t&&o.call("_guiRelayout",i,y,t)})}}}function eS(t,n){if(e._transitioningWithDuration)return!1;var r,a,i,o,l=Math.max(0,Math.min(K,ed*t+e8)),s=Math.max(0,Math.min(ee,ep*n+e0)),c=Math.abs(l-e8),u=Math.abs(s-e0);function f(){e3="",ew.r=ew.l,ew.t=ew.b,e4.attr("d","M0,0Z")}if(ew.l=Math.min(e8,l),ew.r=Math.max(e8,l),ew.t=Math.min(e0,s),ew.b=Math.max(e0,s),et.isSubplotConstrained)c>M||u>M?(e3="xy",c/K>u/ee?(u=c*ee/K,e0>s?ew.t=e0-u:ew.b=e0+u):(c=u*K/ee,e8>l?ew.l=e8-c:ew.r=e8+c),e4.attr("d",U(ew))):f();else if(en.isSubplotConstrained){if(c>M||u>M){e3="xy";var d=Math.min(ew.l/K,(ee-ew.b)/ee),p=Math.max(ew.r/K,(ee-ew.t)/ee);ew.l=d*K,ew.r=p*K,ew.b=(1-d)*ee,ew.t=(1-p)*ee,e4.attr("d",U(ew))}else f()}else!ea||u<Math.min(Math.max(.6*c,S),M)?c<S||!er?f():(ew.t=0,ew.b=ee,e3="x",e4.attr("d",(r=ew,a=e0,"M"+(r.l-.5)+","+(a-M-.5)+"h-3v"+(2*M+1)+"h3ZM"+(r.r+.5)+","+(a-M-.5)+"h3v"+(2*M+1)+"h-3Z"))):!er||c<Math.min(.6*u,M)?(ew.l=0,ew.r=K,e3="y",e4.attr("d",(i=ew,"M"+((o=e8)-M-.5)+","+(i.t-.5)+"v-3h"+(2*M+1)+"v3ZM"+(o-M-.5)+","+(i.b+.5)+"v3h"+(2*M+1)+"v-3Z"))):(e3="xy",e4.attr("d",U(ew)));ew.w=ew.r-ew.l,ew.h=ew.b-ew.t,e3&&(e2=!0),e._dragged=e2,H(eA,e4,ew,eT,e1,ek),e5(),e.emit("plotly_relayouting",ef),e1=!0}function e5(){ef={},"xy"!==e3&&"x"!==e3||(R(X,ew.l/K,ew.r/K,ef,et.xaxes),eR("x",ef)),"xy"!==e3&&"y"!==e3||(R(W,(ee-ew.b)/ee,(ee-ew.t)/ee,ef,et.yaxes),eR("y",ef))}function e7(){e5(),V(e),eE(),j(e)}eL.prepFn=function(t,n,r){var i,o,s,c,u=eL.dragmode,f=e._fullLayout.dragmode;f!==u&&(eL.dragmode=f),ev(),ed=e._fullLayout._invScaleX,ep=e._fullLayout._invScaleY,ei||(eh?t.shiftKey?"pan"===f?f="zoom":v(f)||(f="pan"):t.ctrlKey&&(f="pan"):f="pan"),m(f)?eL.minDrag=1:eL.minDrag=void 0,v(f)?(eL.xaxes=X,eL.yaxes=W,k(t,n,r,eL,f)):(eL.clickFn=eC,v(u)&&e6(),ei||("zoom"===f?(eL.moveFn=eS,eL.doneFn=e7,eL.minDrag=1,i=n,o=r,e8=i-(s=ey.getBoundingClientRect()).left,e0=o-s.top,e._fullLayout._calcInverseTransform(e),ew={l:e8=(c=l.apply3DTransform(e._fullLayout._invTransform)(e8,e0))[0],r:e8,w:0,t:e0=c[1],b:e0,h:0},ek=e._hmpixcount?e._hmlumcount/e._hmpixcount:a(e._fullLayout.plot_bgcolor).getLuminance(),e1=!1,e3="xy",e2=!1,eA=F(e$,ek,Q,J,eT="M0,0H"+K+"V"+ee+"H0V0"),e4=N(e$,Q,J)):"pan"===f&&(eL.moveFn=ez,eL.doneFn=eE))),e._fullLayout._redrag=function(){var t=e._dragdata;t&&t.element===ey&&(v(e._fullLayout.dragmode)||(ev(),eF([0,0,K,ee]),eL.moveFn(t.dx,t.dy)))}},h.init(eL);var eM=[0,0,K,ee],eO=null,eD=C.REDRAWDELAY,eP=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function ez(t,n){if(t*=ed,n*=ep,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===er||"ns"===ea){var r,a=er?-t:0,i=ea?-n:0;if(en.isSubplotConstrained){if(er&&ea){var o=(t/K-n/ee)/2;a=-(t=o*K),i=-(n=-o*ee)}ea?a=-i*K/ee:i=-a*ee/K}return er&&(I(X,t),eR("x")),ea&&(I(W,n),eR("y")),eF([a,i,K,ee]),eI(),void e.emit("plotly_relayouting",ef)}var l,s,c="w"===er==("n"===ea)?1:-1;if(er&&ea&&(et.isSubplotConstrained||en.isSubplotConstrained)){var u=(t/K+c*n/ee)/2;t=u*K,n=c*u*ee}if("w"===er?t=p(X,0,t):"e"===er?t=p(X,1,-t):er||(t=0),"n"===ea?n=p(W,1,n):"s"===ea?n=p(W,0,-n):ea||(n=0),l="w"===er?t:0,s="n"===ea?n:0,et.isSubplotConstrained&&!en.isSubplotConstrained||en.isSubplotConstrained&&er&&ea&&c>0){if(en.isSubplotConstrained||!er&&1===ea.length){for(r=0;r<X.length;r++)X[r].range=X[r]._r.slice(),L(X[r],1-n/ee);l=(t=n*K/ee)/2}if(en.isSubplotConstrained||!ea&&1===er.length){for(r=0;r<W.length;r++)W[r].range=W[r]._r.slice(),L(W[r],1-t/K);s=(n=t*ee/K)/2}}en.isSubplotConstrained&&ea||eR("x"),en.isSubplotConstrained&&er||eR("y");var f=K-t,d=ee-n;!en.isSubplotConstrained||er&&ea||(er?(s=l?0:t*ee/K,d=f*ee/K):(l=s?0:n*K/ee,f=d*K/ee)),eF([l,s,f,d]),eI(),e.emit("plotly_relayouting",ef)}function p(e,t,n){for(var r,a,i=1-t,o=0;o<e.length;o++){var l=e[o];if(!l.fixedrange){r=l,a=l._rl[i]+(l._rl[t]-l._rl[i])/E(n/l._length);var s=l.l2r(a);!1!==s&&void 0!==s&&(l.range[t]=s)}}return r._length*(r._rl[t]-a)/(r._rl[t]-r._rl[i])}}function eR(e,t){for(var n=en.isSubplotConstrained?({x:W,y:X})[e]:en[e+"axes"],r=en.isSubplotConstrained?({x:X,y:W})[e]:[],a=0;a<n.length;a++){var i=n[a],o=i._id,l=en.xLinks[o]||en.yLinks[o],s=r[0]||B[l]||Y[l];s&&(t?(t[i._name+".range[0]"]=t[s._name+".range[0]"],t[i._name+".range[1]"]=t[s._name+".range[1]"]):i.range=s.range.slice())}}function eI(){var t,n=[];function r(e){for(t=0;t<e.length;t++)e[t].fixedrange||n.push(e[t]._id)}for(eo&&(r(X),r(et.xaxes),r(en.xaxes)),el&&(r(W),r(et.yaxes),r(en.yaxes)),ef={},t=0;t<n.length;t++){var a=w(e,n[t]);p.drawOne(e,a,{skipTitle:!0}),ef[a._name+".range[0]"]=a.range[0],ef[a._name+".range[1]"]=a.range[1]}p.redrawComponents(e,n)}function eE(){eF([0,0,K,ee]),l.syncOrAsync([b.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,ef)}],e)}function eF(t){var n,r,a,i,s=e._fullLayout,c=s._plots,u=s._subplots.cartesian;if(ec&&o.subplotsRegistry.splom.drag(e),es){for(n=0;n<u.length;n++)if(a=(r=c[u[n]]).xaxis,i=r.yaxis,r._scene){var d=l.simpleMap(a.range,a.r2l),p=l.simpleMap(i.range,i.r2l);r._scene.update({range:[d[0],p[0],d[1],p[1]]})}}if((ec||es)&&(_(e),x(e)),eu){var h=t[2]/O._length,v=t[3]/D._length;for(n=0;n<u.length;n++){a=(r=c[u[n]]).xaxis,i=r.yaxis;var m,y,b,w,k=(eo||en.isSubplotConstrained)&&!a.fixedrange&&B[a._id],T=(el||en.isSubplotConstrained)&&!i.fixedrange&&Y[i._id];if(k?(m=h,b=g||en.isSubplotConstrained?t[0]:eB(a,m)):en.xaHash[a._id]?(m=h,b=t[0]*a._length/O._length):en.yaHash[a._id]?(m=v,b="ns"===ea?-t[1]*a._length/D._length:eB(a,m,{n:"top",s:"bottom"}[ea])):b=eH(a,m=eN(a,h,v)),T?(y=v,w=$||en.isSubplotConstrained?t[1]:eB(i,y)):en.yaHash[i._id]?(y=v,w=t[1]*i._length/D._length):en.xaHash[i._id]?(y=h,w="ew"===er?-t[0]*i._length/O._length:eB(i,y,{e:"right",w:"left"}[er])):w=eH(i,y=eN(i,h,v)),m||y){m||(m=1),y||(y=1);var A=a._offset-b/m,L=i._offset-w/y;r.clipRect.call(f.setTranslate,b,w).call(f.setScale,m,y),r.plot.call(f.setTranslate,A,L).call(f.setScale,1/m,1/y),m===r.xScaleFactor&&y===r.yScaleFactor||(f.setPointGroupScale(r.zoomScalePts,m,y),f.setTextPointsScale(r.zoomScaleTxt,m,y)),f.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=m,r.yScaleFactor=y}}}}function eN(e,t,n){return e.fixedrange?0:eo&&et.xaHash[e._id]?t:el&&(et.isSubplotConstrained?et.xaHash:et.yaHash)[e._id]?n:0}function eH(e,t){return t?(e.range=e._r.slice(),L(e,t),eB(e,t)):0}function eB(e,t,n){return e._length*(1-t)*y[n||e.constraintoward||"middle"]}return $.length*g.length!=1&&G(ey,function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(e6(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();ev(),clearTimeout(eO);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),isFinite(n)){var r,a=Math.exp(-Math.min(Math.max(n,-20),20)/200),i=eP.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-i.left)/i.width,s=(i.bottom-t.clientY)/i.height;if(eo){for(g||(o=.5),r=0;r<X.length;r++)c(X[r],o,a);eR("x"),eM[2]*=a,eM[0]+=eM[2]*o*(1/a-1)}if(el){for($||(s=.5),r=0;r<W.length;r++)c(W[r],s,a);eR("y"),eM[3]*=a,eM[1]+=eM[3]*(1-s)*(1/a-1)}eF(eM),eI(),e.emit("plotly_relayouting",ef),eO=setTimeout(function(){eM=[0,0,K,ee],eE()},eD),t.preventDefault()}else l.log("Did not find wheel motion attributes: ",t)}function c(e,t,n){if(!e.fixedrange){var r=l.simpleMap(e.range,e.r2l),a=r[0]+(r[1]-r[0])*t;e.range=r.map(function(t){return e.l2r(a+(t-a)*n)})}}}),ey},makeDragger:D,makeRectDragger:P,makeZoombox:F,makeCorners:N,updateZoombox:H,xyCorners:U,transitionZoombox:B,removeZoombox:V,showDoubleClickNotifier:j,attachWheelEventHandler:G}},{"../../components/color":75,"../../components/dragelement":94,"../../components/dragelement/helpers":93,"../../components/drawing":97,"../../components/fx":115,"../../constants/alignment":177,"../../lib":202,"../../lib/clear_gl_canvases":190,"../../lib/setcursor":222,"../../lib/svg_text_utils":224,"../../plot_api/subroutines":238,"../../registry":290,"../plots":282,"./axes":248,"./axis_ids":251,"./constants":254,"./scale_zoom":266,"./select":267,d3:9,"has-passive-events":43,tinycolor2:58}],257:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/fx"),i=e("../../components/dragelement"),o=e("../../lib/setcursor"),l=e("./dragbox").makeDragBox,s=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),a=n.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return t._plots[e].mainplot?1:-1}).forEach(function(n){var r=t._plots[n],o=r.xaxis,c=r.yaxis;if(!r.mainplot){var u=l(e,r,o._offset,c._offset,o._length,c._length,"ns","ew");u.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&a.hover(e,t,n)},a.hover(e,t,n),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=n},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},e._context.showAxisDragHandles&&(l(e,r,o._offset-s,c._offset-s,s,s,"n","w"),l(e,r,o._offset+o._length,c._offset-s,s,s,"n","e"),l(e,r,o._offset-s,c._offset+c._length,s,s,"s","w"),l(e,r,o._offset+o._length,c._offset+c._length,s,s,"s","e"))}if(e._context.showAxisDragHandles){if(n===o._mainSubplot){var f=o._mainLinePosition;"top"===o.side&&(f-=s),l(e,r,o._offset+.1*o._length,f,.8*o._length,s,"","ew"),l(e,r,o._offset,f,.1*o._length,s,"","w"),l(e,r,o._offset+.9*o._length,f,.1*o._length,s,"","e")}if(n===c._mainSubplot){var d=c._mainLinePosition;"right"!==c.side&&(d-=s),l(e,r,d,c._offset+.1*c._length,s,.8*c._length,"ns",""),l(e,r,d,c._offset+.9*c._length,s,.1*c._length,"s",""),l(e,r,d,c._offset,s,.1*c._length,"n","")}}});var o=t._hoverlayer.node();o.onmousemove=function(n){n.target=e._fullLayout._lasthover,a.hover(e,n,t._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,a.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";o(t._draggers,n)}},{"../../components/dragelement":94,"../../components/fx":115,"../../lib/setcursor":222,"./constants":254,"./dragbox":256,d3:9}],258:[function(e,t,n){"use strict";t.exports={clearOutlineControllers:function(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()},clearSelect:function(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),e._fullLayout._drawing=!1}}},{}],259:[function(e,t,n){"use strict";var r=e("../../lib").strTranslate;function a(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}t.exports={p2r:a,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return a(e,n[t])}},getTransform:function(e){return r(e.xaxis._offset,e.yaxis._offset)}}},{"../../lib":202}],260:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../lib"),i=e("./axis_ids");t.exports=function(e){return function(t,n){var o=t[e];if(Array.isArray(o))for(var l=r.subplotsRegistry.cartesian,s=l.idRegex,c=n._subplots,u=c.xaxis,f=c.yaxis,d=c.cartesian,p=n._has("cartesian")||n._has("gl2d"),$=0;$<o.length;$++){var h=o[$];if(a.isPlainObject(h)){var g=i.cleanId(h.xref,"x",!1),v=i.cleanId(h.yref,"y",!1),m=s.x.test(g),y=s.y.test(v);if(m||y){p||a.pushUnique(n._basePlotModules,l);var _=!1;m&&-1===u.indexOf(g)&&(u.push(g),_=!0),y&&-1===f.indexOf(v)&&(f.push(v),_=!0),_&&m&&y&&d.push(g+v)}}}}}},{"../../lib":202,"../../registry":290,"./axis_ids":251}],261:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../lib"),o=e("../plots"),l=e("../../components/drawing"),s=e("../get_data").getModuleCalcData,c=e("./axis_ids"),u=e("./constants"),f=e("../../constants/xmlns_namespaces"),d=i.ensureSingle;function p(e,t,n){return i.ensureSingle(e,t,n,function(e){e.datum(n)})}function $(e,t,n,i,o){for(var c,f,d,p=u.traceLayerClasses,$=e._fullLayout,h=$._modules,g=[],v=[],m=0;m<h.length;m++){var y=(c=h[m]).name,_=a.modules[y].categories;if(_.svg){var x=c.layerName||y+"layer",b=c.plot;d=(f=s(n,b))[0],n=f[1],d.length&&g.push({i:p.indexOf(x),className:x,plotMethod:b,cdModule:d}),_.zoomScale&&v.push("."+x)}}g.sort(function(e,t){return e.i-t.i});var w=t.plot.selectAll("g.mlayer").data(g,function(e){return e.className});if(w.enter().append("g").attr("class",function(e){return e.className}).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),w.exit().remove(),w.order(),w.each(function(n){var a=r.select(this),s=n.className;n.plotMethod(e,t,n.cdModule,a,i,o),-1===u.clipOnAxisFalseQuery.indexOf("."+s)&&l.setClipUrl(a,t.layerClipId,e)}),$._has("scattergl")&&(d=s(n,c=a.getModule("scattergl"))[0],c.plot(e,t,d)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),v.length)){var k=t.plot.selectAll(v.join(",")).selectAll(".trace");t.zoomScalePts=k.selectAll("path.point"),t.zoomScaleTxt=k.selectAll(".textpoint")}}function h(e,t){var n=t.plotgroup,r=t.id,a=u.layerValue2layerClass[t.xaxis.layer],i=u.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var l=t.mainplotinfo,s=l.plotgroup,f=r+"-x",$=r+"-y";t.gridlayer=l.gridlayer,t.zerolinelayer=l.zerolinelayer,d(l.overlinesBelow,"path",f),d(l.overlinesBelow,"path",$),d(l.overaxesBelow,"g",f),d(l.overaxesBelow,"g",$),t.plot=d(l.overplot,"g",r),d(l.overlinesAbove,"path",f),d(l.overlinesAbove,"path",$),d(l.overaxesAbove,"g",f),d(l.overaxesAbove,"g",$),t.xlines=s.select(".overlines-"+a).select("."+f),t.ylines=s.select(".overlines-"+i).select("."+$),t.xaxislayer=s.select(".overaxes-"+a).select("."+f),t.yaxislayer=s.select(".overaxes-"+i).select("."+$)}else if(o)t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.xaxislayer=d(n,"g","xaxislayer-above"),t.yaxislayer=d(n,"g","yaxislayer-above");else{var h=d(n,"g","layer-subplot");t.shapelayer=d(h,"g","shapelayer"),t.imagelayer=d(h,"g","imagelayer"),t.gridlayer=d(n,"g","gridlayer"),t.zerolinelayer=d(n,"g","zerolinelayer"),d(n,"path","xlines-below"),d(n,"path","ylines-below"),t.overlinesBelow=d(n,"g","overlines-below"),d(n,"g","xaxislayer-below"),d(n,"g","yaxislayer-below"),t.overaxesBelow=d(n,"g","overaxes-below"),t.plot=d(n,"g","plot"),t.overplot=d(n,"g","overplot"),t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.overlinesAbove=d(n,"g","overlines-above"),d(n,"g","xaxislayer-above"),d(n,"g","yaxislayer-above"),t.overaxesAbove=d(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+a),t.ylines=n.select(".ylines-"+i),t.xaxislayer=n.select(".xaxislayer-"+a),t.yaxislayer=n.select(".yaxislayer-"+i)}o||(p(t.gridlayer,"g",t.xaxis._id),p(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map(function(e){return e[0]}).sort(c.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var n={};for(var a in e.each(function(e){var a=e[0];r.select(this).remove(),v(a,t),n[a]=!0}),t._plots)for(var i=t._plots[a].overlays||[],o=0;o<i.length;o++){var l=i[o];n[l.id]&&l.plot.selectAll(".trace").remove()}}}function v(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=u.idRegex,n.attrRegex=u.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,a,o=t._subplots,l=o.xaxis,s=o.yaxis,f=o.cartesian,d=f.concat(o.gl2d||[]),p={},$={};for(n=0;n<d.length;n++){var h=d[n].split("y");p[h[0]]=1,$["y"+h[1]]=1}for(n=0;n<l.length;n++)p[r=l[n]]||(a=(e[c.id2name(r)]||{}).anchor,u.idRegex.y.test(a)||(a="y"),f.push(r+a),d.push(r+a),$[a]||($[a]=1,i.pushUnique(s,a)));for(n=0;n<s.length;n++)$[a=s[n]]||(r=(e[c.id2name(a)]||{}).anchor,u.idRegex.x.test(r)||(r="x"),f.push(r+a),d.push(r+a),p[r]||(p[r]=1,i.pushUnique(l,r)));if(!d.length){for(var g in r="",a="",e)u.attrRegex.test(g)&&("x"===g.charAt(0)?(!r||+g.substr(5)<+r.substr(5))&&(r=g):(!a||+g.substr(5)<+a.substr(5))&&(a=g));r=r?c.name2id(r):"x",a=a?c.name2id(a):"y",l.push(r),s.push(a),f.push(r+a)}},n.plot=function(e,t,n,r){var a,i=e._fullLayout,o=i._subplots.cartesian,l=e.calcdata;if(!Array.isArray(t))for(t=[],a=0;a<l.length;a++)t.push(a);for(a=0;a<o.length;a++){for(var s,c=o[a],u=i._plots[c],f=[],d=0;d<l.length;d++){var p=l[d],h=p[0].trace;h.xaxis+h.yaxis===c&&((-1!==t.indexOf(h.index)||h.carpet)&&(s&&s[0].trace.xaxis+s[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(h.fill)&&-1===f.indexOf(s)&&f.push(s),f.push(p)),s=p)}$(e,u,f,n,r)}},n.clean=function(e,t,n,r){var a,i,o,l=r._plots||{},s=t._plots||{},u=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in l)(a=l[o]).plotgroup&&a.plotgroup.remove();var f=r._has&&r._has("gl"),d=t._has&&t._has("gl");if(f&&!d)for(o in l)(a=l[o])._scene&&a._scene.destroy();if(u.xaxis&&u.yaxis){var p=c.listIds({_fullLayout:r});for(i=0;i<p.length;i++){var $=p[i];t[c.id2name($)]||r._infolayer.selectAll(".g-"+$+"title").remove()}}var h=r._has&&r._has("cartesian"),m=t._has&&t._has("cartesian");if(h&&!m)g(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(u.cartesian)for(i=0;i<u.cartesian.length;i++){var y=u.cartesian[i];if(!s[y]){var _="."+y+",."+y+"-x,."+y+"-y";r._cartesianlayer.selectAll(_).remove(),v(y,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=function(e){var t,n,r,a,i,o,l=e._fullLayout,s=l._subplots.cartesian,c=s.length,u=[],f=[];for(t=0;t<c;t++){r=s[t],i=(a=l._plots[r]).xaxis,o=a.yaxis;var d=i._mainAxis,p=o._mainAxis,$=d._id+p._id,h=l._plots[$];a.overlays=[],$!==r&&h?(a.mainplot=$,a.mainplotinfo=h,f.push(r)):(a.mainplot=void 0,a.mainplotinfo=void 0,u.push(r))}for(t=0;t<f.length;t++)r=f[t],(a=l._plots[r]).mainplotinfo.overlays.push(a);var g=u.concat(f),v=Array(c);for(t=0;t<c;t++){r=g[t],i=(a=l._plots[r]).xaxis,o=a.yaxis;var m=[r,i.layer,o.layer,i.overlaying||"",o.overlaying||""];for(n=0;n<a.overlays.length;n++)m.push(a.overlays[n].id);v[t]=m}return v}(e),a=t._cartesianlayer.selectAll(".subplot").data(n,String);a.enter().append("g").attr("class",function(e){return"subplot "+e[0]}),a.order(),a.exit().call(g,t),a.each(function(n){var a=n[0],i=t._plots[a];i.plotgroup=r.select(this),h(e,i),i.draglayer=d(t._draggers,"g",a)})},n.rangePlot=function(e,t,n){h(e,t),$(e,t,n),o.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");n.filter(function(e,t){return t===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":97,"../../constants/xmlns_namespaces":182,"../../lib":202,"../../registry":290,"../get_data":278,"../plots":282,"./attributes":246,"./axis_ids":251,"./constants":254,"./graph_interact":257,"./layout_attributes":262,"./layout_defaults":263,"./transition_axes":272,d3:9}],262:[function(e,t,n){"use strict";var r=e("../font_attributes"),a=e("../../components/color/attributes"),i=e("../../components/drawing/attributes").dash,o=e("../../lib/extend").extendFlat,l=e("../../plot_api/plot_template").templatedArray,s=(e("../../constants/docs").FORMAT_LINK,e("../../constants/docs").DATE_FORMAT_LINK,e("../../constants/numerical").ONEDAY),c=e("./constants"),u=c.HOUR_PATTERN,f=c.WEEKDAY_PATTERN;t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:a.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"calc"},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[f,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:o({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:a.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:a.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":74,"../../components/drawing/attributes":96,"../../constants/docs":179,"../../constants/numerical":181,"../../lib/extend":196,"../../plot_api/plot_template":237,"../font_attributes":276,"./constants":254}],263:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/color"),i=e("../../components/fx/helpers").isUnifiedHover,o=e("../../components/fx/hovermode_defaults"),l=e("../../plot_api/plot_template"),s=e("../layout_attributes"),c=e("./layout_attributes"),u=e("./type_defaults"),f=e("./axis_defaults"),d=e("./constraints"),p=e("./position_defaults"),$=e("./axis_ids"),h=$.id2name,g=$.name2id,v=e("./constants").AX_ID_PATTERN,m=e("../../registry"),y=m.traceIs,_=m.getComponentMethod;function x(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var m,b,w=t.autotypenumbers,k={},T={},A={},L={},C={},S={},M={},O={},D={},P={};for(m=0;m<n.length;m++){var z,R,I=n[m];if(y(I,"cartesian")||y(I,"gl2d")){if(I.xaxis)x(k,z=h(I.xaxis),I);else if(I.xaxes)for(b=0;b<I.xaxes.length;b++)x(k,h(I.xaxes[b]),I);if(I.yaxis)x(k,R=h(I.yaxis),I);else if(I.yaxes)for(b=0;b<I.yaxes.length;b++)x(k,h(I.yaxes[b]),I);"funnel"===I.type?"h"===I.orientation?(z&&(T[z]=!0),R&&(M[R]=!0)):R&&(A[R]=!0):"image"===I.type?(R&&(O[R]=!0),z&&(O[z]=!0)):(R&&(C[R]=!0,S[R]=!0),y(I,"carpet")&&("carpet"!==I.type||I._cheater)||z&&(L[z]=!0)),"carpet"===I.type&&I._cheater&&z&&(T[z]=!0),y(I,"2dMap")&&(D[z]=!0,D[R]=!0),y(I,"oriented")&&(P["h"===I.orientation?R:z]=!0)}}var E=t._subplots,F=E.xaxis,N=E.yaxis,H=r.simpleMap(F,h),B=r.simpleMap(N,h),V=H.concat(B),j=a.background;F.length&&N.length&&(j=r.coerce(e,t,s,"plot_bgcolor"));var U,q,G,Z,Y,X=a.combine(j,t.paper_bgcolor);function W(){var e=k[U]||[];Y._traceIndices=e.map(function(e){return e._expandedIndex}),Y._annIndices=[],Y._shapeIndices=[],Y._imgIndices=[],Y._subplotsWith=[],Y._counterAxes=[],Y._name=Y._attr=U,Y._id=q}function Q(e,t){return r.coerce(Z,Y,c,e,t)}function J(e,t){return r.coerce2(Z,Y,c,e,t)}function K(e){return"x"===e?N:F}function ee(t,n){for(var r="x"===t?H:B,a=[],i=0;i<r.length;i++){var o=r[i];o===n||(e[o]||{}).overlaying||a.push(g(o))}return a}var et={x:K("x"),y:K("y")},en=et.x.concat(et.y),er={},ea=[];function ei(){var e=Z.matches;v.test(e)&&-1===en.indexOf(e)&&(er[e]=Z.type,ea=Object.keys(er))}var eo=o(e,t,n),el=i(eo);for(m=0;m<V.length;m++){q=g(U=V[m]),G=U.charAt(0),r.isPlainObject(e[U])||(e[U]={}),Z=e[U],Y=l.newContainer(t,U,G+"axis"),W();var es="x"===G&&!L[U]&&T[U]||"y"===G&&!C[U]&&A[U],ec="y"===G&&(!S[U]&&M[U]||O[U]),eu={letter:G,font:t.font,outerTicks:D[U],showGrid:!P[U],data:k[U]||[],bgColor:X,calendar:t.calendar,automargin:!0,visibleDflt:es,reverseDflt:ec,autotypenumbersDflt:w,splomStash:((t._splomAxes||{})[G]||{})[q]};Q("uirevision",t.uirevision),u(Z,Y,Q,eu),f(Z,Y,Q,eu,t);var ef=el&&G===eo.charAt(0),ed=J("spikecolor",el?Y.color:void 0),ep=J("spikethickness",el?1.5:void 0),e$=J("spikedash",el?"dot":void 0),eh=J("spikemode",el?"across":void 0),eg=J("spikesnap",el?"hovered data":void 0);Q("showspikes",!!(ef||ed||ep||e$||eh||eg))||(delete Y.spikecolor,delete Y.spikethickness,delete Y.spikedash,delete Y.spikemode,delete Y.spikesnap),p(Z,Y,Q,{letter:G,counterAxes:et[G],overlayableAxes:ee(G,U),grid:t.grid}),Q("title.standoff"),ei(),Y._input=Z}for(m=0;m<ea.length;){G=(U=h(q=ea[m++])).charAt(0),r.isPlainObject(e[U])||(e[U]={}),Z=e[U],Y=l.newContainer(t,U,G+"axis"),W();var ev={letter:G,font:t.font,outerTicks:D[U],showGrid:!P[U],data:[],bgColor:X,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:w,splomStash:((t._splomAxes||{})[G]||{})[q]};Q("uirevision",t.uirevision),Y.type=er[q]||"linear",f(Z,Y,Q,ev,t),p(Z,Y,Q,{letter:G,counterAxes:et[G],overlayableAxes:ee(G,U),grid:t.grid}),Q("fixedrange"),ei(),Y._input=Z}var em=_("rangeslider","handleDefaults"),ey=_("rangeselector","handleDefaults");for(m=0;m<H.length;m++)Z=e[U=H[m]],Y=t[U],em(e,t,U),"date"===Y.type&&ey(Z,Y,t,B,Y.calendar),Q("fixedrange");for(m=0;m<B.length;m++){Z=e[U=B[m]];var e_=t[h((Y=t[U]).anchor)];Q("fixedrange",_("rangeslider","isVisible")(e_))}d.handleDefaults(e,t,{axIds:en.concat(ea).sort($.idSort),axHasImage:O})}},{"../../components/color":75,"../../components/fx/helpers":111,"../../components/fx/hovermode_defaults":114,"../../lib":202,"../../plot_api/plot_template":237,"../../registry":290,"../layout_attributes":280,"./axis_defaults":250,"./axis_ids":251,"./constants":254,"./constraints":255,"./layout_attributes":262,"./position_defaults":265,"./type_defaults":273}],264:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,a=e("../../components/color/attributes").lightFraction,i=e("../../lib");t.exports=function(e,t,n,o){var l=(o=o||{}).dfltColor;function s(n,r){return i.coerce2(e,t,o.attributes,n,r)}var c=s("linecolor",l),u=s("linewidth");n("showline",o.showLine||!!c||!!u)||(delete t.linecolor,delete t.linewidth);var f=s("gridcolor",r(l,o.bgColor,o.blend||a).toRgbString()),d=s("gridwidth");if(n("showgrid",o.showGrid||!!f||!!d)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var p=s("zerolinecolor",l),$=s("zerolinewidth");n("zeroline",o.showGrid||!!p||!!$)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":74,"../../lib":202,tinycolor2:58}],265:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib");t.exports=function(e,t,n,i){var o,l,s,c,u=i.counterAxes||[],f=i.overlayableAxes||[],d=i.letter,p=i.grid;p&&(l=p._domains[d][p._axisMap[t._id]],o=p._anchors[t._id],l&&(s=p[d+"side"].split(" ")[0],c=p.domain[d]["right"===s||"top"===s?1:0])),l=l||[0,1],o=o||(r(e.position)?"free":u[0]||"free"),s=s||("x"===d?"bottom":"left"),c=c||0,"free"===a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:o}},"anchor")&&n("position",c),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===d?["bottom","top"]:["left","right"],dflt:s}},"side");var $=!1;if(f.length&&($=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!$){var h=n("domain",l);h[0]>h[1]-1/4096&&(t.domain=l),a.noneOrAll(e.domain,t.domain,l)}return n("layer"),t}},{"../../lib":202,"fast-isnumeric":11}],266:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=a[0]+(a[1]-a[0])*n;e.range=e._input.range=[e.l2r(i+(a[0]-i)*t),e.l2r(i+(a[1]-i)*t)],e.setScale()}},{"../../constants/alignment":177}],267:[function(e,t,n){"use strict";var r=e("polybooljs"),a=e("../../registry"),i=e("../../components/drawing").dashStyle,o=e("../../components/color"),l=e("../../components/fx"),s=e("../../components/fx/helpers").makeEventData,c=e("../../components/dragelement/helpers"),u=c.freeMode,f=c.rectMode,d=c.drawMode,p=c.openMode,$=c.selectMode,h=e("../../components/shapes/draw_newshape/display_outlines"),g=e("../../components/shapes/draw_newshape/helpers").handleEllipse,v=e("../../components/shapes/draw_newshape/newshapes"),m=e("../../lib"),y=e("../../lib/polygon"),_=e("../../lib/throttle"),x=e("./axis_ids").getFromId,b=e("../../lib/clear_gl_canvases"),w=e("../../plot_api/subroutines").redrawReglTraces,k=e("./constants"),T=k.MINSELECT,A=y.filter,L=y.tester,C=e("./handle_outline").clearSelect,S=e("./helpers"),M=S.p2r,O=S.axValue,D=S.getTransform;function P(e,t,n,r,a,i,o){var l,s,c,u,f,d,$,g,v,m,y=t._hoverdata,_=t._fullLayout.clickmode.indexOf("event")>-1,x=[];if((m=y)&&Array.isArray(m)&&!0!==m[0].hoverOnBox){E(e,t,i);var b=function(e,t){var n,r,a=e[0],i=-1,o=[];for(r=0;r<t.length;r++)if(n=t[r],a.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===a.hoverOnBox)break;void 0!==a.pointNumber?i=a.pointNumber:void 0!==a.binNumber&&(i=a.binNumber,o=a.pointNumbers);break}return{pointNumber:i,pointNumbers:o,searchInfo:n}}(y,l=N(t,n,r,a));if(b.pointNumbers.length>0?function(e,t){var n,r,a,i=[];for(a=0;a<e.length;a++)(n=e[a]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&i.push(n);if(1===i.length&&i[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(a=0;a<t.pointNumbers.length;a++)if(0>r.selectedpoints.indexOf(t.pointNumbers[a]))return!1;return!0}return!1}(l,b):function(e){var t,n,r,a=0;for(r=0;r<e.length;r++)if((n=(t=e[r]).cd[0].trace).selectedpoints&&(n.selectedpoints.length>1||(a+=n.selectedpoints.length)>1))return!1;return 1===a}(l)&&(d=H(b))){for(o&&o.remove(),v=0;v<l.length;v++)(s=l[v])._module.selectPoints(s,!1);B(t,l),F(i),_&&t.emit("plotly_deselect",null)}else{for($=e.shiftKey&&(void 0!==d?d:H(b)),c=(w=b.pointNumber,k=b.searchInfo,{pointNumber:w,searchInfo:k,subtract:T=$}),u=I(i.selectionDefs.concat([c])),v=0;v<l.length;v++)if(f=V(l[v]._module.selectPoints(l[v],u),l[v]),x.length)for(var w,k,T,A,L=0;L<f.length;L++)x.push(f[L]);else x=f;if(B(t,l,g={points:x}),c&&i&&i.selectionDefs.push(c),o){h(j(i.mergedPolygons,p(i.dragmode)),o,i)}_&&t.emit("plotly_selected",g)}}}function z(e){return"pointNumber"in e&&"searchInfo"in e}function R(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,a){var i=e.searchInfo.cd[0].trace._expandedIndex;return a.cd[0].trace._expandedIndex===i&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function I(e){for(var t=[],n=z(e[0])?0:e[0][0][0],r=n,a=z(e[0])?0:e[0][0][1],i=a,o=0;o<e.length;o++)if(z(e[o]))t.push(R(e[o]));else{var l=y.tester(e[o]);l.subtract=e[o].subtract,t.push(l),n=Math.min(n,l.xmin),r=Math.max(r,l.xmax),a=Math.min(a,l.ymin),i=Math.max(i,l.ymax)}return{xmin:n,xmax:r,ymin:a,ymax:i,pts:[],contains:function(e,n,r,a){for(var i=!1,o=0;o<t.length;o++)t[o].contains(e,n,r,a)&&(i=!1===t[o].subtract);return i},isRect:!1,degenerate:!1}}function E(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,a=n.plotinfo,i=n.dragmode,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(d(i)&&p(i));o&&l&&a.selection&&a.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=a.selection.selectionDefs,n.mergedPolygons=a.selection.mergedPolygons):l&&a.selection||F(n),o||(C(t),r._lastSelectedSubplot=a.id)}function F(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),d(t)){var i=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(i&&r._fullLayout._drawing){var o=v(i,e);o&&a.call("_guiRelayout",r,{shapes:o}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function N(e,t,n,r){var a,i,o,l=[],s=t.map(function(e){return e._id}),c=n.map(function(e){return e._id});for(o=0;o<e.calcdata.length;o++)if(!0===(i=(a=e.calcdata[o])[0].trace).visible&&i._module&&i._module.selectPoints){if(r&&(i.subplot===r||i.geo===r))l.push(d(i._module,a,t[0],n[0]));else if("splom"===i.type&&i._xaxes[s[0]]&&i._yaxes[c[0]]){var u=d(i._module,a,t[0],n[0]);u.scene=e._fullLayout._splomScenes[i.uid],l.push(u)}else if("sankey"===i.type){var f=d(i._module,a,t[0],n[0]);l.push(f)}else{if(-1===s.indexOf(i.xaxis)||-1===c.indexOf(i.yaxis))continue;l.push(d(i._module,a,x(e,i.xaxis),x(e,i.yaxis)))}}return l;function d(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function H(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,a=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(a)>-1}function B(e,t,n){for(r=0;r<t.length;r++){var r,i,o,l,s=t[r].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(n){var u=n.points||[];for(r=0;r<t.length;r++)(l=t[r].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(r=0;r<u.length;r++){var f=u[r],d=f.data,p=f.fullData;f.pointIndices?([].push.apply(d.selectedpoints,f.pointIndices),l._fullInput!==l&&[].push.apply(p.selectedpoints,f.pointIndices)):(d.selectedpoints.push(f.pointIndex),l._fullInput!==l&&p.selectedpoints.push(f.pointIndex))}}else for(r=0;r<t.length;r++)delete(l=t[r].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var $=!1;for(r=0;r<t.length;r++){l=(o=(i=t[r]).cd)[0].trace,a.traceIs(l,"regl")&&($=!0);var h=i._module,g=h.styleOnSelect||h.style;g&&(g(e,o,o[0].node3),o[0].nodeRangePlot3&&g(e,o,o[0].nodeRangePlot3))}$&&(b(e),w(e))}function V(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,a=0;a<e.length;a++)e[a]=s(e[a],r,n);return e}function j(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var a=0;a<e[r].length;a++){n[r][a]=[],n[r][a][0]=a?"L":"M";for(var i=0;i<e[r][a].length;i++)n[r][a].push(e[r][a][i])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}t.exports={prepSelect:function(e,t,n,a,s){var c=u(s),v=f(s),y=p(s),x=d(s),b=$(s),w="drawcircle"===s,C="drawline"===s||w,S=a.gd,z=S._fullLayout,R=z._zoomlayer,H=a.element.getBoundingClientRect(),U=a.plotinfo,q=D(U),G=t-H.left,Z=n-H.top;z._calcInverseTransform(S);var Y=m.apply3DTransform(z._invTransform)(G,Z);G=Y[0],Z=Y[1];var X,W,Q,J,K,ee,et,en=z._invScaleX,er=z._invScaleY,ea=G,ei=Z,eo="M"+G+","+Z,el=a.xaxes[0]._length,es=a.yaxes[0]._length,ec=a.xaxes.concat(a.yaxes),eu=e.altKey&&!(d(s)&&y);E(e,S,a),c&&(X=A([[G,Z]],k.BENDPX));var ef=R.selectAll("path.select-outline-"+U.id).data(x?[0]:[1,2]),ed=z.newshape;ef.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e+" select-outline-"+U.id}).style(x?{opacity:ed.opacity/2,fill:y?void 0:ed.fillcolor,stroke:ed.line.color,"stroke-dasharray":i(ed.line.dash,ed.line.width),"stroke-width":ed.line.width+"px"}:{}).attr("fill-rule",ed.fillrule).classed("cursor-move",!!x).attr("transform",q).attr("d",eo+"Z");var ep,e$=R.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",q).attr("d","M0,0Z"),eh=z._uid+k.SELECTID,eg=[],ev=N(S,a.xaxes,a.yaxes,a.subplot);function em(e,t){return e-t}ep=U.fillRangeItems?U.fillRangeItems:v?function(e,t){var n=e.range={};for(K=0;K<ec.length;K++){var r=ec[K],a=r._id.charAt(0);n[r._id]=[M(r,t[a+"min"]),M(r,t[a+"max"])].sort(em)}}:function(e,t,n){var r=e.lassoPoints={};for(K=0;K<ec.length;K++){var a=ec[K];r[a._id]=n.filtered.map(O(a))}},a.moveFn=function(e,t){var n,i,o,l,s,u,f=Math.abs((ea=Math.max(0,Math.min(el,en*e+G)))-G),d=Math.abs((ei=Math.max(0,Math.min(es,er*t+Z)))-Z);if(v){if(b){var p=z.selectdirection;switch(l="any"===p?d<Math.min(.6*f,T)?"h":f<Math.min(.6*d,T)?"v":"d":p){case"h":s=w?es/2:0,u=es;break;case"v":s=w?el/2:0,u=el}}if(x)switch(z.newshape.drawdirection){case"vertical":l="h",s=w?es/2:0,u=es;break;case"horizontal":l="v",s=w?el/2:0,u=el;break;case"ortho":f<d?(l="h",s=Z,u=ei):(l="v",s=G,u=ea);break;default:l="d"}"h"===l?((J=C?g(w,[ea,s],[ea,u]):[[G,s],[G,u],[ea,u],[ea,s]]).xmin=C?ea:Math.min(G,ea),J.xmax=C?ea:Math.max(G,ea),J.ymin=Math.min(s,u),J.ymax=Math.max(s,u),e$.attr("d","M"+J.xmin+","+(Z-T)+"h-4v"+2*T+"h4ZM"+(J.xmax-1)+","+(Z-T)+"h4v"+2*T+"h-4Z")):"v"===l?((J=C?g(w,[s,ei],[u,ei]):[[s,Z],[s,ei],[u,ei],[u,Z]]).xmin=Math.min(s,u),J.xmax=Math.max(s,u),J.ymin=C?ei:Math.min(Z,ei),J.ymax=C?ei:Math.max(Z,ei),e$.attr("d","M"+(G-T)+","+J.ymin+"v-4h"+2*T+"v4ZM"+(G-T)+","+(J.ymax-1)+"v4h"+2*T+"v-4Z")):"d"===l&&((J=C?g(w,[G,Z],[ea,ei]):[[G,Z],[G,ei],[ea,ei],[ea,Z]]).xmin=Math.min(G,ea),J.xmax=Math.max(G,ea),J.ymin=Math.min(Z,ei),J.ymax=Math.max(Z,ei),e$.attr("d","M0,0Z"))}else c&&(X.addPt([ea,ei]),J=X.filtered);a.selectionDefs&&a.selectionDefs.length?(Q=(n=a.mergedPolygons,i=J,(o=eu)?r.difference({regions:n,inverted:!1},{regions:[i],inverted:!1}).regions:r.union({regions:n,inverted:!1},{regions:[i],inverted:!1}).regions),J.subtract=eu,W=I(a.selectionDefs.concat([J]))):(Q=[J],W=L(J)),h(j(Q,y),ef,a),b&&_.throttle(eh,k.SELECTDELAY,function(){eg=[];var e,t,n=[];for(K=0;K<ev.length;K++)if(n.push(t=(ee=ev[K])._module.selectPoints(ee,W)),e=V(t,ee),eg.length)for(var r=0;r<e.length;r++)eg.push(e[r]);else eg=e;B(S,ev,et={points:eg}),ep(et,J,X),a.gd.emit("plotly_selecting",et)})},a.clickFn=function(e,t){if(e$.remove(),S._fullLayout._activeShapeIndex>=0)S._fullLayout._deactivateShape(S);else if(!x){var n=z.clickmode;_.done(eh).then(function(){if(_.clear(eh),2===e){for(ef.remove(),K=0;K<ev.length;K++)(ee=ev[K])._module.selectPoints(ee,!1);B(S,ev),F(a),S.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&P(t,S,a.xaxes,a.yaxes,a.subplot,a,ef),"event"===n&&S.emit("plotly_selected",void 0);l.click(S,t)}).catch(m.error)}},a.doneFn=function(){e$.remove(),_.done(eh).then(function(){_.clear(eh),a.gd.emit("plotly_selected",et),J&&a.selectionDefs&&(J.subtract=eu,a.selectionDefs.push(J),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,Q)),a.doneFnCompleted&&a.doneFnCompleted(eg)}).catch(m.error),x&&F(a)}},clearSelect:C,clearSelectionsCache:F,selectOnClick:P}},{"../../components/color":75,"../../components/dragelement/helpers":93,"../../components/drawing":97,"../../components/fx":115,"../../components/fx/helpers":111,"../../components/shapes/draw_newshape/display_outlines":160,"../../components/shapes/draw_newshape/helpers":161,"../../components/shapes/draw_newshape/newshapes":162,"../../lib":202,"../../lib/clear_gl_canvases":190,"../../lib/polygon":214,"../../lib/throttle":225,"../../plot_api/subroutines":238,"../../registry":290,"./axis_ids":251,"./constants":254,"./handle_outline":258,"./helpers":259,polybooljs:49}],268:[function(e,t,n){"use strict";var r=e("d3"),a=e("d3-time-format").utcFormat,i=e("fast-isnumeric"),o=e("../../lib"),l=o.cleanNumber,s=o.ms2DateTime,c=o.dateTime2ms,u=o.ensureNumber,f=o.isArrayOrTypedArray,d=e("../../constants/numerical"),p=d.FP_SAFE,$=d.BADNUM,h=d.LOG_CLIP,g=d.ONEWEEK,v=d.ONEDAY,m=d.ONEHOUR,y=d.ONEMIN,_=d.ONESEC,x=e("./axis_ids"),b=e("./constants"),w=b.HOUR_PATTERN,k=b.WEEKDAY_PATTERN;function T(e){return Math.pow(10,e)}function A(e){return null!=e}t.exports=function(e,t){t=t||{};var n=e._id||"x",d=n.charAt(0);function L(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],a=e.range[1];return .5*(r+a-2*h*Math.abs(r-a))}return $}function C(t,n,r,a){if((a||{}).msUTC&&i(t))return+t;var l=c(t,r||e.calendar);if(l===$){if(!i(t))return $;t=+t;var s=Math.floor(10*o.mod(t+.05,1)),u=Math.round(t-s/10);l=c(new Date(u))+s/10}return l}function S(t,n,r){return s(t,n,r||e.calendar)}function M(t){return e._categories[Math.round(t)]}function O(t){if(A(t)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push("number"==typeof t?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return $}function D(t){if(e._categoriesMap)return e._categoriesMap[t]}function P(e){var t=D(e);return void 0!==t?t:i(e)?+e:void 0}function z(e){return i(e)?+e:D(e)}function R(e,t,n){return r.round(n+t*e,2)}function I(e,t,n){return(e-n)/t}var E=function(t){return i(t)?R(t,e._m,e._b):$},F=function(t){var n,r,a;return n=t,r=e._m,(n-(a=e._b))/r};if(e.rangebreaks){var N="y"===d;E=function(t){if(!i(t))return $;var n=e._rangebreaks.length;if(!n)return R(t,e._m,e._b);var r=N;e.range[0]>e.range[1]&&(r=!r);for(var a=r?-1:1,o=a*t,l=0,s=0;s<n;s++){var c=a*e._rangebreaks[s].min,u=a*e._rangebreaks[s].max;if(o<c)break;if(!(o>u)){l=o<(c+u)/2?s:s+1;break}l=s+1}var f=e._B[l]||0;return isFinite(f)?R(t,e._m2,f):0},F=function(t){var n,r,a,i,o,l,s=e._rangebreaks.length;if(!s)return n=t,r=e._m,(n-(a=e._b))/r;for(var c=0,u=0;u<s&&!(t<e._rangebreaks[u].pmin);u++)t>e._rangebreaks[u].pmax&&(c=u+1);return i=t,o=e._m2,(i-(l=e._B[c]))/o}}e.c2l="log"===e.type?L:u,e.l2c="log"===e.type?T:u,e.l2p=E,e.p2l=F,e.c2p="log"===e.type?function(e,t){return E(L(e,t))}:E,e.p2c="log"===e.type?function(e){return T(F(e))}:F,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=l,e.c2d=e.c2r=e.l2d=e.l2r=u,e.d2p=e.r2p=function(t){return e.l2p(l(t))},e.p2d=e.p2r=F,e.cleanPos=u):"log"===e.type?(e.d2r=e.d2l=function(e,t){return L(l(e),t)},e.r2d=e.r2c=function(e){return T(l(e))},e.d2c=e.r2l=l,e.c2d=e.l2r=u,e.c2r=L,e.l2d=T,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return T(F(e))},e.r2p=function(t){return e.l2p(l(t))},e.p2r=F,e.cleanPos=u):"date"===e.type?(e.d2r=e.r2d=o.identity,e.d2c=e.r2c=e.d2l=e.r2l=C,e.c2d=e.c2r=e.l2d=e.l2r=S,e.d2p=e.r2p=function(t,n,r){return e.l2p(C(t,0,r))},e.p2d=e.p2r=function(e,t,n){return S(F(e),t,n)},e.cleanPos=function(t){return o.cleanDate(t,$,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=O,e.r2d=e.c2d=e.l2d=M,e.d2r=e.d2l_noadd=P,e.r2c=function(t){var n=z(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=u,e.r2l=z,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return M(F(e))},e.r2p=e.d2p,e.p2r=F,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:u(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=M,e.d2r=e.d2l_noadd=P,e.r2c=function(t){var n=P(t);return void 0!==n?n:e.fraction2r(.5)},e.r2c_just_indices=D,e.l2r=e.c2r=u,e.r2l=P,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return M(F(e))},e.r2p=e.d2p,e.p2r=F,e.cleanPos=function(e){return Array.isArray(e)||"string"==typeof e&&""!==e?e:u(e)},e.setupMultiCategory=function(r){var a,i,l=e._traceIndices,s=e._matchGroup;if(s&&0===e._categories.length){for(var c in s)if(c!==n){var u=t[x.id2name(c)];l=l.concat(u._traceIndices)}}var p=[[0,{}],[0,{}]],$=[];for(a=0;a<l.length;a++){var h=r[l[a]];if(d in h){var g=h[d],v=h._length||o.minRowLength(g);if(f(g[0])&&f(g[1]))for(i=0;i<v;i++){var m=g[0][i],y=g[1][i];A(m)&&A(y)&&($.push([m,y]),m in p[0][1]||(p[0][1][m]=p[0][0]++),y in p[1][1]||(p[1][1][y]=p[1][0]++))}}}for($.sort(function(e,t){var n=p[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var a=p[1][1];return a[e[1]]-a[t[1]]}),a=0;a<$.length;a++)O($[a])}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||(n={}),t||(t="range");var r,a,l=o.nestedProperty(e,t).get();if(a=(a="date"===e.type?o.dfltRange(e.calendar):"y"===d?b.DFLTRANGEY:n.dfltRange||b.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(a[0]=0),l&&2===l.length)for("date"!==e.type||e.autorange||(l[0]=o.cleanDate(l[0],$,e.calendar),l[1]=o.cleanDate(l[1],$,e.calendar)),r=0;r<2;r++)if("date"===e.type){if(!o.isDateTime(l[r],e.calendar)){e[t]=a;break}if(e.r2l(l[0])===e.r2l(l[1])){var s=o.constrain(e.r2l(l[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);l[0]=e.l2r(s-1e3),l[1]=e.l2r(s+1e3);break}}else{if(!i(l[r])){if(!i(l[1-r])){e[t]=a;break}l[r]=l[1-r]*(r?10:.1)}if(l[r]<-p?l[r]=-p:l[r]>p&&(l[r]=p),l[0]===l[1]){var c=Math.max(1,Math.abs(1e-6*l[0]));l[0]-=c,l[1]+=c}}else o.nestedProperty(e,t).set(a)},e.setScale=function(n){var r=t._size;if(e.overlaying){var a=x.getFromId({_fullLayout:t},e.overlaying);e.domain=a.domain}var i=n&&e._r?"_r":"range",o=e.calendar;e.cleanRange(i);var l,s,c=e.r2l(e[i][0],o),u=e.r2l(e[i][1],o),f="y"===d;if(f?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(c-u),e._b=-e._m*u):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(u-c),e._b=-e._m*c),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks&&(e._rangebreaks=e.locateBreaks(Math.min(c,u),Math.max(c,u)),e._rangebreaks.length)){for(l=0;l<e._rangebreaks.length;l++)s=e._rangebreaks[l],e._lBreaks+=Math.abs(s.max-s.min);var p=f;c>u&&(p=!p),p&&e._rangebreaks.reverse();var $=p?-1:1;for(e._m2=$*e._length/(Math.abs(u-c)-e._lBreaks),e._B.push(-e._m2*(f?u:c)),l=0;l<e._rangebreaks.length;l++)s=e._rangebreaks[l],e._B.push(e._B[e._B.length-1]-$*e._m2*(s.max-s.min));for(l=0;l<e._rangebreaks.length;l++)(s=e._rangebreaks[l]).pmin=E(s.min),s.pmax=E(s.max)}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,Error("Something went wrong with axis scaling")},e.maskBreaks=function(t){for(var n,r,a,i,s,c=e.rangebreaks||[],u=0;u<c.length;u++){var f=c[u];if(f.enabled){if(f.bounds){var d=f.pattern;switch(r=(n=o.simpleMap(f.bounds,d?l:e.d2c))[0],a=n[1],d){case k:i=(s=new Date(t)).getUTCDay(),r>a&&(a+=7,i<r&&(i+=7));break;case w:i=(s=new Date(t)).getUTCHours()+(s.getUTCMinutes()/60+s.getUTCSeconds()/3600+s.getUTCMilliseconds()/36e5),r>a&&(a+=24,i<r&&(i+=24));break;case"":i=t}if(i>=r&&i<a)return $}else for(var p=o.simpleMap(f.values,e.d2c).sort(o.sorterAsc),h=0;h<p.length;h++)if(a=(r=p[h])+f.dvalue,t>=r&&t<a)return $}}return t},e.locateBreaks=function(t,n){var r,a,i,s,c=[];if(!e.rangebreaks)return c;var u=e.rangebreaks.slice().sort(function(e,t){return e.pattern===k&&t.pattern===w?-1:t.pattern===k&&e.pattern===w?1:0}),f=function(e,r){if((e=o.constrain(e,t,n))!==(r=o.constrain(r,t,n))){for(var a=!0,i=0;i<c.length;i++){var l=c[i];e<l.max&&r>=l.min&&(e<l.min&&(l.min=e),r>l.max&&(l.max=r),a=!1)}a&&c.push({min:e,max:r})}};for(r=0;r<u.length;r++){var d=u[r];if(d.enabled){if(d.bounds){var p=t,$=n;d.pattern&&(p=Math.floor(p)),i=(a=o.simpleMap(d.bounds,d.pattern?l:e.r2l))[0],s=a[1];var h,x,b=new Date(p);switch(d.pattern){case k:x=g,h=(s-i+(s<i?7:0))*v,p+=i*v-(b.getUTCDay()*v+b.getUTCHours()*m+b.getUTCMinutes()*y+b.getUTCSeconds()*_+b.getUTCMilliseconds());break;case w:x=v,h=(s-i+(s<i?24:0))*m,p+=i*m-(b.getUTCHours()*m+b.getUTCMinutes()*y+b.getUTCSeconds()*_+b.getUTCMilliseconds());break;default:p=Math.min(a[0],a[1]),h=x=($=Math.max(a[0],a[1]))-p}for(var T=p;T<$;T+=x)f(T,T+h)}else for(var A=o.simpleMap(d.values,e.d2c),L=0;L<A.length;L++)f(i=A[L],s=i+d.dvalue)}}return c.sort(function(e,t){return e.min-t.min}),c},e.makeCalcdata=function(t,n,r){var a,i,l,s,c=e.type,u="date"===c&&t[n+"calendar"];if(n in t){if(a=t[n],s=t._length||o.minRowLength(a),o.isTypedArray(a)&&("linear"===c||"log"===c)){if(s===a.length)return a;if(a.subarray)return a.subarray(0,s)}if("multicategory"===c)return function(e,t){for(var n=Array(t),r=0;r<t;r++){var a=(e[0]||[])[r],i=(e[1]||[])[r];n[r]=D([a,i])}return n}(a,s);for(i=Array(s),l=0;l<s;l++)i[l]=e.d2c(a[l],0,u,r)}else{var f=n+"0" in t?e.d2c(t[n+"0"],0,u):0,d=t["d"+n]?Number(t["d"+n]):1;for(a=t[({x:"y",y:"x"})[n]],i=Array(s=t._length||a.length),l=0;l<s;l++)i[l]=f+l*d}if(e.rangebreaks)for(l=0;l<s;l++)i[l]=e.maskBreaks(i[l]);return i},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&i(e.r2l(t[0]))&&i(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[d],null,n),a=e.r2l(e.range[0]),i=e.r2l(e.range[1]);return a<i?a<=r&&r<=i:i<=r&&r<=a},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var n=e._matchGroup;if(n){var r=null,a=null;for(var i in n){var o=t[x.id2name(i)];if(o._categories){r=o._categories,a=o._categoriesMap;break}}r&&a?(e._categories=r,e._categoriesMap=a):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var l=0;l<e._initialCategories.length;l++)O(e._initialCategories[l])},e.sortByInitialCategories=function(){var r=[];if(e._emptyCategories(),e._initialCategories)for(var a=0;a<e._initialCategories.length;a++)O(e._initialCategories[a]);r=r.concat(e._traceIndices);var i=e._matchGroup;for(var o in i)if(n!==o){var l=t[x.id2name(o)];l._categories=e._categories,l._categoriesMap=e._categoriesMap,r=r.concat(l._traceIndices)}return r};var H=t._d3locale;"date"===e.type&&(e._dateFormat=H?H.timeFormat:a,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=H?H.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":181,"../../lib":202,"./axis_ids":251,"./constants":254,d3:9,"d3-time-format":7,"fast-isnumeric":11}],269:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/color").contrast,i=e("./layout_attributes"),o=e("../array_container_defaults");function l(e){var t=["showexponent","showtickprefix","showticksuffix"].filter(function(t){return void 0!==e[t]});if(t.every(function(n){return e[n]===e[t[0]]})||1===t.length)return e[t[0]]}function s(e,t){function n(n,a){return r.coerce(e,t,i.tickformatstops,n,a)}n("enabled")&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,c,u,f){var d,p,$,h;f&&1!==f.pass||(d=e,p=n,$=u,h=l(d),p("tickprefix")&&p("showtickprefix",h),p("ticksuffix",$.tickSuffixDflt)&&p("showticksuffix",h)),f&&2!==f.pass||function(e,t,n,c,u){var f=l(e);if(n("tickprefix")&&n("showtickprefix",f),n("ticksuffix",u.tickSuffixDflt)&&n("showticksuffix",f),n("showticklabels")){var d=u.font||{},p=t.color,$=-1!==(t.ticklabelposition||"").indexOf("inside")?a(u.bgColor):p&&p!==i.color.dflt?p:d.color;if(r.coerceFont(n,"tickfont",{family:d.family,size:d.size,color:$}),n("tickangle"),"category"!==c){var h=n("tickformat");o(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:s}),t.tickformatstops.length||delete t.tickformatstops,h||"date"===c||(n("showexponent",f),n("exponentformat"),n("minexponent"),n("separatethousands"))}}}(e,t,n,c,u)}},{"../../components/color":75,"../../lib":202,"../array_container_defaults":243,"./layout_attributes":262}],270:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n,i){var o=r.coerce2(e,t,a,"ticklen"),l=r.coerce2(e,t,a,"tickwidth"),s=r.coerce2(e,t,a,"tickcolor",t.color);n("ticks",i.outerTicks||o||l||s?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":202,"./layout_attributes":262}],271:[function(e,t,n){"use strict";var r=e("./clean_ticks"),a=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,i){function o(n){var r=e[n];return void 0!==r?r:(t._template||{})[n]}var l=o("tick0"),s=o("dtick"),c=o("tickvals"),u=n("tickmode",a(c)?"array":s?"linear":"auto");if("auto"===u)n("nticks");else if("linear"===u){var f=t.dtick=r.dtick(s,i);t.tick0=r.tick0(l,i,t.calendar,f)}else"multicategory"!==i&&(void 0===n("tickvals")?t.tickmode="auto":n("ticktext"))}},{"../../lib":202,"./clean_ticks":253}],272:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../lib"),o=e("../../components/drawing"),l=e("./axes");t.exports=function(e,t,n,s){var c=e._fullLayout;if(0!==t.length){s&&(u=s());var u,f,d,p,$=r.ease(n.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(p),p=null,function(){for(var n={},r=0;r<t.length;r++){var i=t[r],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr0&&(n[o._name+".range"]=i.xr0.slice()),i.yr0&&(n[l._name+".range"]=i.yr0.slice())}return a.call("relayout",e,n).then(function(){for(var e=0;e<t.length;e++)h(t[e].plotinfo)})}()}),f=Date.now(),p=window.requestAnimationFrame(function r(){d=Date.now();for(var i=Math.min(1,(d-f)/n.duration),o=$(i),l=0;l<t.length;l++)g(t[l],o);d-f>n.duration?(function(){for(var n={},r=0;r<t.length;r++){var i=t[r],o=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr1&&(n[o._name+".range"]=i.xr1.slice()),i.yr1&&(n[l._name+".range"]=i.yr1.slice())}u&&u(),a.call("relayout",e,n).then(function(){for(var e=0;e<t.length;e++)h(t[e].plotinfo)})}(),p=window.cancelAnimationFrame(r)):p=window.requestAnimationFrame(r)}),Promise.resolve()}function h(e){var t=e.xaxis,n=e.yaxis;c._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(o.setPointGroupScale,1,1),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1),r.call(o.hideOutsideRangePoints,e)}function g(t,n){var r=t.plotinfo,a=r.xaxis,s=r.yaxis,c=a._length,u=s._length,f=!!t.xr1,d=!!t.yr1,p=[];if(f){var $=i.simpleMap(t.xr0,a.r2l),h=i.simpleMap(t.xr1,a.r2l),g=$[1]-$[0],v=h[1]-h[0];p[0]=($[0]*(1-n)+n*h[0]-$[0])/($[1]-$[0])*c,p[2]=c*(1-n+n*v/g),a.range[0]=a.l2r($[0]*(1-n)+n*h[0]),a.range[1]=a.l2r($[1]*(1-n)+n*h[1])}else p[0]=0,p[2]=c;if(d){var m=i.simpleMap(t.yr0,s.r2l),y=i.simpleMap(t.yr1,s.r2l),_=m[1]-m[0],x=y[1]-y[0];p[1]=(m[1]*(1-n)+n*y[1]-m[1])/(m[0]-m[1])*u,p[3]=u*(1-n+n*x/_),s.range[0]=a.l2r(m[0]*(1-n)+n*y[0]),s.range[1]=s.l2r(m[1]*(1-n)+n*y[1])}else p[1]=0,p[3]=u;l.drawOne(e,a,{skipTitle:!0}),l.drawOne(e,s,{skipTitle:!0}),l.redrawComponents(e,[a._id,s._id]);var b=f?c/p[2]:1,w=d?u/p[3]:1,k=f?p[0]:0,T=d?p[1]:0,A=f?p[0]/p[2]*c:0,L=d?p[1]/p[3]*u:0,C=a._offset-A,S=s._offset-L;r.clipRect.call(o.setTranslate,k,T).call(o.setScale,1/b,1/w),r.plot.call(o.setTranslate,C,S).call(o.setScale,b,w),o.setPointGroupScale(r.zoomScalePts,1/b,1/w),o.setTextPointsScale(r.zoomScaleTxt,1/b,1/w)}l.redrawComponents(e)}},{"../../components/drawing":97,"../../lib":202,"../../registry":290,"./axes":248,d3:9}],273:[function(e,t,n){"use strict";var r=e("../../registry").traceIs,a=e("./axis_autotype");function i(e){return({v:"x",h:"y"})[e.orientation||"v"]}function o(e,t){var n=i(e),a=r(e,"box-violin"),o=r(e._fullInput||{},"candlestick");return a&&!o&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,l){n("autotypenumbers",l.autotypenumbersDflt),"-"===n("type",(l.splomStash||{}).type)&&(function(e,t){if("-"===e.type){var n,l=e._id,s=l.charAt(0);-1!==l.indexOf("scene")&&(l=s);var c=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if("splom"===a.type&&a._length>0&&(a["_"+n+"axes"]||{})[t]||(a[n+"axis"]||n)===t&&(o(a,n)||(a[n]||[]).length||a[n+"0"]))return a}}(t,l,s);if(c){if("histogram"===c.type&&s===({v:"y",h:"x"})[c.orientation||"v"])return void(e.type="linear");var u=s+"calendar",f=c[u],d={noMultiCategory:!r(c,"cartesian")||r(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&s===({h:"x",v:"y"})[c.orientation||"v"]&&(d.noMultiCategory=!0),d.autotypenumbers=e.autotypenumbers,o(c,s)){var p=i(c),$=[];for(n=0;n<t.length;n++){var h=t[n];r(h,"box-violin")&&(h[s+"axis"]||s)===l&&(void 0!==h[p]?$.push(h[p][0]):void 0!==h.name?$.push(h.name):$.push("text"),h[u]!==f&&(f=void 0))}e.type=a($,f,d)}else if("splom"===c.type){var g=c.dimensions[c._axesDim[l]];g.visible&&(e.type=a(g.values,f,d))}else e.type=a(c[s]||[c[s+"0"]],f,d)}}}(t,l.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":290,"./axis_autotype":249}],274:[function(e,t,n){"use strict";var r=e("../registry"),a=e("../lib");function i(e,t,n){var r,i,o,l=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return i=a.nestedProperty(r,t.prop).get(),(o=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==i&&(l=!0),o[t.prop]=i,{changed:l,value:i}}function o(e,t){var n=[],r=t[0],i={};if("string"==typeof r)i[r]=t[1];else{if(!a.isPlainObject(r))return n;i=r}return s(i,function(e,t,r){n.push({type:"layout",prop:e,value:r})},"",0),n}function l(e,t){var n,r,i,o,l=[];if(r=t[0],i=t[1],n=t[2],o={},"string"==typeof r)o[r]=i;else{if(!a.isPlainObject(r))return l;o=r,void 0===n&&(n=i)}return void 0===n&&(n=null),s(o,function(t,r,a){var i,o;if(Array.isArray(a)){var s=Math.min((o=a.slice()).length,e.data.length);n&&(s=Math.min(s,n.length)),i=[];for(var c=0;c<s;c++)i[c]=n?n[c]:c}else o=a,i=n?n.slice():null;if(null===i)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(i)){if(!Array.isArray(o)){var u=o;o=[];for(var f=0;f<i.length;f++)o[f]=u}o.length=Math.min(i.length,o.length)}l.push({type:"data",prop:t,traces:i,value:o})},"",0),l}function s(e,t,n,r){Object.keys(e).forEach(function(i){var o=e[i];if("_"!==i[0]){var l=n+(r>0?".":"")+i;a.isPlainObject(o)?s(o,t,l,r+1):t(l,i,o)}})}n.manageCommandObserver=function(e,t,r,o){var l={},s=!0;t&&t._commandObserver&&(l=t._commandObserver),l.cache||(l.cache={}),l.lookupTable={};var c=n.hasSimpleAPICommandBindings(e,r,l.lookupTable);if(t&&t._commandObserver){if(c)return l;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,l}if(c){i(e,c,l.cache),l.check=function(){if(s){var t=i(e,c,l.cache);return t.changed&&o&&void 0!==l.lookupTable[t.value]&&(l.disable(),Promise.resolve(o({value:t.value,type:c.type,prop:c.prop,traces:c.traces,index:l.lookupTable[t.value]})).then(l.enable,l.enable)),t.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<u.length;f++)e._internalOn(u[f],l.check);l.remove=function(){for(var t=0;t<u.length;t++)e._removeInternalListener(u[t],l.check)}}else a.log("Unable to automatically bind plot updates to API command"),l.lookupTable={},l.remove=function(){};return l.disable=function(){s=!1},l.enable=function(){s=!0},t&&(t._commandObserver=l),l},n.hasSimpleAPICommandBindings=function(e,t,r){var a,i,o=t.length;for(a=0;a<o;a++){var l,s=t[a],c=s.method,u=s.args;if(Array.isArray(u)||(u=[]),!c)return!1;var f=n.computeAPICommandBindings(e,c,u);if(1!==f.length)return!1;if(i){if((l=f[0]).type!==i.type||l.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var d=0;d<i.traces.length;d++)if(i.traces[d]!==l.traces[d])return!1}else if(l.prop!==i.prop)return!1}else Array.isArray((i=f[0]).traces)&&i.traces.sort();var p=(l=f[0]).value;if(Array.isArray(p)){if(1!==p.length)return!1;p=p[0]}r&&(r[p]=a)}return i},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var i=r.apiMethodRegistry[t],o=[e];Array.isArray(n)||(n=[]);for(var l=0;l<n.length;l++)o.push(n[l]);return i.apply(null,o).catch(function(e){return a.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)})},n.computeAPICommandBindings=function(e,t,n){var r,a;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=l(e,n);break;case"relayout":r=o(e,n);break;case"update":r=l(e,[n[0],n[2]]).concat(o(e,[n[1]]));break;case"animate":r=Array.isArray((a=n)[0])&&1===a[0].length&&-1!==["string","number"].indexOf(typeof a[0][0])?[{type:"layout",prop:"_currentFrame",value:a[0][0].toString()}]:[];break;default:r=[]}return r}},{"../lib":202,"../registry":290}],275:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},a=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(a.row={valType:"integer",min:0,dflt:0,editType:e.editType},a.column={valType:"integer",min:0,dflt:0,editType:e.editType}),a},n.defaults=function(e,t,n,r){var a=r&&r.x||[0,1],i=r&&r.y||[0,1],o=t.grid;if(o){var l=n("domain.column");void 0!==l&&(l<o.columns?a=o._domains.x[l]:delete e.domain.column);var s=n("domain.row");void 0!==s&&(s<o.rows?i=o._domains.y[s]:delete e.domain.row)}var c=n("domain.x",a),u=n("domain.y",i);c[0]<c[1]||(e.domain.x=a.slice()),u[0]<u[1]||(e.domain.y=i.slice())}},{"../lib/extend":196}],276:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],277:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],278:[function(e,t,n){"use strict";var r=e("../registry"),a=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var a=r.subplotsRegistry[t];if(!a)return[];for(var i=a.attr,o=[],l=0;l<e.length;l++){var s=e[l];s[0].trace[i]===n&&o.push(s)}return o},n.getModuleCalcData=function(e,t){var n,a=[],i=[];if(!(n="string"==typeof t?r.getModule(t).plot:"function"==typeof t?t:t.plot))return[a,e];for(var o=0;o<e.length;o++){var l=e[o],s=l[0].trace;!0===s.visible&&0!==s._length&&(s._module.plot===n?a.push(l):i.push(l))}return[a,i]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var i,o,l,s=r.subplotsRegistry[t].attr,c=[];if("gl2d"===t){var u=n.match(a);o="x"+u[1],l="y"+u[2]}for(var f=0;f<e.length;f++)i=e[f],"gl2d"===t&&r.traceIs(i,"gl2d")?i[s[0]]===o&&i[s[1]]===l&&c.push(i):i[s]===n&&c.push(i);return c}},{"../registry":290,"./cartesian/constants":254}],279:[function(e,t,n){"use strict";function r(e,t){var n,r,a=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)a[r]+=e[4*n+r]*t[n];return a}t.exports=function(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}},{}],280:[function(e,t,n){"use strict";var r=e("./font_attributes"),a=e("./animation_attributes"),i=e("../components/color/attributes"),o=e("../components/shapes/draw_newshape/attributes"),l=e("./pad_attributes"),s=e("../lib/extend").extendFlat,c=r({editType:"calc"});c.family.dflt='"Open Sans", verdana, arial, sans-serif',c.size.dflt=12,c.color.dflt=i.defaultLine,t.exports={font:c,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(l({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},newshape:o.newshape,activeshape:o.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},a.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":74,"../components/shapes/draw_newshape/attributes":157,"../lib/extend":196,"./animation_attributes":242,"./font_attributes":276,"./pad_attributes":281}],281:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],282:[function(e,t,n){"use strict";var r=e("d3"),a=e("d3-time-format").timeFormatLocale,i=e("fast-isnumeric"),o=e("../registry"),l=e("../plot_api/plot_schema"),s=e("../plot_api/plot_template"),c=e("../lib"),u=e("../components/color"),f=e("../constants/numerical").BADNUM,d=e("./cartesian/axis_ids"),p=e("./cartesian/handle_outline").clearSelect,$=e("./animation_attributes"),h=e("./frame_attributes"),g=e("../plots/get_data").getModuleCalcData,v=c.relinkPrivateKeys,m=c._,y=t.exports={};c.extendFlat(y,o),y.attributes=e("./attributes"),y.attributes.type.values=y.allTypes,y.fontAttrs=e("./font_attributes"),y.layoutAttributes=e("./layout_attributes"),y.fontWeight="normal";var _=y.transformsRegistry,x=e("./command");y.executeAPICommand=x.executeAPICommand,y.computeAPICommandBindings=x.computeAPICommandBindings,y.manageCommandObserver=x.manageCommandObserver,y.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,y.redrawText=function(e){var t=(e=c.getGraphDiv(e))._fullLayout||{};if(!(!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("legend","draw")(e),o.getComponentMethod("colorbar","draw")(e),t(y.previousPromises(e))},300)})},y.resize=function(e){e=c.getGraphDiv(e);var t,n=new Promise(function(n,r){e&&!c.isHidden(e)||r(Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||c.isHidden(e))n(e);else{delete e.layout.width,delete e.layout.height;var t=e.changed;e.autoplay=!0,o.call("relayout",e,{autosize:!0}).then(function(){e.changed=t,e._resolveResize===n&&(delete e._resolveResize,n(e))})}},100)});return t&&t(n),n},y.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},y.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=c.ensureSingle(t._paper,"text","js-plot-link-container",function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)})}),a=n.node(),i={y:t._paper.attr("height")-9};document.body.contains(a)&&a.getComputedTextLength()>=t.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=t._paper.attr("width")-7),n.attr(i);var o=n.select(".js-link-to-tool"),l=n.select(".js-link-spacer"),s=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&function(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xbb");if(e._context.sendData)n.on("click",function(){y.sendDataToCloud(e)});else{var r=window.location.pathname.split("/"),a=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+a})}}(e,o),l.text(o.text()&&s.text()?" - ":"")}},y.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit("plotly_beforeexport");var n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),a=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return a.append("input").attr({type:"text",name:"data"}).node().value=y.graphJson(e,!1,"keepdata"),a.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],w=["year","month","dayMonth","dayMonthYear"];function k(e,t){var n=e._context.locale;n||(n="en-US");var r=!1,a={};function i(e){for(var n=!0,i=0;i<t.length;i++){var o=t[i];a[o]||(e[o]?a[o]=e[o]:n=!1)}n&&(r=!0)}for(var l=0;l<2;l++){for(var s=e._context.locales,c=0;c<2;c++){var u=(s[n]||{}).format;if(u&&(i(u),r))break;s=o.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||i(o.localeRegistry.en.format),a}function T(e,t){var n={_fullLayout:t},r="x"===e._id.charAt(0),a=e._mainAxis._anchorAxis,i="",o="",l="";if(a&&(l=a._mainAxis._id,i=r?e._id+l:l+e._id),!i||!t._plots[i]){i="";for(var s=e._counterAxes,c=0;c<s.length;c++){var u=s[c],f=r?e._id+u:u+e._id;o||(o=f);var p=d.getFromId(n,u);if(l&&p.overlaying===l){i=f;break}}}return i||o}function A(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],a=r._module||_[r.type];if(a&&a.makesData)return!0}return!1}function L(e,t,n,r){for(var a=e.transforms,i=[e],o=0;o<a.length;o++){var l=a[o],s=_[l.type];s&&s.transform&&(i=s.transform(i,{transform:l,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:o}))}return i}function C(e){return"string"==typeof e&&"px"===e.substr(e.length-2)&&parseFloat(e)}function S(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}y.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,i=e._fullLayout||{};if(i._skipDefaults)delete i._skipDefaults;else{var l,s=e._fullLayout={},u=e.layout||{},f=e._fullData||[],d=e._fullData=[],$=e.data||[],h=e.calcdata||[],g=e._context||{};e._transitionData||y.createTransitionData(e),s._dfltTitle={plot:m(e,"Click to enter Plot title"),x:m(e,"Click to enter X axis title"),y:m(e,"Click to enter Y axis title"),colorbar:m(e,"Click to enter Colorscale title"),annotation:m(e,"new text")},s._traceWord=m(e,"trace");var _=k(e,b);if(s._mapboxAccessToken=g.mapboxAccessToken,i._initialAutoSizeIsDone){var x=i.width,T=i.height;y.supplyLayoutGlobalDefaults(u,s,_),u.width||(s.width=x),u.height||(s.height=T),y.sanitizeMargins(s)}else{y.supplyLayoutGlobalDefaults(u,s,_);var A=!u.width||!u.height,L=s.autosize,C=g.autosizable;A&&(L||C)?y.plotAutoSize(e,u,s):A&&y.sanitizeMargins(s),!L&&A&&(u.width=s.width,u.height=s.height)}s._d3locale=(j=_,U=s.separators,j.decimal=U.charAt(0),j.thousands=U.charAt(1),{numberFormat:r.locale(j).numberFormat,timeFormat:a(j).utcFormat}),s._extraFormat=k(e,w),s._initialAutoSizeIsDone=!0,s._dataLength=$.length,s._modules=[],s._visibleModules=[],s._basePlotModules=[];var M=s._subplots=function(){var e,t,n=o.collectableSubplotTypes,r={};if(!n){n=[];var a=o.subplotsRegistry;for(var i in a){var l=a[i].attr;if(l&&(n.push(i),Array.isArray(l)))for(t=0;t<l.length;t++)c.pushUnique(n,l[t])}}for(e=0;e<n.length;e++)r[n[e]]=[];return r}(),O=s._splomAxes={x:{},y:{}},D=s._splomSubplots={};s._splomGridDflt={},s._scatterStackOpts={},s._firstScatter={},s._alignmentOpts={},s._colorAxes={},s._requestRangeslider={},s._traceUids=function(e,t){var n,r,a=t.length,i=[];for(n=0;n<e.length;n++){var o=e[n]._fullInput;o!==r&&i.push(o),r=o}var l=i.length,s=Array(a),u={};function f(e,t){s[t]=e,u[e]=1}function d(e,t){if(e&&"string"==typeof e&&!u[e])return f(e,t),!0}for(n=0;n<a;n++){var p=t[n].uid;"number"==typeof p&&(p=String(p)),d(p,n)||n<l&&d(i[n].uid,n)||f(c.randstr(u),n)}return s}(f,$),s._globalTransforms=(e._context||{}).globalTransforms,y.supplyDataDefaults($,d,u,s);var P=Object.keys(O.x),z=Object.keys(O.y);if(P.length>1&&z.length>1){for(o.getComponentMethod("grid","sizeDefaults")(u,s),l=0;l<P.length;l++)c.pushUnique(M.xaxis,P[l]);for(l=0;l<z.length;l++)c.pushUnique(M.yaxis,z[l]);for(var R in D)c.pushUnique(M.cartesian,R)}if(s._has=y._hasPlotType.bind(s),f.length===d.length)for(l=0;l<d.length;l++)v(d[l],f[l]);y.supplyLayoutModuleDefaults(u,s,d,e._transitionData);var I=s._visibleModules,E=[];for(l=0;l<I.length;l++){var F=I[l].crossTraceDefaults;F&&c.pushUnique(E,F)}for(l=0;l<E.length;l++)E[l](d,s);s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&P.length>15&&z.length>15&&0===s.shapes.length&&0===s.images.length,s._hasCartesian=s._has("cartesian"),s._hasGeo=s._has("geo"),s._hasGL3D=s._has("gl3d"),s._hasGL2D=s._has("gl2d"),s._hasTernary=s._has("ternary"),s._hasPie=s._has("pie"),y.linkSubplots(d,s,f,i),y.cleanPlot(d,s,f,i);var N=!(!i._has||!i._has("gl2d")),H=!(!s._has||!s._has("gl2d")),B=!(!i._has||!i._has("cartesian"))||N,V=!(!s._has||!s._has("cartesian"))||H;B&&!V?i._bgLayer.remove():V&&!B&&(s._shouldCreateBgLayer=!0),i._zoomlayer&&!e._dragging&&p({_fullLayout:i}),function(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var a=0;a<e.length;a++){var i=e[a];i.meta?r[i.index]=i._meta={meta:i.meta}:t.meta&&(i._meta={meta:t.meta}),t.meta&&(i._meta.layout={meta:t.meta})}r.length&&(n||(n=t._meta={}),n.data=r)}(d,s),v(s,i),o.getComponentMethod("colorscale","crossTraceDefaults")(d,s),s._preGUI||(s._preGUI={}),s._tracePreGUI||(s._tracePreGUI={});var j,U,q,G=s._tracePreGUI,Z={};for(q in G)Z[q]="old";for(l=0;l<d.length;l++)Z[q=d[l]._fullInput.uid]||(G[q]={}),Z[q]="new";for(q in Z)"old"===Z[q]&&delete G[q];S(s),o.getComponentMethod("rangeslider","makeData")(s),n||h.length!==d.length||y.supplyDefaultsUpdateCalc(h,d)}},y.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],a=(e[n]||[])[0];if(a&&a.trace){var i=a.trace;if(i._hasCalcTransform){var o,l,s,u=i._arrayAttrs;for(o=0;o<u.length;o++)l=u[o],s=c.nestedProperty(i,l).get().slice(),c.nestedProperty(r,l).set(s)}a.trace=r}}},y.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},y._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var a=r[t].name;if(a===e)return!0;var i=o.modules[a];if(i&&i.categories[e])return!0}return!1},y.cleanPlot=function(e,t,n,r){var a,i,o=r._basePlotModules||[];for(a=0;a<o.length;a++){var l=o[a];l.clean&&l.clean(e,t,n,r)}var s=r._has&&r._has("gl"),c=t._has&&t._has("gl");s&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var u=!!r._infolayer;e:for(a=0;a<n.length;a++){var f=n[a].uid;for(i=0;i<e.length;i++)if(f===e[i].uid)continue e;u&&r._infolayer.select(".cb"+f).remove()}},y.linkSubplots=function(e,t,n,r){var a,i,l=r._plots||{},s=t._plots={},u=t._subplots,f={_fullData:e,_fullLayout:t},p=u.cartesian.concat(u.gl2d||[]);for(a=0;a<p.length;a++){var $,h=p[a],g=l[h],v=d.getFromId(f,h,"x"),m=d.getFromId(f,h,"y");for(g?$=s[h]=g:($=s[h]={}).id=h,v._counterAxes.push(m._id),m._counterAxes.push(v._id),v._subplotsWith.push(h),m._subplotsWith.push(h),$.xaxis=v,$.yaxis=m,$._hasClipOnAxisFalse=!1,i=0;i<e.length;i++){var y=e[i];if(y.xaxis===$.xaxis._id&&y.yaxis===$.yaxis._id&&!1===y.cliponaxis){$._hasClipOnAxisFalse=!0;break}}}var _,x=d.list(f,null,!0);for(a=0;a<x.length;a++){var b=null;(_=x[a]).overlaying&&(b=d.getFromId(f,_.overlaying))&&b.overlaying&&(_.overlaying=!1,b=null),_._mainAxis=b||_,b&&(_.domain=b.domain.slice()),_._anchorAxis="free"===_.anchor?null:d.getFromId(f,_.anchor)}for(a=0;a<x.length;a++)if((_=x[a])._counterAxes.sort(d.idSort),_._subplotsWith.sort(c.subplotSort),_._mainSubplot=T(_,t),_._counterAxes.length&&(_.spikemode&&-1!==_.spikemode.indexOf("across")||_.automargin&&_.mirror&&"free"!==_.anchor||o.getComponentMethod("rangeslider","isVisible")(_))){var w=1,k=0;for(i=0;i<_._counterAxes.length;i++){var A=d.getFromId(f,_._counterAxes[i]);w=Math.min(w,A.domain[0]),k=Math.max(k,A.domain[1])}w<k&&(_._counterDomainMin=w,_._counterDomainMax=k)}},y.clearExpandedTraceDefaultColors=function(e){var t,n,r;for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],l.crawl(e._module.attributes,function(e,r,a,i){n[i]=r,n.length=i+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))})),r=0;r<t.length;r++)c.nestedProperty(e,"_input."+t[r]).get()||c.nestedProperty(e,t[r]).set(null)},y.supplyDataDefaults=function(e,t,n,r){var a,i,l,u=r._modules,f=r._visibleModules,d=r._basePlotModules,p=0,$=0;function h(e){t.push(e);var n=e._module;n&&(c.pushUnique(u,n),!0===e.visible&&c.pushUnique(f,n),c.pushUnique(d,e._module.basePlotModule),p++,!1!==e._input.visible&&$++)}r._transformModules=[];var g={},m=[],_=(n.template||{}).data||{},x=s.traceTemplater(_);for(a=0;a<e.length;a++){if(l=e[a],(i=x.newTrace(l)).uid=r._traceUids[a],y.supplyTraceDefaults(l,i,$,r,a),i.index=a,i._input=l,i._expandedIndex=p,i.transforms&&i.transforms.length)for(var b=!1!==l.visible&&!1===i.visible,w=L(i,t,n,r),k=0;k<w.length;k++){var T=w[k],A={_template:i._template,type:i.type,uid:i.uid+k};b&&!1===T.visible&&delete T.visible,y.supplyTraceDefaults(T,A,p,r,a),v(A,T),A.index=a,A._input=l,A._fullInput=i,A._expandedIndex=p,A._expandedInput=T,h(A)}else i._fullInput=i,i._expandedInput=i,h(i);o.traceIs(i,"carpetAxis")&&(g[i.carpet]=i),o.traceIs(i,"carpetDependent")&&m.push(a)}for(a=0;a<m.length;a++)if((i=t[m[a]]).visible){var C=g[i.carpet];i._carpet=C,C&&C.visible?(i.xaxis=C.xaxis,i.yaxis=C.yaxis):i.visible=!1}},y.supplyAnimationDefaults=function(e){e=e||{};var t,n={};function r(t,r){return c.coerce(e||{},n,$,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=y.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=y.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=y.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=y.supplyAnimationTransitionDefaults(e.transition||{});return n},y.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return c.coerce(e||{},t,$.frame,n,r)}return n("duration"),n("redraw"),t},y.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return c.coerce(e||{},t,$.transition,n,r)}return n("duration"),n("easing"),t},y.supplyFrameDefaults=function(e){var t={};function n(n,r){return c.coerce(e,t,h,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},y.supplyTraceDefaults=function(e,t,n,r,a){var i,l=r.colorway||u.defaults,s=l[n%l.length];function f(n,r){return c.coerce(e,t,y.attributes,n,r)}var d=f("visible");f("type"),f("name",r._traceWord+" "+a),f("uirevision",r.uirevision);var p=y.getModule(t);if(t._module=p,p){var $=p.basePlotModule,h=$.attr,g=$.attributes;if(h&&g){var v=r._subplots,m="";if(d||"gl2d"!==$.name){if(Array.isArray(h))for(i=0;i<h.length;i++){var _=h[i],x=c.coerce(e,t,g,_);v[_]&&c.pushUnique(v[_],x),m+=x}else m=c.coerce(e,t,g,h);v[$.name]&&c.pushUnique(v[$.name],m)}}}return d&&(f("customdata"),f("ids"),f("meta"),o.traceIs(t,"showLegend")?(c.coerce(e,t,p.attributes.showlegend?p.attributes:y.attributes,"showlegend"),f("legendgroup"),t._dfltShowLegend=!0):t._dfltShowLegend=!1,p&&p.supplyDefaults(e,t,s,r),o.traceIs(t,"noOpacity")||f("opacity"),o.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),o.traceIs(t,"noHover")||(t.hovertemplate||c.coerceHoverinfo(e,t,r),"parcats"!==t.type&&o.getComponentMethod("fx","supplyDefaults")(e,t,s,r)),p&&p.selectPoints&&f("selectedpoints"),y.supplyTransformDefaults(e,t,r)),t},y.hasMakesDataTransform=A,y.supplyTransformDefaults=function(e,t,n){if(t._length||A(e)){var r=n._globalTransforms||[],a=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var i=e.transforms||[],o=r.concat(i),l=t.transforms=[],s=0;s<o.length;s++){var u,f=o[s],d=f.type,p=_[d],$=!(f._module&&f._module===p),h=p&&"function"==typeof p.transform;p||c.warn("Unrecognized transform type "+d+"."),p&&p.supplyDefaults&&($||h)?((u=p.supplyDefaults(f,t,n,e)).type=d,u._module=p,c.pushUnique(a,p)):u=c.extendFlat({},f),l.push(u)}}},y.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return c.coerce(e,t,y.layoutAttributes,n,r)}var a=e.template;c.isPlainObject(a)&&(t.template=a,t._template=a.layout,t._dataTemplate=a.data),r("autotypenumbers");var i=c.coerceFont(r,"font");r("title.text",t._dfltTitle.plot),c.coerceFont(r,"title.font",{family:i.family,size:Math.round(1.4*i.size),color:i.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&y.sanitizeMargins(t),o.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var l=r("uirevision");r("editrevision",l),r("selectionrevision",l),r("modebar.orientation"),r("modebar.bgcolor",u.addOpacity(t.paper_bgcolor,.5));var s=u.contrast(u.rgb(t.modebar.bgcolor));r("modebar.color",u.addOpacity(s,.3)),r("modebar.activecolor",u.addOpacity(s,.7)),r("modebar.uirevision",l),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,t,r),r("meta"),c.isPlainObject(e.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},y.plotAutoSize=function(e,t,n){var r,a,o=e._context||{},l=o.frameMargins,s=c.isPlotDiv(e);if(s&&e.emit("plotly_autosize"),o.fillFrame)r=window.innerWidth,a=window.innerHeight,document.body.style.overflow="hidden";else{var u=s?window.getComputedStyle(e):{};if(r=C(u.width)||C(u.maxWidth)||n.width,a=C(u.height)||C(u.maxHeight)||n.height,i(l)&&l>0){var f=1-2*l;r=Math.round(f*r),a=Math.round(f*a)}}var d=y.layoutAttributes.width.min,p=y.layoutAttributes.height.min;r<d&&(r=d),a<p&&(a=p);var $=!t.width&&Math.abs(n.width-r)>1,h=!t.height&&Math.abs(n.height-a)>1;(h||$)&&($&&(n.width=r),h&&(n.height=a)),e._initialAutoSize||(e._initialAutoSize={width:r,height:a}),y.sanitizeMargins(n)},y.supplyLayoutModuleDefaults=function(e,t,n,r){var a,i,l,s=o.componentsRegistry,u=t._basePlotModules,f=o.subplotsRegistry.cartesian;for(a in s)(l=s[a]).includeBasePlot&&l.includeBasePlot(e,t);for(var d in u.length||u.push(f),t._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[d].sort(c.subplotSort);for(i=0;i<u.length;i++)(l=u[i]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n);var p=t._modules;for(i=0;i<p.length;i++)(l=p[i]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n);var $=t._transformModules;for(i=0;i<$.length;i++)(l=$[i]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n,r);for(a in s)(l=s[a]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n)},y.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),c.clearThrottle(),c.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},y.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var a=n[t];a.style&&c.pushUnique(r,a.style)}for(t=0;t<r.length;t++)r[t](e)},y.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,a=e.margin,i=n-(a.l+a.r),o=r-(a.t+a.b);i<0&&(t=(n-1)/(a.l+a.r),a.l=Math.floor(t*a.l),a.r=Math.floor(t*a.r)),o<0&&(t=(r-1)/(a.t+a.b),a.t=Math.floor(t*a.t),a.b=Math.floor(t*a.b))}},y.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},y.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1},y.autoMargin=function(e,t,n){var r=e._fullLayout,a=r.width,i=r.height,o=r.margin,l=c.constrain(a-o.l-o.r,2,64),s=c.constrain(i-o.t-o.b,2,64),u=Math.max(0,a-l),f=Math.max(0,i-s),d=r._pushmargin,p=r._pushmarginIds;if(!1!==o.autoexpand){if(n){var $=n.pad;if(void 0===$&&($=Math.min(12,o.l,o.r,o.t,o.b)),u){var h=(n.l+n.r)/u;h>1&&(n.l/=h,n.r/=h)}if(f){var g=(n.t+n.b)/f;g>1&&(n.t/=g,n.b/=g)}var v=void 0!==n.xl?n.xl:n.x,m=void 0!==n.xr?n.xr:n.x,_=void 0!==n.yt?n.yt:n.y,x=void 0!==n.yb?n.yb:n.y;d[t]={l:{val:v,size:n.l+$},r:{val:m,size:n.r+$},b:{val:x,size:n.b+$},t:{val:_,size:n.t+$}},p[t]=1}else delete d[t],delete p[t];if(!r._replotting)return y.doAutoMargin(e)}},y.doAutoMargin=function(e){var t=e._fullLayout,n=t.width,r=t.height;t._size||(t._size={}),S(t);var a=t._size,l=t.margin,s=c.extendFlat({},a),u=l.l,f=l.r,p=l.t,$=l.b,h=t._pushmargin,g=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var v in h)g[v]||delete h[v];for(var m in h.base={l:{val:0,size:u},r:{val:1,size:f},t:{val:1,size:p},b:{val:0,size:$}},h){var _=h[m].l||{},x=h[m].b||{},b=_.val,w=_.size,k=x.val,T=x.size;for(var A in h){if(i(w)&&h[A].r){var L=h[A].r.val,C=h[A].r.size;if(L>b){var M=(w*L+(C-n)*b)/(L-b),O=(C*(1-b)+(w-n)*(1-L))/(L-b);M+O>u+f&&(u=M,f=O)}}if(i(T)&&h[A].t){var D=h[A].t.val,P=h[A].t.size;if(D>k){var z=(T*D+(P-r)*k)/(D-k),R=(P*(1-k)+(T-r)*(1-D))/(D-k);z+R>$+p&&($=z,p=R)}}}}}var I=c.constrain(n-l.l-l.r,2,64),E=c.constrain(r-l.t-l.b,2,64),F=Math.max(0,n-I),N=Math.max(0,r-E);if(F){var H=(u+f)/F;H>1&&(u/=H,f/=H)}if(N){var B=($+p)/N;B>1&&($/=B,p/=B)}if(a.l=Math.round(u),a.r=Math.round(f),a.t=Math.round(p),a.b=Math.round($),a.p=Math.round(l.pad),a.w=Math.round(n)-a.l-a.r,a.h=Math.round(r)-a.t-a.b,!t._replotting&&y.didMarginChange(s,a)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var V=3*(1+Object.keys(g).length);if(t._redrawFromAutoMarginCount<V)return o.call("plot",e);t._size=s,c.warn("Too many auto-margin redraws.")}!function(e){for(var t=d.list(e,"",!0),n=0;n<t.length;n++){var r=t[n]._hideOutOfRangeInsideTickLabels;r&&r()}}(e)};var M=["l","r","t","b","p","w","h"];function O(e,t,n){var r=!1,a=[y.previousPromises,function(){if(e._transitionData)return e._transitioning=!1,function(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}(e._transitionData._interruptCallbacks)},n.prepareFn,y.rehover,function(){return e.emit("plotly_transitioning",[]),new Promise(function(a){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){r=!0}),n.redraw&&e._transitionData._interruptCallbacks.push(function(){return o.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var i=0,l=0;function s(){return i++,function(){var t;l++,r||l!==i||(t=a,e._transitionData&&(function(e){if(e)for(;e.length;)e.shift()}(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(n.redraw)return o.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(t)))}}n.runFn(s),setTimeout(s())})}],i=c.syncOrAsync(a,e);return i&&i.then||(i=Promise.resolve()),i.then(function(){return e})}y.didMarginChange=function(e,t){for(var n=0;n<M.length;n++){var r=M[n],a=e[r],o=t[r];if(!i(a)||Math.abs(o-a)>1)return!0}return!1},y.graphJson=function(e,t,n,r,a,i){(a&&t&&!e._fullData||a&&!t&&!e._fullLayout)&&y.supplyDefaults(e);var o=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,s=(e._transitionData||{})._frames;function u(e,t){if("function"==typeof e)return t?"_function_":null;if(c.isPlainObject(e)){var r,a={};return Object.keys(e).sort().forEach(function(i){if(-1===["_","["].indexOf(i.charAt(0))){if("function"!=typeof e[i]){if("keepdata"===n){if("src"===i.substr(i.length-3))return}else if("keepstream"===n){if("string"==typeof(r=e[i+"src"])&&r.indexOf(":")>0&&!c.isPlainObject(e.stream))return}else if("keepall"!==n&&"string"==typeof(r=e[i+"src"])&&r.indexOf(":")>0)return;a[i]=u(e[i],t)}else t&&(a[i]="_function")}}),a}return Array.isArray(e)?e.map(function(e){return u(e,t)}):c.isTypedArray(e)?c.simpleMap(e,c.identity):c.isJSDate(e)?c.ms2DateTimeLocal(+e):e}var f={data:(o||[]).map(function(e){var n=u(e);return t&&delete n.fit,n})};if(!t&&(f.layout=u(l),a)){var d=l._size;f.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return e.framework&&e.framework.isPolar&&(f=e.framework.getConfig()),s&&(f.frames=u(s)),i&&(f.config=u(e._context,!0)),"object"===r?f:JSON.stringify(f)},y.modifyFrames=function(e,t){var n,r,a,i=e._transitionData._frames,o=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":a=r.value;var l=(i[r.index]||{}).name,s=a.name;i[r.index]=o[s]=a,s!==l&&(delete o[l],o[s]=a);break;case"insert":o[(a=r.value).name]=a,i.splice(r.index,0,a);break;case"delete":delete o[(a=i[r.index]).name],i.splice(r.index,1)}return Promise.resolve()},y.computeFrame=function(e,t){var n,r,a,i,o=e._transitionData._frameHash;if(!t)throw Error("computeFrame must be given a string frame name");var l=o[t.toString()];if(!l)return!1;for(var s=[l],c=[l.name];l.baseframe&&(l=o[l.baseframe.toString()])&&-1===c.indexOf(l.name);)s.push(l),c.push(l.name);for(var u={};l=s.pop();)if(l.layout&&(u.layout=y.extendLayout(u.layout,l.layout)),l.data){if(u.data||(u.data=[]),!(r=l.traces))for(r=[],n=0;n<l.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<l.data.length;n++)null!=(a=r[n])&&(-1===(i=u.traces.indexOf(a))&&(i=u.data.length,u.traces[i]=a),u.data[i]=y.extendTrace(u.data[i],l.data[n]))}return u},y.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var a=n[r];a&&a.name&&(t[a.name]=a)}},y.extendObjectWithContainers=function(e,t,n){var r,a,i,o,l,s,u,f=c.extendDeepNoArrays({},t||{}),d=c.expandObjectPaths(f),p={};if(n&&n.length)for(i=0;i<n.length;i++)void 0===(a=(r=c.nestedProperty(d,n[i])).get())?c.nestedProperty(p,n[i]).set(null):(r.set(null),c.nestedProperty(p,n[i]).set(a));if(e=c.extendDeepNoArrays(e||{},d),n&&n.length){for(i=0;i<n.length;i++)if(s=c.nestedProperty(p,n[i]).get()){for(Array.isArray(u=(l=c.nestedProperty(e,n[i])).get())||(u=[],l.set(u)),o=0;o<s.length;o++){var $=s[o];u[o]=null===$?null:y.extendObjectWithContainers(u[o],$)}l.set(u)}}return e},y.dataArrayContainers=["transforms","dimensions"],y.layoutArrayContainers=o.layoutArrayContainers,y.extendTrace=function(e,t){return y.extendObjectWithContainers(e,t,y.dataArrayContainers)},y.extendLayout=function(e,t){return y.extendObjectWithContainers(e,t,y.layoutArrayContainers)},y.transition=function(e,t,n,r,a,i){var o={redraw:a.redraw},l={},s=[];return o.prepareFn=function(){for(var a=Array.isArray(t)?t.length:0,i=r.slice(0,a),o=0;o<i.length;o++){var u=i[o],f=e._fullData[u]._module;if(f){if(f.animatable){var d=f.basePlotModule.name;l[d]||(l[d]=[]),l[d].push(u)}e.data[i[o]]=y.extendTrace(e.data[i[o]],t[o])}}var p=c.expandObjectPaths(c.extendDeepNoArrays({},n)),$=/^[xy]axis[0-9]*$/;for(var h in p)$.test(h)&&delete p[h].range;y.extendLayout(e.layout,p),delete e.calcdata,y.supplyDefaults(e),y.doCalcdata(e);var g=c.expandObjectPaths(n);if(g){var v=e._fullLayout._plots;for(var m in v){var _=v[m],x=_.xaxis,b=_.yaxis,w=x.range.slice(),k=b.range.slice(),T=null,A=null,L=null,C=null;Array.isArray(g[x._name+".range"])?T=g[x._name+".range"].slice():Array.isArray((g[x._name]||{}).range)&&(T=g[x._name].range.slice()),Array.isArray(g[b._name+".range"])?A=g[b._name+".range"].slice():Array.isArray((g[b._name]||{}).range)&&(A=g[b._name].range.slice()),w&&T&&(x.r2l(w[0])!==x.r2l(T[0])||x.r2l(w[1])!==x.r2l(T[1]))&&(L={xr0:w,xr1:T}),k&&A&&(b.r2l(k[0])!==b.r2l(A[0])||b.r2l(k[1])!==b.r2l(A[1]))&&(C={yr0:k,yr1:A}),(L||C)&&s.push(c.extendFlat({plotinfo:_},L,C))}}return Promise.resolve()},o.runFn=function(t){var r,a,o=e._fullLayout._basePlotModules,u=s.length;if(n)for(a=0;a<o.length;a++)o[a].transitionAxes&&o[a].transitionAxes(e,s,i,t);for(var f in u?((r=c.extendFlat({},i)).duration=0,delete l.cartesian):r=i,l){var d=l[f];e._fullData[d[0]]._module.basePlotModule.plot(e,d,r,t)}},O(e,i,o)},y.transitionFromReact=function(e,t,n,r){var a=e._fullLayout,i=a.transition,o={},l=[];return o.prepareFn=function(){var e=a._plots;for(var i in o.redraw=!1,"some"===t.anim&&(o.redraw=!0),"some"===n.anim&&(o.redraw=!0),e){var s=e[i],u=s.xaxis,f=s.yaxis,d=r[u._name].range.slice(),p=r[f._name].range.slice(),$=u.range.slice(),h=f.range.slice();u.setScale(),f.setScale();var g=null,v=null;u.r2l(d[0])===u.r2l($[0])&&u.r2l(d[1])===u.r2l($[1])||(g={xr0:d,xr1:$}),f.r2l(p[0])===f.r2l(h[0])&&f.r2l(p[1])===f.r2l(h[1])||(v={yr0:p,yr1:h}),(g||v)&&l.push(c.extendFlat({plotinfo:s},g,v))}return Promise.resolve()},o.runFn=function(n){for(var r,a,o,s=e._fullData,u=e._fullLayout._basePlotModules,f=[],d=0;d<s.length;d++)f.push(d);function p(){for(var t=0;t<u.length;t++)u[t].transitionAxes&&u[t].transitionAxes(e,l,r,n)}function $(){for(var t=0;t<u.length;t++)u[t].plot(e,o,a,n)}l.length&&t.anim?"traces first"===i.ordering?(r=c.extendFlat({},i,{duration:0}),o=f,a=i,setTimeout(p,i.duration),$()):(r=i,o=null,a=c.extendFlat({},i,{duration:0}),setTimeout($,r.duration),p()):l.length?(r=i,p()):t.anim&&(o=f,a=i,$())},O(e,i,o)},y.doCalcdata=function(e,t){var n,r,a,i,s=d.list(e),u=e._fullData,p=e._fullLayout,$=Array(u.length),h=(e.calcdata||[]).slice();for(e.calcdata=$,p._numBoxes=0,p._numViolins=0,p._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,p._piecolormap={},p._sunburstcolormap={},p._treemapcolormap={},p._funnelareacolormap={},a=0;a<u.length;a++)Array.isArray(t)&&-1===t.indexOf(a)&&($[a]=h[a]);for(a=0;a<u.length;a++)(n=u[a])._arrayAttrs=l.findArrayAttributes(n),n._extremes={};var g=p._subplots.polar||[];for(a=0;a<g.length;a++)s.push(p[g[a]].radialaxis,p[g[a]].angularaxis);for(var v in p._colorAxes){var m=p[v];!1!==m.cauto&&(delete m.cmin,delete m.cmax)}var y=!1;function x(t){if(r=(n=u[t])._module,!0===n.visible&&n.transforms){if(r&&r.calc){var a=r.calc(e,n);a[0]&&a[0].t&&a[0].t._scene&&delete a[0].t._scene.dirty}for(i=0;i<n.transforms.length;i++){var o=n.transforms[i];(r=_[o.type])&&r.calcTransform&&(n._hasCalcTransform=!0,y=!0,r.calcTransform(e,n,o))}}}function b(t,a){if(!!(r=(n=u[t])._module).isContainer===a){var o=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var l=n.transforms||[];for(i=l.length-1;i>=0;i--)if(l[i].enabled){n._indexToPoints=l[i]._indexToPoints;break}r&&r.calc&&(o=r.calc(e,n))}Array.isArray(o)&&o[0]||(o=[{x:f,y:f}]),o[0].t||(o[0].t={}),o[0].trace=n,$[t]=o}}for(P(s,u,p),a=0;a<u.length;a++)b(a,!0);for(a=0;a<u.length;a++)x(a);for(y&&P(s,u,p),a=0;a<u.length;a++)b(a,!0);for(a=0;a<u.length;a++)b(a,!1);z(e);var w=function(e,t){var n,r,a,i,l,s=[];function u(e,n,r){var a=n._id.charAt(0);if("histogram2dcontour"===e){var i=n._counterAxes[0],o=d.getFromId(t,i),l="x"===a||"x"===i&&"category"===o.type,s="y"===a||"y"===i&&"category"===o.type;return function(e,t){return 0===e||0===t||l&&e===r[t].length-1||s&&t===r.length-1?-1:("y"===a?t:e)-1}}return function(e,t){return"y"===a?t:e}}var f={min:function(e){return c.aggNums(Math.min,null,e)},max:function(e){return c.aggNums(Math.max,null,e)},sum:function(e){return c.aggNums(function(e,t){return e+t},null,e)},total:function(e){return c.aggNums(function(e,t){return e+t},null,e)},mean:function(e){return c.mean(e)},median:function(e){return c.median(e)}};for(n=0;n<e.length;n++){var p=e[n];if("category"===p.type){var $=p.categoryorder.match(D);if($){var h=$[1],g=$[2],v=p._id.charAt(0),m="x"===v,y=[];for(r=0;r<p._categories.length;r++)y.push([p._categories[r],[]]);for(r=0;r<p._traceIndices.length;r++){var _=p._traceIndices[r],x=t._fullData[_];if(!0===x.visible){var b=x.type;o.traceIs(x,"histogram")&&(delete x._xautoBinFinished,delete x._yautoBinFinished);var w="splom"===b,k="scattergl"===b,T=t.calcdata[_];for(a=0;a<T.length;a++){var A,L,C=T[a];if(w){var S=x._axesDim[p._id];if(!m){var M=x._diag[S][0];M&&(p=t._fullLayout[d.id2name(M)])}var O=C.trace.dimensions[S].values;for(i=0;i<O.length;i++)for(A=p._categoriesMap[O[i]],l=0;l<C.trace.dimensions.length;l++)if(l!==S){var P=C.trace.dimensions[l];y[A][1].push(P.values[i])}}else if(k){for(i=0;i<C.t.x.length;i++)m?(A=C.t.x[i],L=C.t.y[i]):(A=C.t.y[i],L=C.t.x[i]),y[A][1].push(L);C.t&&C.t._scene&&delete C.t._scene.dirty}else if(C.hasOwnProperty("z")){L=C.z;var z=u(x.type,p,L);for(i=0;i<L.length;i++)for(l=0;l<L[i].length;l++)(A=z(l,i))+1&&y[A][1].push(L[i][l])}else for(void 0===(A=C.p)&&(A=C[v]),void 0===(L=C.s)&&(L=C.v),void 0===L&&(L=m?C.y:C.x),Array.isArray(L)||(L=void 0===L?[]:[L]),i=0;i<L.length;i++)y[A][1].push(L[i])}}}p._categoriesValue=y;var R=[];for(r=0;r<y.length;r++)R.push([y[r][0],f[h](y[r][1])]);R.sort(function(e,t){return e[1]-t[1]}),p._categoriesAggregatedValue=R,p._initialCategories=R.map(function(e){return e[0]}),"descending"===g&&p._initialCategories.reverse(),s=s.concat(p.sortByInitialCategories())}}}return s}(s,e);if(w.length){for(p._numBoxes=0,p._numViolins=0,a=0;a<w.length;a++)b(w[a],!0);for(a=0;a<w.length;a++)b(w[a],!1);z(e)}o.getComponentMethod("fx","calc")(e),o.getComponentMethod("errorbars","calc")(e)};var D=/(total|sum|min|max|mean|median) (ascending|descending)/;function P(e,t,n){var r={};function a(e){e.clearCalc(),"multicategory"===e.type&&e.setupMultiCategory(t),r[e._id]=1}c.simpleMap(e,a);for(var i=n._axisMatchGroups||[],o=0;o<i.length;o++)for(var l in i[o])r[l]||a(n[d.id2name(l)])}function z(e){var t,n,r,a=e._fullLayout,i=a._visibleModules,o={};for(n=0;n<i.length;n++){var l=i[n],s=l.crossTraceCalc;if(s){var u=l.basePlotModule.name;o[u]?c.pushUnique(o[u],s):o[u]=[s]}}for(r in o){var f=o[r],d=a._subplots[r];if(Array.isArray(d))for(t=0;t<d.length;t++){var p=d[t],$="cartesian"===r?a._plots[p]:a[p];for(n=0;n<f.length;n++)f[n](e,$,p)}else for(n=0;n<f.length;n++)f[n](e)}}y.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},y.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},y.generalUpdatePerTraceModule=function(e,t,n,r){var a,i=t.traceHash,o={};for(a=0;a<n.length;a++){var l=n[a],s=l[0].trace;s.visible&&(o[s.type]=o[s.type]||[],o[s.type].push(l))}for(var u in i)if(!o[u]){var f=i[u][0];f[0].trace.visible=!1,o[u]=[f]}for(var d in o){var p=o[d];p[0][0].trace._module.plot(e,t,c.filterVisible(p),r)}t.traceHash=o},y.plotBasePlot=function(e,t,n,r,a){var i=o.getModule(e),l=g(t.calcdata,i)[0];i.plot(t,l,r,a)},y.cleanBasePlot=function(e,t,n,r,a){var i=a._has&&a._has(e),o=n._has&&n._has(e);i&&!o&&a["_"+e+"layer"].selectAll("g.trace").remove()}},{"../components/color":75,"../constants/numerical":181,"../lib":202,"../plot_api/plot_schema":236,"../plot_api/plot_template":237,"../plots/get_data":278,"../registry":290,"./animation_attributes":242,"./attributes":244,"./cartesian/axis_ids":251,"./cartesian/handle_outline":258,"./command":274,"./font_attributes":276,"./frame_attributes":277,"./layout_attributes":280,d3:9,"d3-time-format":7,"fast-isnumeric":11}],283:[function(e,t,n){"use strict";var r=e("../../../traces/scatter/attributes"),a=r.marker,i=e("../../../lib/extend").extendFlat;t.exports={r:i({},r.r,{}),t:i({},r.t,{}),marker:{color:i({},a.color,{}),size:i({},a.size,{}),symbol:i({},a.symbol,{}),opacity:i({},a.opacity,{}),editType:"calc"}}},{"../../../lib/extend":196,"../../../traces/scatter/attributes":330}],284:[function(e,t,n){"use strict";var r=e("../../cartesian/layout_attributes"),a=e("../../../lib/extend").extendFlat,i=e("../../../plot_api/edit_types").overrideAll,o=a({},r.domain,{});function l(e,t){return a({},t,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:"Legacy polar charts are deprecated! Please switch to *polar* subplots."},visible:{valType:"boolean"}})}t.exports=i({radialaxis:l(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:o,orientation:{valType:"number"}}),angularaxis:l(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:o}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":196,"../../../plot_api/edit_types":230,"../../cartesian/layout_attributes":262}],285:[function(e,t,n){"use strict";(t.exports=e("./micropolar")).manager=e("./micropolar_manager")},{"./micropolar":286,"./micropolar_manager":287}],286:[function(e,t,n){var r=e("d3"),a=e("../../../lib").extendDeepAll,i=e("../../../constants/alignment").MID_SHIFT,o=t.exports={version:"0.2.2"};o.Axis=function(){var e,t,n,l,s={data:[],layout:{}},c={},u={},f=r.dispatch("hover"),d={};return d.render=function(c){var f,d,p;return t=c||t,d=s.data,p=s.layout,("string"==typeof t||t.nodeName)&&(t=r.select(t)),t.datum(d).each(function(t,s){var c=t.slice();u={data:o.util.cloneJson(c),layout:o.util.cloneJson(p)};var f=0;c.forEach(function(e,t){e.color||(e.color=p.defaultColorRange[f],f=(f+1)%p.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),u.data[t].color=e.color,u.data[t].strokeColor=e.strokeColor,u.data[t].strokeDash=e.strokeDash,u.data[t].strokeSize=e.strokeSize});var d=c.filter(function(e,t){var n=e.visible;return void 0===n||!0===n}),$=!1,h=d.map(function(e,t){return $=$||void 0!==e.groupId,e});if($){var g=r.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(h),v=[],m=g.map(function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,r){e.yStack=[n],v.push(n),n=o.util.sumArrays(e.r,n)}),e.values});d=r.merge(m)}d.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var y=Math.min(p.width-p.margin.left-p.margin.right,p.height-p.margin.top-p.margin.bottom)/2;y=Math.max(10,y);var _,x=[p.margin.left+y,p.margin.top+y];_=$?[0,r.max(o.util.sumArrays(o.util.arrayLast(d).r[0],o.util.arrayLast(v)))]:r.extent(o.util.flattenArray(d.map(function(e,t){return e.r}))),p.radialAxis.domain!=o.DATAEXTENT&&(_[0]=0),n=r.scale.linear().domain(p.radialAxis.domain!=o.DATAEXTENT&&p.radialAxis.domain?p.radialAxis.domain:_).range([0,y]),u.layout.radialAxis.domain=n.domain();var b,w=o.util.flattenArray(d.map(function(e,t){return e.t})),k="string"==typeof w[0];k&&(b=(w=o.util.deduplicate(w)).slice(),w=r.range(w.length),d=d.map(function(e,t){var n=e;return e.t=[w],$&&(n.yStack=e.yStack),n}));var T=d.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===d.length,A=null===p.needsEndSpacing?k||!T:p.needsEndSpacing,L=p.angularAxis.domain&&p.angularAxis.domain!=o.DATAEXTENT&&!k&&p.angularAxis.domain[0]>=0?p.angularAxis.domain:r.extent(w),C=Math.abs(w[1]-w[0]);T&&!k&&(C=0);var S=L.slice();A&&k&&(S[1]+=C);var M=p.angularAxis.ticksCount||4;M>8&&(M=M/(M/8)+M%8),p.angularAxis.ticksStep&&(M=(S[1]-S[0])/M);var O=p.angularAxis.ticksStep||(S[1]-S[0])/(M*(p.minorTicks+1));b&&(O=Math.max(Math.round(O),1)),S[2]||(S[2]=O);var D=r.range.apply(this,S);if(D=D.map(function(e,t){return parseFloat(e.toPrecision(12))}),l=r.scale.linear().domain(S.slice(0,2)).range("clockwise"===p.direction?[0,360]:[360,0]),u.layout.angularAxis.domain=l.domain(),u.layout.angularAxis.endPadding=A?C:0,void 0===(e=r.select(this).select("svg.chart-root"))||e.empty()){var P=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),z=this.appendChild(this.ownerDocument.importNode(P.documentElement,!0));e=r.select(z)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var R,I=e.select(".chart-group"),E={fill:"none",stroke:p.tickColor},F={"font-size":p.font.size,"font-family":p.font.family,fill:p.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+p.font.outlineColor}).join(",")};if(p.showLegend){R=e.select(".legend-group").attr({transform:"translate("+[y,p.margin.top]+")"}).style({display:"block"});var N=d.map(function(e,t){var n=o.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n});o.Legend().config({data:d.map(function(e,t){return e.name||"Element"+t}),legendConfig:a({},o.Legend.defaultConfig().legendConfig,{container:R,elements:N,reverseOrder:p.legend.reverseOrder})})();var H=R.node().getBBox();y=Math.max(10,y=Math.min(p.width-H.width-p.margin.left-p.margin.right,p.height-p.margin.top-p.margin.bottom)/2),x=[p.margin.left+y,p.margin.top+y],n.range([0,y]),u.layout.radialAxis.domain=n.domain(),R.attr("transform","translate("+[x[0]+y,x[1]-y]+")")}else R=e.select(".legend-group").style({display:"none"});e.attr({width:p.width,height:p.height}).style({opacity:p.opacity}),I.attr("transform","translate("+x+")").style({cursor:"crosshair"});var B=[(p.width-(p.margin.left+p.margin.right+2*y+(H?H.width:0)))/2,(p.height-(p.margin.top+p.margin.bottom+2*y))/2];if(B[0]=Math.max(0,B[0]),B[1]=Math.max(0,B[1]),e.select(".outer-group").attr("transform","translate("+B+")"),p.title&&p.title.text){var V=e.select("g.title-group text").style(F).text(p.title.text),j=V.node().getBBox();V.attr({x:x[0]-j.width/2,y:x[1]-y-20})}var U=e.select(".radial.axis-group");if(p.radialAxis.gridLinesVisible){var q=U.selectAll("circle.grid-circle").data(n.ticks(5));q.enter().append("circle").attr({class:"grid-circle"}).style(E),q.attr("r",n),q.exit().remove()}U.select("circle.outside-circle").attr({r:y}).style(E);var G=e.select("circle.background-circle").attr({r:y}).style({fill:p.backgroundColor,stroke:p.stroke});function Z(e,t){return l(e)%360+p.orientation}if(p.radialAxis.visible){var Y=r.svg.axis().scale(n).ticks(5).tickSize(5);U.call(Y).attr({transform:"rotate("+p.radialAxis.orientation+")"}),U.selectAll(".domain").style(E),U.selectAll("g>text").text(function(e,t){return this.textContent+p.radialAxis.ticksSuffix}).style(F).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===p.radialAxis.tickOrientation?"rotate("+-p.radialAxis.orientation+") translate("+[0,F["font-size"]]+")":"translate("+[0,F["font-size"]]+")"}}),U.selectAll("g>line").style({stroke:"black"})}var X=e.select(".angular.axis-group").selectAll("g.angular-tick").data(D),W=X.enter().append("g").classed("angular-tick",!0);X.attr({transform:function(e,t){return"rotate("+Z(e)+")"}}).style({display:p.angularAxis.visible?"block":"none"}),X.exit().remove(),W.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(p.minorTicks+1)==0}).classed("minor",function(e,t){return t%(p.minorTicks+1)!=0}).style(E),W.selectAll(".minor").style({stroke:p.minorTickColor}),X.select("line.grid-line").attr({x1:p.tickLength?y-p.tickLength:0,x2:y}).style({display:p.angularAxis.gridLinesVisible?"block":"none"}),W.append("text").classed("axis-text",!0).style(F);var Q=X.select("text.axis-text").attr({x:y+p.labelOffset,dy:i+"em",transform:function(e,t){var n=Z(e),r=y+p.labelOffset,a=p.angularAxis.tickOrientation;return"horizontal"==a?"rotate("+-n+" "+r+" 0)":"radial"==a?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:p.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(p.minorTicks+1)!=0?"":b?b[e]+p.angularAxis.ticksSuffix:e+p.angularAxis.ticksSuffix}).style(F);p.angularAxis.rewriteTicks&&Q.text(function(e,t){return t%(p.minorTicks+1)!=0?"":p.angularAxis.rewriteTicks(this.textContent,t)});var J=r.max(I.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));R.attr({transform:"translate("+[y+J,p.margin.top]+")"});var K=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(d);if(ee.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),ee.exit().remove(),d[0]||K){var et=[];d.forEach(function(e,t){var r={};r.radialScale=n,r.angularScale=l,r.container=ee.filter(function(e,n){return n==t}),r.geometry=e.geometry,r.orientation=p.orientation,r.direction=p.direction,r.index=t,et.push({data:e,geometryConfig:r})});var en=r.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(et),er=[];en.forEach(function(e,t){"unstacked"===e.key?er=er.concat(e.values.map(function(e,t){return[e]})):er.push(e.values)}),er.forEach(function(e,t){n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var n,r=e.map(function(e,t){return a(o[n].defaultConfig(),e)});o[n]().config(r)()})}var ea,ei,eo=e.select(".guides-group"),el=e.select(".tooltips-group"),es=o.tooltipPanel().config({container:el,fontSize:8})(),ec=o.tooltipPanel().config({container:el,fontSize:8})(),eu=o.tooltipPanel().config({container:el,hasTick:!0})();if(!k){var ef=eo.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});I.on("mousemove.angular-guide",function(e,t){var n=o.util.getMousePos(G).angle;ef.attr({x2:-y,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-p.orientation)%360;ea=l.invert(r);var a=o.util.convertToCartesian(y+12,n+180);es.text(o.util.round(ea)).move([a[0]+x[0],a[1]+x[1]])}).on("mouseout.angular-guide",function(e,t){eo.select("line").style({opacity:0})})}var ed=eo.select("circle").style({stroke:"grey",fill:"none"});I.on("mousemove.radial-guide",function(e,t){var r=o.util.getMousePos(G).radius;ed.attr({r:r}).style({opacity:.5}),ei=n.invert(o.util.getMousePos(G).radius);var a=o.util.convertToCartesian(r,p.radialAxis.orientation);ec.text(o.util.round(ei)).move([a[0]+x[0],a[1]+x[1]])}).on("mouseout.radial-guide",function(e,t){ed.style({opacity:0}),eu.hide(),es.hide(),ec.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,n){var a=r.select(this),i=this.style.fill,l="black",s=this.style.opacity||1;if(a.attr({"data-opacity":s}),i&&"none"!==i){a.attr({"data-fill":i}),l=r.hsl(i).darker().toString(),a.style({fill:l,opacity:1});var c={t:o.util.round(t[0]),r:o.util.round(t[1])};k&&(c.t=b[t[0]]);var u="t: "+c.t+", r: "+c.r,f=this.getBoundingClientRect(),d=e.node().getBoundingClientRect(),p=[f.left+f.width/2-B[0]-d.left,f.top+f.height/2-B[1]-d.top];eu.config({color:l}).text(u),eu.move(p)}else i=this.style.stroke||"black",a.attr({"data-stroke":i}),l=r.hsl(i).darker().toString(),a.style({stroke:l,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&eu.show()}).on("mouseout.tooltip",function(e,t){eu.hide();var n=r.select(this),a=n.attr("data-fill");a?n.style({fill:a,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})}),this},d.config=function(e){if(!arguments.length)return s;var t=o.util.cloneJson(e);return t.data.forEach(function(e,t){s.data[t]||(s.data[t]={}),a(s.data[t],o.Axis.defaultConfig().data[0]),a(s.data[t],e)}),a(s.layout,o.Axis.defaultConfig().layout),a(s.layout,t.layout),this},d.getLiveConfig=function(){return u},d.getinputConfig=function(){return c},d.radialScale=function(e){return n},d.angularScale=function(e){return l},d.svg=function(){return e},r.rebind(d,f,"on"),d},o.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},o.util={},o.DATAEXTENT="dataExtent",o.AREA="AreaChart",o.LINE="LinePlot",o.DOT="DotPlot",o.BAR="BarChart",o.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},o.util._extend=function(e,t){for(var n in e)t[n]=e[n]},o.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},o.util.dataFromEquation2=function(e,t){var n=t||6;return r.range(0,360+n,n).map(function(t,n){return[t,e(t*Math.PI/180)]})},o.util.dataFromEquation=function(e,t,n){var a=t||6,i=[],o=[];r.range(0,360+a,a).forEach(function(t,n){var r=e(t*Math.PI/180);i.push(t),o.push(r)});var l={t:i,r:o};return n&&(l.name=n),l},o.util.ensureArray=function(e,t){if(void 0===e)return null;var n=[].concat(e);return r.range(t).map(function(e,t){return n[t]||n[0]})},o.util.fillArrays=function(e,t,n){return t.forEach(function(t,r){e[t]=o.util.ensureArray(e[t],n)}),e},o.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},o.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},o.util.sumArrays=function(e,t){return r.zip(e,t).map(function(e,t){return r.sum(e)})},o.util.arrayLast=function(e){return e[e.length-1]},o.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return -2===n},o.util.flattenArray=function(e){for(var t=[];!o.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},o.util.deduplicate=function(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})},o.util.convertToCartesian=function(e,t){var n=t*Math.PI/180;return[e*Math.cos(n),e*Math.sin(n)]},o.util.round=function(e,t){var n=Math.pow(10,t||2);return Math.round(e*n)/n},o.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],a=t[1],i={};return i.x=n,i.y=a,i.pos=t,i.angle=180*(Math.atan2(a,n)+Math.PI)/Math.PI,i.radius=Math.sqrt(n*n+a*a),i},o.util.duplicatesCount=function(e){for(var t,n={},r={},a=0,i=e.length;a<i;a++)(t=e[a])in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},o.util.duplicates=function(e){return Object.keys(o.util.duplicatesCount(e))},o.util.translator=function(e,t,n,r){if(r){var a=n.slice();n=t,t=a}var i=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==i&&(t.reduce(function(e,n,r){if(void 0!==e)return r===t.length-1&&delete e[n],e[n]},e),n.reduce(function(e,t,r){return void 0===e[t]&&(e[t]={}),r===n.length-1&&(e[t]=i),e[t]},e))},o.PolyChart=function(){var e=[o.PolyChart.defaultConfig()],t=r.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};function i(){var t=e[0].geometryConfig,a=t.container;"string"==typeof a&&(a=r.select(a)),a.datum(e).each(function(e,a){var i=!!e[0].data.yStack,o=e.map(function(e,t){return i?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])}),l=t.angularScale,s=t.radialScale.domain()[0],c={bar:function(n,a,i){var o=e[i].data,s=t.radialScale(n[1])-t.radialScale(0),c=t.radialScale(n[2]||0),u=o.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[s+c,-u/2],[s+c,u/2],[c,u/2],[c,-u/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+l(e[0]))+")"}})}};c.dot=function(n,a,i){var o=n[2]?[n[0],n[1]+n[2]]:n,l=r.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(n,a);r.select(this).attr({class:"mark dot",d:l,transform:function(e,n){var r,a,i,l,s,c={x:l=(i=(r=o,{r:a=t.radialScale(r[1]),t:(t.angularScale(r[0])+t.orientation)*Math.PI/180})).r*Math.cos(i.t),y:s=i.r*Math.sin(i.t)};return"translate("+[c.x,c.y]+")"}})};var u=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});c.line=function(n,a,i){var l=n[2]?o[i].map(function(e,t){return[e[0],e[1]+e[2]]}):o[i];if(r.select(this).each(c.dot).style({opacity:function(t,n){return+e[i].data.dotVisible},fill:$.stroke(n,a,i)}).attr({class:"mark dot"}),!(a>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:u(l),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return $.fill(n,a,i)},"fill-opacity":0,stroke:function(e,t){return $.stroke(n,a,i)},"stroke-width":function(e,t){return $["stroke-width"](n,a,i)},"stroke-dasharray":function(e,t){return $["stroke-dasharray"](n,a,i)},opacity:function(e,t){return $.opacity(n,a,i)},display:function(e,t){return $.display(n,a,i)}})}};var f=t.angularScale.range(),d=Math.abs(f[1]-f[0])/o[0].length*Math.PI/180,p=r.svg.arc().startAngle(function(e){return-d/2}).endAngle(function(e){return d/2}).innerRadius(function(e){return t.radialScale(s+(e[2]||0))}).outerRadius(function(e){return t.radialScale(s+(e[2]||0))+t.radialScale(e[1])});c.arc=function(e,n,a){r.select(this).attr({class:"mark arc",d:p,transform:function(e,n){return"rotate("+(t.orientation+l(e[0])+90)+")"}})};var $={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,r,a){return n[e[a].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return void 0===e[r].data.visible||e[r].data.visible?"block":"none"}},h=r.select(this).selectAll("g.layer").data(o);h.enter().append("g").attr({class:"layer"});var g=h.selectAll("path.mark").data(function(e,t){return e});g.enter().append("path").attr({class:"mark"}),g.style($).each(c[t.geometryType]),g.exit().remove(),h.exit().remove()})}return i.config=function(t){return arguments.length?(t.forEach(function(t,n){e[n]||(e[n]={}),a(e[n],o.PolyChart.defaultConfig()),a(e[n],t)}),this):e},i.getColorScale=function(){},r.rebind(i,t,"on"),i},o.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},o.BarChart=function(){return o.PolyChart()},o.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},o.AreaChart=function(){return o.PolyChart()},o.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},o.DotPlot=function(){return o.PolyChart()},o.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},o.LinePlot=function(){return o.PolyChart()},o.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},o.Legend=function(){var e=o.Legend.defaultConfig(),t=r.dispatch("hover");function n(){var t=e.legendConfig,i=e.data.map(function(e,n){return[].concat(e).map(function(e,r){var i=a({},t.elements[n]);return i.name=e,i.color=[].concat(t.elements[n].color)[r],i})}),o=r.merge(i);o=o.filter(function(e,n){return t.elements[n]&&(t.elements[n].visibleInLegend||void 0===t.elements[n].visibleInLegend)}),t.reverseOrder&&(o=o.reverse());var l=t.container;("string"==typeof l||l.nodeName)&&(l=r.select(l));var s=o.map(function(e,t){return e.color}),c=t.fontSize,u=null==t.isContinuous?"number"==typeof o[0]:t.isContinuous,f=u?t.height:c*o.length,d=l.classed("legend-group",!0).selectAll("svg").data([0]),p=d.enter().append("svg").attr({width:300,height:f+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var $=r.range(o.length),h=r.scale[u?"linear":"ordinal"]().domain($).range(s),g=r.scale[u?"linear":"ordinal"]().domain($)[u?"range":"rangePoints"]([0,f]);if(u){var v=d.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);v.enter().append("stop"),v.attr({offset:function(e,t){return t/(s.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),d.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var m=d.select(".legend-marks").selectAll("path.legend-mark").data(o);m.enter().append("path").classed("legend-mark",!0),m.attr({transform:function(e,t){return"translate("+[c/2,g(t)+c/2]+")"},d:function(e,t){var n,a,i,o=e.symbol;return i=3*(a=c),"line"===(n=o)?"M"+[[-a/2,-a/12],[a/2,-a/12],[a/2,a/12],[-a/2,a/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(n)?r.svg.symbol().type(n).size(i)():r.svg.symbol().type("square").size(i)()},fill:function(e,t){return h(t)}}),m.exit().remove()}var y=r.svg.axis().scale(g).orient("right"),_=d.select("g.legend-axis").attr({transform:"translate("+[u?t.colorBandWidth:c,c/2]+")"}).call(y);return _.selectAll(".domain").style({fill:"none",stroke:"none"}),_.selectAll("line").style({fill:"none",stroke:u?t.textColor:"none"}),_.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text(function(e,t){return o[t].name}),n}return n.config=function(t){return arguments.length?(a(e,t),this):e},r.rebind(n,t,"on"),n},o.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},o.tooltipPanel=function(){var e,t,n,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+o.tooltipPanel.uid++,s=function(){var r=(e=i.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:i.padding+10,dy:.3*+i.fontSize}),s};return s.text=function(a){var o=r.hsl(i.color).l;t.style({fill:o>=.5?"black":"white","font-size":i.fontSize+"px"}).text(a||"");var l=i.padding,c=t.node().getBBox(),u={fill:i.color,stroke:o>=.5?"#aaa":"white","stroke-width":"2px"},f=c.width+2*l+10,d=c.height+2*l;return n.attr({d:"M"+[[10,-d/2],[10,-d/4],[i.hasTick?0:10,0],[10,d/4],[10,d/2],[f,d/2],[f,-d/2]].join("L")+"Z"}).style(u),e.attr({transform:"translate("+[10,-d/2+2*l]+")"}),e.style({display:"block"}),s},s.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),s},s.hide=function(){if(e)return e.style({display:"none"}),s},s.show=function(){if(e)return e.style({display:"block"}),s},s.config=function(e){return a(i,e),s},s},o.tooltipPanel.uid=1,o.adapter={},o.adapter.plotly=function(){return{convert:function(e,t){var n={};if(e.data&&(n.data=e.data.map(function(e,n){var r=a({},e);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach(function(e,n){o.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var i=o.util.duplicates(n.data.map(function(e,t){return e.geometry}));n.data.forEach(function(e,t){var r=i.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)})}if(e.layout){var l=a({},e.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(e,n){o.util.translator.apply(null,e.concat(t))}),t?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var s=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],u={};r.entries(l.margin).forEach(function(e,t){u[c[s.indexOf(e.key)]]=e.value}),l.margin=u}t&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),n.layout=l}return n}}}},{"../../../constants/alignment":177,"../../../lib":202,d3:9}],287:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../../lib"),i=e("../../../components/color"),o=e("./micropolar"),l=e("./undo_manager"),s=a.extendDeepAll,c=t.exports={};c.framework=function(e){var t,n,a,i,u,f=new l;function d(n,l){return l&&(u=l),r.select(r.select(u).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?s(t,n):n,a||(a=o.Axis()),i=o.adapter.plotly().convert(t),a.config(i).render(u),e.data=t.data,e.layout=t.layout,c.fillLayout(e),t}return d.isPolar=!0,d.svg=function(){return a.svg()},d.getConfig=function(){return t},d.getLiveConfig=function(){return o.adapter.plotly().convert(a.getLiveConfig(),!0)},d.getLiveScales=function(){return{t:a.angularScale(),r:a.radialScale()}},d.setUndoPoint=function(){var e,r,a=this,i=o.util.cloneJson(t);e=i,r=n,f.add({undo:function(){r&&a(r)},redo:function(){a(e)}}),n=o.util.cloneJson(i)},d.undo=function(){f.undo()},d.redo=function(){f.redo()},d},c.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),a=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:n,_paper:a};e._fullLayout=s(o,e.layout)}},{"../../../components/color":75,"../../../lib":202,"./micropolar":286,"./undo_manager":288,d3:9}],288:[function(e,t,n){"use strict";t.exports=function(){var e,t=[],n=-1,r=!1;function a(e,t){return e&&(r=!0,e[t](),r=!1),this}return{add:function(e){return r||(t.splice(n+1,t.length-n),t.push(e),n=t.length-1),this},setCallback:function(t){e=t},undo:function(){var r=t[n];return r&&(a(r,"undo"),n-=1,e&&e(r.undo)),this},redo:function(){var r=t[n+1];return r&&(a(r,"redo"),n+=1,e&&e(r.redo)),this},clear:function(){t=[],n=-1},hasUndo:function(){return -1!==n},hasRedo:function(){return n<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[n-1]},getIndex:function(){return n}}}},{}],289:[function(e,t,n){"use strict";function r(e){var t=e.description?" "+e.description:"",n=e.keys||[];if(n.length>0){for(var r=[],a=0;a<n.length;a++)r[a]="`"+n[a]+"`";t+="Finally, the template string has access to ",t=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return t}['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',e("../constants/docs").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',e("../constants/docs").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" "),n.hovertemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"none"};return!1!==e.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"calc"};return!1!==e.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":179}],290:[function(e,t,n){"use strict";var r=e("./lib/loggers"),a=e("./lib/noop"),i=e("./lib/push_unique"),o=e("./lib/is_plain_object"),l=e("./lib/dom").addStyleRule,s=e("./lib/extend"),c=e("./plots/attributes"),u=e("./plots/layout_attributes"),f=s.extendFlat,d=s.extendDeepAll;function p(e){var t=e.name,a=e.categories,i=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||function(e){var t=e.name;if(n.subplotsRegistry[t])return void r.log("Plot type "+t+" already registered.");for(var a in v(e),n.subplotsRegistry[t]=e,n.componentsRegistry)_(a,e.name)}(e.basePlotModule);for(var o={},s=0;s<a.length;s++)o[a[s]]=!0,n.allCategories[a[s]]=!0;for(var c in n.modules[t]={_module:e,categories:o},i&&Object.keys(i).length&&(n.modules[t].meta=i),n.allTypes.push(t),n.componentsRegistry)m(c,t);e.layoutAttributes&&f(n.traceLayoutAttributes,e.layoutAttributes);var u=e.basePlotModule,d=u.name;if("mapbox"===d){var p=u.constants.styleRules;for(var $ in p)l(".js-plotly-plot .plotly .mapboxgl-"+$,p[$])}"geo"!==d&&"mapbox"!==d||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function $(e){if("string"!=typeof e.name)throw Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&i(n.layoutArrayContainers,t),v(e)),n.modules)m(t,r);for(var a in n.subplotsRegistry)_(t,a);for(var o in n.transformsRegistry)y(t,o);e.schema&&e.schema.layout&&d(u,e.schema.layout)}function h(e){if("string"!=typeof e.name)throw Error("Transform module *name* must be a string.");var t="Transform module "+e.name,a="function"==typeof e.transform,i="function"==typeof e.calcTransform;if(!a&&!i)throw Error(t+" is missing a *transform* or *calcTransform* method.");for(var l in a&&i&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),o(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)y(l,e.name)}function g(e){var t=e.name,r=t.split("-")[0],a=e.dictionary,i=e.format,o=a&&Object.keys(a).length,l=i&&Object.keys(i).length,s=n.localeRegistry,c=s[t];if(c||(s[t]=c={}),r!==t){var u=s[r];u||(s[r]=u={}),o&&u.dictionary===c.dictionary&&(u.dictionary=a),l&&u.format===c.format&&(u.format=i)}o&&(c.dictionary=a),l&&(c.format=i)}function v(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)i(n.layoutArrayRegexes,t[r])}}function m(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var a=r.traces[t];a&&d(n.modules[t]._module.attributes,a)}}function y(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var a=r.transforms[t];a&&d(n.transformsRegistry[t].attributes,a)}}function _(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var a=n.subplotsRegistry[t],i=a.layoutAttributes,o="subplot"===a.attr?a.name:a.attr;Array.isArray(o)&&(o=o[0]);var l=r.subplots[o];i&&l&&d(i,l)}}function x(e){return"object"==typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(e){if(n.collectableSubplotTypes=null,!e)throw Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":p(r);break;case"transform":h(r);break;case"component":$(r);break;case"locale":g(r);break;case"apiMethod":var a=r.name;n.apiMethodRegistry[a]=r.fn;break;default:throw Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[x(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=x(e)))return!1;var a=n.modules[e];return a||(e&&"area"!==e&&r.log("Unrecognized trace type "+e+"."),a=n.modules[c.type.dflt]),!!a.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],a=0;a<r.length;a++)r[a].type===t&&n.push(a);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||a},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/dom":194,"./lib/extend":196,"./lib/is_plain_object":203,"./lib/loggers":206,"./lib/noop":211,"./lib/push_unique":216,"./plots/attributes":244,"./plots/layout_attributes":280}],291:[function(e,t,n){"use strict";var r=e("../registry"),a=e("../lib"),i=a.extendFlat,o=a.extendDeep;function l(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}t.exports=function(e,t){e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var n,a,s=e.data,c=e.layout,u=o([],s),f=o({},c,l(t.tileClass)),d=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var p=Object.keys(f);for(n=0;n<p.length;n++)["xaxis","yaxis","zaxis"].indexOf((a=p[n]).slice(0,5))>-1&&(f[p[n]].title={text:""});for(n=0;n<u.length;n++){var $=u[n];$.showscale=!1,$.marker&&($.marker.showscale=!1),r.traceIs($,"pie-like")&&($.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var h=Object.keys(f).filter(function(e){return e.match(/^scene\d*$/)});if(h.length){var g={};for("thumbnail"===t.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<h.length;n++){var v=f[h[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),i(v.xaxis,g),i(v.yaxis,g),i(v.zaxis,g),v._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var y={gd:m,td:m,layout:f,data:u,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==t.setBackground&&(y.config.setBackground=t.setBackground||"opaque"),y.gd.defaultLayout=l(t.tileClass),y}},{"../lib":202,"../registry":290}],292:[function(e,t,n){"use strict";var r=e("../lib"),a=e("../plot_api/to_image"),i=e("./filesaver"),o=e("./helpers");t.exports=function(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise(function(l,s){n&&n._snapshotInProgress&&s(Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==t.format&&s(Error(o.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var c=a(e,t),u=t.filename||e.fn||"newplot";u+="."+t.format.replace("-","."),c.then(function(e){return n&&(n._snapshotInProgress=!1),i(e,u,t.format)}).then(function(e){l(e)}).catch(function(e){n&&(n._snapshotInProgress=!1),s(e)})})}},{"../lib":202,"../plot_api/to_image":240,"./filesaver":293,"./helpers":294}],293:[function(e,t,n){"use strict";var r=e("../lib"),a=e("./helpers");t.exports=function(e,t,n){var i=document.createElement("a"),o="download"in i;return new Promise(function(l,s){var c,u;return(r.isIE9orBelow()&&s(Error("IE < 10 unsupported")),r.isSafari())?(a.octetStream(("svg"===n?",":";base64,")+encodeURIComponent(e)),l(t)):r.isIE()?(c=a.createBlob(e,"svg"),window.navigator.msSaveBlob(c,t),c=null,l(t)):o?(c=a.createBlob(e,n),u=a.createObjectURL(c),i.href=u,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),a.revokeObjectURL(u),c=null,l(t)):void s(Error("download error"))})}},{"../lib":202,"./helpers":294}],294:[function(e,t,n){"use strict";var r=e("../registry");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){var t=e._fullLayout||{};!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},n.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var a=window.URL||window.webkitURL;n.createObjectURL=function(e){return a.createObjectURL(e)},n.revokeObjectURL=function(e){return a.revokeObjectURL(e)},n.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===t)return new window.Blob([e],{type:"application/json;charset=utf-8"});var n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),a=0;a<t;a++)r[a]=e.charCodeAt(a);return n}(window.atob(e));return new window.Blob([n],{type:"image/"+t})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":290}],295:[function(e,t,n){"use strict";var r=e("./helpers"),a={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=a},{"./cloneplot":291,"./download":292,"./helpers":294,"./svgtoimg":296,"./toimage":297,"./tosvg":298}],296:[function(e,t,n){"use strict";var r=e("../lib"),a=e("events").EventEmitter,i=e("./helpers");t.exports=function(e){var t=e.emitter||new a,n=new Promise(function(a,o){var l=window.Image,s=e.svg,c=e.format||"png";if(r.isIE()&&"svg"!==c){var u=Error(i.MSG_IE_BAD_FORMAT);return o(u),e.promise?n:t.emit("error",u)}var f,d,p=e.canvas,$=e.scale||1,h=e.width||300,g=e.height||150,v=$*h,m=$*g,y=p.getContext("2d"),_=new l;"svg"===c||r.isIE9orBelow()||r.isSafari()?d=i.encodeSVG(s):(f=i.createBlob(s,"svg"),d=i.createObjectURL(f)),p.width=v,p.height=m,_.onload=function(){var n;switch(f=null,i.revokeObjectURL(d),"svg"!==c&&y.drawImage(_,0,0,v,m),c){case"jpeg":n=p.toDataURL("image/jpeg");break;case"png":n=p.toDataURL("image/png");break;case"webp":n=p.toDataURL("image/webp");break;case"svg":n=d;break;default:var r="Image format is not jpeg, png, svg or webp.";if(o(Error(r)),!e.promise)return t.emit("error",r)}a(n),e.promise||t.emit("success",n)},_.onerror=function(n){if(f=null,i.revokeObjectURL(d),o(n),!e.promise)return t.emit("error",n)},_.src=d});return e.promise?n:t}},{"../lib":202,"./helpers":294,events:6}],297:[function(e,t,n){"use strict";var r=e("events").EventEmitter,a=e("../registry"),i=e("../lib"),o=e("./helpers"),l=e("./cloneplot"),s=e("./tosvg"),c=e("./svgtoimg");t.exports=function(e,t){var n=new r,u=l(e,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var d=o.getRedrawFunc(f);return a.call("plot",f,u.data,u.layout,u.config).then(d).then(function(){setTimeout(function(){var e=s(f),r=document.createElement("canvas");r.id=i.randstr(),(n=c({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}},o.getDelay(f._fullLayout))}).catch(function(e){n.emit("error",e)}),n}},{"../lib":202,"../registry":290,"./cloneplot":291,"./helpers":294,"./svgtoimg":296,"./tosvg":298,events:6}],298:[function(e,t,n){"use strict";var r=e("d3"),a=e("../lib"),i=e("../components/drawing"),o=e("../components/color"),l=e("../constants/xmlns_namespaces"),s=/"/g,c=RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(e,t,n){var u,f=e._fullLayout,d=f._paper,p=f._toppaper,$=f.width,h=f.height;d.insert("rect",":first-child").call(i.setRect,0,0,$,h).call(o.fill,f.paper_bgcolor);var g=f._basePlotModules||[];for(u=0;u<g.length;u++){var v=g[u];v.toSVG&&v.toSVG(e)}if(p){var m=p.node().childNodes,y=Array.prototype.slice.call(m);for(u=0;u<y.length;u++){var _=y[u];_.childNodes.length&&d.node().appendChild(_)}}if(f._draggers&&f._draggers.remove(),d.node().style.background="",d.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(s,"TOBESTRIPPED"))}else e.remove()}),f._gradientUrlQueryParts){var x=[];for(var b in f._gradientUrlQueryParts)x.push(b);x.length&&d.selectAll(x.join(",")).each(function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(s,"TOBESTRIPPED"));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(s,"TOBESTRIPPED"))})}"pdf"!==t&&"eps"!==t||d.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),d.node().setAttributeNS(l.xmlns,"xmlns",l.svg),d.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===t&&n&&(d.attr("width",n*$),d.attr("height",n*h),d.attr("viewBox","0 0 "+$+" "+h));var w,k,T,A=(new window.XMLSerializer).serializeToString(d.node());return A=(A=(A=(w=A,k=r.select("body").append("div").style({display:"none"}).html(""),T=w.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":k.html(e).text()}),k.remove(),T)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(c,"'"),a.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},{"../components/color":75,"../components/drawing":97,"../constants/xmlns_namespaces":182,"../lib":202,d3:9}],299:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx");var a=t.marker;if(a){r.mergeArray(a.opacity,e,"mo",!0),r.mergeArray(a.color,e,"mc");var i=a.line;i&&(r.mergeArray(i.color,e,"mlc"),r.mergeArrayCastPositive(i.width,e,"mlw"))}}},{"../../lib":202}],300:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),a=e("../../plots/template_attributes").hovertemplateAttrs,i=e("../../plots/template_attributes").texttemplateAttrs,o=e("../../components/colorscale/attributes"),l=e("../../plots/font_attributes"),s=e("./constants"),c=e("../../lib/extend").extendFlat,u=l({editType:"calc",arrayOk:!0,colorEditType:"style"}),f=c({},r.marker.line.width,{dflt:0}),d=c({width:f,editType:"calc"},o("marker.line")),p=c({line:d,editType:"calc"},o("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"}});t.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,text:r.text,texttemplate:i({editType:"plot"},{keys:s.eventDataKeys}),hovertext:r.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:c({},u,{}),insidetextfont:c({},u,{}),outsidetextfont:c({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:c({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:p,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},r:r.r,t:r.t,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":82,"../../lib/extend":196,"../../plots/font_attributes":276,"../../plots/template_attributes":289,"../scatter/attributes":330,"./constants":302}],301:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),a=e("../../plots/cartesian/align_period"),i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/calc"),l=e("./arrays_to_calcdata"),s=e("../scatter/calc_selection");t.exports=function(e,t){var n,c,u,f,d=r.getFromId(e,t.xaxis||"x"),p=r.getFromId(e,t.yaxis||"y"),$={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(n=d.makeCalcdata(t,"x",$),u=p.makeCalcdata(t,"y"),c=a(t,p,"y",u),f=!!t.yperiodalignment):(n=p.makeCalcdata(t,"y",$),u=d.makeCalcdata(t,"x"),c=a(t,d,"x",u),f=!!t.xperiodalignment);for(var h=Math.min(c.length,n.length),g=Array(h),v=0;v<h;v++)g[v]={p:c[v],s:n[v]},f&&(g[v].orig_p=u[v]),t.ids&&(g[v].id=String(t.ids[v]));return i(t,"marker")&&o(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),i(t,"marker.line")&&o(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(g,t),s(g,t),g}},{"../../components/colorscale/calc":83,"../../components/colorscale/helpers":86,"../../plots/cartesian/align_period":245,"../../plots/cartesian/axes":248,"../scatter/calc_selection":332,"./arrays_to_calcdata":299}],302:[function(e,t,n){"use strict";t.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],303:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib").isArrayOrTypedArray,i=e("../../constants/numerical").BADNUM,o=e("../../registry"),l=e("../../plots/cartesian/axes"),s=e("../../plots/cartesian/constraints").getAxisGroup,c=e("./sieve.js");function u(e,t,n,o,u){if(o.length){var _,x,b,w,k,T,A,L,C,S;switch(function(e,t){var n,i;for(n=0;n<t.length;n++){var o,l=t[n],s=l[0].trace,c="funnel"===s.type?s._base:s.base,u="h"===s.orientation?s.xcalendar:s.ycalendar,f="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(a(c)){for(i=0;i<Math.min(c.length,l.length);i++)r(o=f(c[i],0,u))?(l[i].b=+o,l[i].hasB=1):l[i].b=0;for(;i<l.length;i++)l[i].b=0}else{var d=r(o=f(c,0,u));for(o=d?o:0,i=0;i<l.length;i++)l[i].b=o,d&&(l[i].hasB=1)}}}(n,o),u.mode){case"overlay":f(t,n,o,u);break;case"group":for(_=[],x=[],b=0;b<o.length;b++)void 0===(w=o[b])[0].trace.offset?x.push(w):_.push(w);x.length&&(k=e,T=t,A=n,L=x,C=u,function(e,t,n,r){for(var a=e._fullLayout,i=n.positions,o=n.distinctPositions,l=n.minDiff,c=n.traces,u=c.length,f=i.length!==o.length,d=l*(1-r.gap),g=s(a,t._id)+c[0][0].trace.orientation,v=a._alignmentOpts[g]||{},m=0;m<u;m++){var y,_,x=c[m],b=x[0].trace,w=Object.keys((v[b.alignmentgroup]||{}).offsetGroups||{}).length,k=(y=w?d/w:f?d/u:d)*(1-(r.groupgap||0));_=w?((2*b._offsetIndex+1-w)*y-k)/2:f?((2*m+1-u)*y-k)/2:-k/2;var T=x[0].t;T.barwidth=k,T.poffset=_,T.bargroupwidth=d,T.bardelta=l}n.binWidth=c[0][0].t.barwidth/100,p(n),$(t,n),h(t,n,f)}(k,T,S=new c(L,{sepNegVal:!1,overlapNoMerge:!C.norm}),C),function(e){for(var t=e.traces,n=0;n<t.length;n++){var r=t[n];if(void 0===r[0].trace.base)for(var a=new c([r],{sepNegVal:!0,overlapNoMerge:!0}),o=0;o<r.length;o++){var l=r[o];if(l.p!==i){var s=a.put(l.p,l.b+l.s);s&&(l.b=s)}}}}(S),C.norm?(v(S),m(A,S,C)):g(A,S)),_.length&&f(t,n,_,u);break;case"stack":case"relative":for(_=[],x=[],b=0;b<o.length;b++)void 0===(w=o[b])[0].trace.base?x.push(w):_.push(w);x.length&&function(e,t,n,r,a){var o=new c(r,{sepNegVal:"relative"===a.mode,overlapNoMerge:!(a.norm||"stack"===a.mode||"relative"===a.mode)});d(t,o,a),function(e,t,n){var r,a,o,s,c,u,f=y(e),d=t.traces;for(s=0;s<d.length;s++)if("funnel"===(a=(r=d[s])[0].trace).type)for(c=0;c<r.length;c++)(u=r[c]).s!==i&&t.put(u.p,-.5*u.s);for(s=0;s<d.length;s++){o="funnel"===(a=(r=d[s])[0].trace).type;var p=[];for(c=0;c<r.length;c++)if((u=r[c]).s!==i){$=o?u.s:u.s+u.b;var $,h=t.put(u.p,$),g=h+$;u.b=h,u[f]=g,n.norm||(p.push(g),u.hasB&&p.push(h))}n.norm||(a._extremes[e._id]=l.findExtremes(e,p,{tozero:!0,padded:!0}))}}(n,o,a);for(var s=0;s<r.length;s++)for(var u=r[s],f=0;f<u.length;f++){var p=u[f];p.s!==i&&p.b+p.s===o.get(p.p,p.s)&&(p._outmost=!0)}a.norm&&m(n,o,a)}(0,t,n,x,u),_.length&&f(t,n,_,u)}!function(e,t){var n,a,i,o=y(t),l={},s=1/0,c=-1/0;for(n=0;n<e.length;n++)for(i=e[n],a=0;a<i.length;a++){var u=i[a].p;r(u)&&(s=Math.min(s,u),c=Math.max(c,u))}var f=1e4/(c-s),d=l.round=function(e){return String(Math.round(f*(e-s)))};for(n=0;n<e.length;n++){(i=e[n])[0].t.extents=l;var p=i[0].t.poffset,$=Array.isArray(p);for(a=0;a<i.length;a++){var h=i[a],g=h[o]-h.w/2;if(r(g)){var v=h[o]+h.w/2,m=d(h.p);l[m]?l[m]=[Math.min(g,l[m][0]),Math.max(v,l[m][1])]:l[m]=[g,v]}h.p0=h.p+($?p[a]:p),h.p1=h.p0+h.w,h.s0=h.b,h.s1=h.s0+h.s}}}(o,t)}}function f(e,t,n,r){for(var a=0;a<n.length;a++){var i=n[a],o=new c([i],{unitMinDiff:r.xCat||r.yCat,sepNegVal:!1,overlapNoMerge:!r.norm});d(e,o,r),r.norm?(v(o),m(t,o,r)):g(t,o)}}function d(e,t,n){for(var r=t.minDiff,a=t.traces,i=r*(1-n.gap),o=i*(1-(n.groupgap||0)),l=-o/2,s=0;s<a.length;s++){var c=a[s][0].t;c.barwidth=o,c.poffset=l,c.bargroupwidth=i,c.bardelta=r}t.binWidth=a[0][0].t.barwidth/100,p(t),$(e,t),h(e,t)}function p(e){var t,n,i=e.traces;for(t=0;t<i.length;t++){var o,l=i[t],s=l[0],c=s.trace,u=s.t,f=c._offset||c.offset,d=u.poffset;if(a(f)){for(o=Array.prototype.slice.call(f,0,l.length),n=0;n<o.length;n++)r(o[n])||(o[n]=d);for(n=o.length;n<l.length;n++)o.push(d);u.poffset=o}else void 0!==f&&(u.poffset=f);var p=c._width||c.width,$=u.barwidth;if(a(p)){var h=Array.prototype.slice.call(p,0,l.length);for(n=0;n<h.length;n++)r(h[n])||(h[n]=$);for(n=h.length;n<l.length;n++)h.push($);if(u.barwidth=h,void 0===f){for(o=[],n=0;n<l.length;n++)o.push(d+($-h[n])/2);u.poffset=o}}else void 0!==p&&(u.barwidth=p,void 0===f&&(u.poffset=d+($-p)/2))}}function $(e,t){for(var n=t.traces,r=y(e),a=0;a<n.length;a++)for(var i=n[a],o=i[0].t,l=o.poffset,s=Array.isArray(l),c=o.barwidth,u=Array.isArray(c),f=0;f<i.length;f++){var d=i[f],p=d.w=u?c[f]:c;d[r]=d.p+(s?l[f]:l)+p/2}}function h(e,t,n){var r=t.traces,a=t.minDiff/2;l.minDtick(e,t.minDiff,t.distinctPositions[0],n);for(var i=0;i<r.length;i++){var o,s,c,u,f=r[i],d=f[0],p=d.trace,$=[];for(u=0;u<f.length;u++)s=(o=f[u]).p-a,c=o.p+a,$.push(s,c);if(p.width||p.offset){var h=d.t,g=h.poffset,v=h.barwidth,m=Array.isArray(g),y=Array.isArray(v);for(u=0;u<f.length;u++){o=f[u];var _=m?g[u]:g,x=y?v[u]:v;c=(s=o.p+_)+x,$.push(s,c)}}p._extremes[e._id]=l.findExtremes(e,$,{padded:!1})}}function g(e,t){for(var n=t.traces,r=y(e),a=0;a<n.length;a++){for(var i=n[a],o=i[0].trace,s=[],c=!1,u=0;u<i.length;u++){var f=i[u],d=f.b,p=d+f.s;f[r]=p,s.push(p),f.hasB&&s.push(d),f.hasB&&f.b||(c=!0)}o._extremes[e._id]=l.findExtremes(e,s,{tozero:c,padded:!0})}}function v(e){for(var t=e.traces,n=0;n<t.length;n++)for(var r=t[n],a=0;a<r.length;a++){var o=r[a];o.s!==i&&e.put(o.p,o.b+o.s)}}function m(e,t,n){var a=t.traces,o=y(e),s="fraction"===n.norm?1:100,c=s/1e9,u=e.l2c(e.c2l(0)),f="stack"===n.mode?s:u;function d(t){return r(e.c2l(t))&&(t<u-c||t>f+c||!r(u))}for(var p=0;p<a.length;p++){for(var $=a[p],h=$[0].trace,g=[],v=!1,m=!1,_=0;_<$.length;_++){var x=$[_];if(x.s!==i){var b=Math.abs(s/t.get(x.p,x.s));x.b*=b,x.s*=b;var w=x.b,k=w+x.s;x[o]=k,g.push(k),m=m||d(k),x.hasB&&(g.push(w),m=m||d(w)),x.hasB&&x.b||(v=!0)}}h._extremes[e._id]=l.findExtremes(e,g,{tozero:v,padded:m})}}function y(e){return e._id.charAt(0)}t.exports={crossTraceCalc:function(e,t){for(var n=t.xaxis,r=t.yaxis,a=e._fullLayout,i=e._fullData,l=e.calcdata,s=[],c=[],f=0;f<i.length;f++){var d=i[f];if(!0===d.visible&&o.traceIs(d,"bar")&&d.xaxis===n._id&&d.yaxis===r._id&&("h"===d.orientation?s.push(l[f]):c.push(l[f]),d._computePh))for(var p=e.calcdata[f],$=0;$<p.length;$++)"function"==typeof p[$].ph0&&(p[$].ph0=p[$].ph0()),"function"==typeof p[$].ph1&&(p[$].ph1=p[$].ph1())}var h={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};u(e,n,r,c,h),u(e,r,n,s,h)},setGroupPositions:u}},{"../../constants/numerical":181,"../../lib":202,"../../plots/cartesian/axes":248,"../../plots/cartesian/constraints":255,"../../registry":290,"./sieve.js":313,"fast-isnumeric":11}],304:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/color"),i=e("../../registry"),o=e("../scatter/xy_defaults"),l=e("../scatter/period_defaults"),s=e("./style_defaults"),c=e("../../plots/cartesian/constraints").getAxisGroup,u=e("./attributes"),f=r.coerceFont;function d(e,t,n,r){var a=t.orientation,i=c(n,t[({v:"x",h:"y"})[a]+"axis"])+a,o=n._alignmentOpts||{},l=r("alignmentgroup"),s=o[i];s||(s=o[i]={});var u=s[l];u?u.traces.push(t):u=s[l]={traces:[t],alignmentIndex:Object.keys(s).length,offsetGroups:{}};var f=r("offsetgroup"),d=u.offsetGroups,p=d[f];f&&(p||(p=d[f]={offsetIndex:Object.keys(d).length}),t._offsetIndex=p.offsetIndex)}function p(e,t,n,a,i,o){var l=!1!==(o=o||{}).moduleHasSelected,s=!1!==o.moduleHasUnselected,c=!1!==o.moduleHasConstrain,u=!1!==o.moduleHasCliponaxis,d=!1!==o.moduleHasTextangle,p=!1!==o.moduleHasInsideanchor,$=!!o.hasPathbar,h=Array.isArray(i)||"auto"===i,g=h||"inside"===i,v=h||"outside"===i;if(g||v){var m=f(a,"textfont",n.font),y=r.extendFlat({},m),_=!(e.textfont&&e.textfont.color);if(_&&delete y.color,f(a,"insidetextfont",y),$){var x=r.extendFlat({},m);_&&delete x.color,f(a,"pathbar.textfont",x)}v&&f(a,"outsidetextfont",m),l&&a("selected.textfont.color"),s&&a("unselected.textfont.color"),c&&a("constraintext"),u&&a("cliponaxis"),d&&a("textangle"),a("texttemplate")}g&&p&&a("insidetextanchor")}t.exports={supplyDefaults:function(e,t,n,c){function f(n,a){return r.coerce(e,t,u,n,a)}if(o(e,t,c,f)){l(e,t,c,f),f("orientation",t.x&&!t.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var d=f("textposition");p(e,t,c,f,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(e,t,f,n,c);var $=(t.marker.line||{}).color,h=i.getComponentMethod("errorbars","supplyDefaults");h(e,t,$||a.defaultLine,{axis:"y"}),h(e,t,$||a.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1},crossTraceDefaults:function(e,t){var n;function a(e){return r.coerce(n._input,n,u,e)}if("group"===t.barmode)for(var i=0;i<e.length;i++)"bar"===(n=e[i]).type&&(n._input,d(0,n,t,a))},handleGroupingDefaults:d,handleText:p}},{"../../components/color":75,"../../lib":202,"../../plots/cartesian/constraints":255,"../../registry":290,"../scatter/period_defaults":350,"../scatter/xy_defaults":357,"./attributes":300,"./style_defaults":315}],305:[function(e,t,n){"use strict";t.exports=function(e,t,n){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===n.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},{}],306:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("tinycolor2"),i=e("../../lib").isArrayOrTypedArray;n.coerceString=function(e,t,n){if("string"==typeof t){if(t||!e.noBlank)return t}else if(("number"==typeof t||!0===t)&&!e.strict)return String(t);return void 0!==n?n:e.dflt},n.coerceNumber=function(e,t,n){if(r(t)){t=+t;var a=e.min,i=e.max;if(!(void 0!==a&&t<a||void 0!==i&&t>i))return t}return void 0!==n?n:e.dflt},n.coerceColor=function(e,t,n){return a(t).isValid()?t:void 0!==n?n:e.dflt},n.coerceEnumerated=function(e,t,n){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==n?n:e.dflt},n.getValue=function(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n},n.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:i(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":202,"fast-isnumeric":11,tinycolor2:58}],307:[function(e,t,n){"use strict";var r=e("../../components/fx"),a=e("../../registry"),i=e("../../components/color"),o=e("../../lib").fillText,l=e("./helpers").getLineWidth,s=e("../../plots/cartesian/axes").hoverLabelText,c=e("../../constants/numerical").BADNUM;function u(e,t,n,a){var i,l,u,f,d,p,$,h=e.cd,g=h[0].trace,v=h[0].t,m="closest"===a,y="waterfall"===g.type,_=e.maxHoverDistance;function x(e){return e[u]-e.w/2}function b(e){return e[u]+e.w/2}var w=m?x:function(e){return Math.min(x(e),e.p-v.bardelta/2)},k=m?b:function(e){return Math.max(b(e),e.p+v.bardelta/2)};function T(e,t){return r.inbox(e-i,t-i,_+Math.min(1,Math.abs(t-e)/$)-1)}function A(e){return T(w(e),k(e))}function L(e){var t=l,n=e.b,a=e[f];if(y){var i=Math.abs(e.rawS)||0;t>0?a+=i:t<0&&(a-=i)}return r.inbox(n-t,a-t,_+(a-t)/(a-n)-1)}"h"===g.orientation?(i=n,l=t,u="y",f="x",d=L,p=A):(i=t,l=n,u="x",f="y",p=L,d=A);var C=e[u+"a"],S=e[f+"a"];$=Math.abs(C.r2c(C.range[1])-C.r2c(C.range[0]));var M=r.getDistanceFunction(a,d,p,function(e){return(d(e)+p(e))/2});if(r.getClosest(h,M,e),!1!==e.index&&h[e.index].p!==c){m||(w=function(e){return Math.min(x(e),e.p-v.bargroupwidth/2)},k=function(e){return Math.max(b(e),e.p+v.bargroupwidth/2)});var O=h[e.index],D=g.base?O.b+O.s:O.s;e[f+"0"]=e[f+"1"]=S.c2p(O[f],!0),e[f+"LabelVal"]=D;var P=v.extents[v.extents.round(O.p)];e[u+"0"]=C.c2p(m?w(O):P[0],!0),e[u+"1"]=C.c2p(m?k(O):P[1],!0);var z,R=void 0!==O.orig_p;return e[u+"LabelVal"]=R?O.orig_p:O.p,e.labelLabel=s(C,e[u+"LabelVal"]),e.valueLabel=s(S,e[f+"LabelVal"]),e.baseLabel=s(S,O.b),e.spikeDistance=(L(O)+T(x(z=O),b(z)))/2-_,e[u+"Spike"]=C.c2p(O.p,!0),o(O,g,e),e.hovertemplate=g.hovertemplate,e}}function f(e,t){var n=t.mcc||e.marker.color,r=t.mlcc||e.marker.line.color,a=l(e,t);return i.opacity(n)?n:i.opacity(r)&&a?r:void 0}t.exports={hoverPoints:function(e,t,n,r){var i=u(e,t,n,r);if(i){var o=i.cd,l=o[0].trace,s=o[i.index];return i.color=f(l,s),a.getComponentMethod("errorbars","hoverInfo")(s,l,i),[i]}},hoverOnBars:u,getTraceColor:f}},{"../../components/color":75,"../../components/fx":115,"../../constants/numerical":181,"../../lib":202,"../../plots/cartesian/axes":248,"../../registry":290,"./helpers":306}],308:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyDefaults:e("./defaults").supplyDefaults,crossTraceDefaults:e("./defaults").crossTraceDefaults,supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),crossTraceCalc:e("./cross_trace_calc").crossTraceCalc,colorbar:e("../scatter/marker_colorbar"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot").plot,style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover").hoverPoints,eventData:e("./event_data"),selectPoints:e("./select"),moduleType:"trace",name:"bar",basePlotModule:e("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":261,"../scatter/marker_colorbar":348,"./arrays_to_calcdata":299,"./attributes":300,"./calc":301,"./cross_trace_calc":303,"./defaults":304,"./event_data":305,"./hover":307,"./layout_attributes":309,"./layout_defaults":310,"./plot":311,"./select":312,"./style":314}],309:[function(e,t,n){"use strict";t.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],310:[function(e,t,n){"use strict";var r=e("../../registry"),a=e("../../plots/cartesian/axes"),i=e("../../lib"),o=e("./layout_attributes");t.exports=function(e,t,n){function l(n,r){return i.coerce(e,t,o,n,r)}for(var s=!1,c=!1,u=!1,f={},d=l("barmode"),p=0;p<n.length;p++){var $=n[p];if(r.traceIs($,"bar")&&$.visible){if(s=!0,"group"===d){var h=$.xaxis+$.yaxis;f[h]&&(u=!0),f[h]=!0}$.visible&&"histogram"===$.type&&"category"!==a.getFromId({_fullLayout:t},$["v"===$.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}s?("overlay"!==d&&l("barnorm"),l("bargap",c&&!u?0:.2),l("bargroupgap")):delete t.barmode}},{"../../lib":202,"../../plots/cartesian/axes":248,"../../registry":290,"./layout_attributes":309}],311:[function(e,t,n){"use strict";var r=e("d3"),a=e("fast-isnumeric"),i=e("../../lib"),o=e("../../lib/svg_text_utils"),l=e("../../components/color"),s=e("../../components/drawing"),c=e("../../registry"),u=e("../../plots/cartesian/axes").tickText,f=e("./uniform_text"),d=f.recordMinTextSize,p=f.clearMinTextSize,$=e("./style"),h=e("./helpers"),g=e("./constants"),v=e("./attributes"),m=v.text,y=v.textposition,_=e("../../components/fx/helpers").appendArrayPointValue,x=g.TEXTPAD;function b(e){return e.id}function w(e,t){return e<t?1:-1}function k(e,t,n,r){var a;return!t.uniformtext.mode&&T(n)?(r&&(a=r()),e.transition().duration(n.duration).ease(n.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()})):e}function T(e){return e&&e.duration>0}function A(e){return"auto"===e?0:e}function L(e,t){var n=Math.PI/180*t,r=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));return{x:e.width*a+e.height*r,y:e.width*r+e.height*a}}function C(e,t,n,r,a,i){var o=!!i.isHorizontal,l=!!i.constrained,s=i.angle||0,c=i.anchor||"end",u="start"===c,f=((i.leftToRight||0)+1)/2,d=1-f,p=a.width,$=a.height,h=Math.abs(t-e),g=Math.abs(r-n),v=h>2*x&&g>2*x?x:0;h-=2*v,g-=2*v;var m=A(s);"auto"!==s||p<=h&&$<=g||!(p>h||$>g)||(p>g||$>h)&&p<$==h<g||(m+=90);var y=L(a,m),_=1;l&&(_=Math.min(1,h/y.x,g/y.y));var b=a.left*d+a.right*f,k=(a.top+a.bottom)/2,T=(e+x)*d+(t-x)*f,C=(n+r)/2,S=0,M=0;if(u||"end"===c){var O=(o?y.x:y.y)/2,D=o?w(e,t):w(n,r);o?u?(T=e+D*v,S=-D*O):(T=t-D*v,S=D*O):u?(C=n+D*v,M=-D*O):(C=r-D*v,M=D*O)}return{textX:b,textY:k,targetX:T,targetY:C,anchorX:S,anchorY:M,scale:_,rotate:m}}t.exports={plot:function(e,t,n,f,g,v){var S=t.xaxis,M=t.yaxis,O=e._fullLayout;g||(g={mode:O.barmode,norm:O.barmode,gap:O.bargap,groupgap:O.bargroupgap},p("bar",O));var D=i.makeTraceGroups(f,n,"trace bars").each(function(n){var c=r.select(this),f=n[0].trace,p="waterfall"===f.type,D="funnel"===f.type,P="bar"===f.type||D,z=0;p&&f.connector.visible&&"between"===f.connector.mode&&(z=f.connector.line.width/2);var R="h"===f.orientation,I=T(g),E=i.ensureSingle(c,"g","points"),F=function e(t){if(t.ids)return b}(f),N=E.selectAll("g.point").data(i.identity,F);N.enter().append("g").classed("point",!0),N.exit().remove(),N.each(function(c,p){var b,T,D,E,F,N,H,B,V,j,U=r.select(this),q=(b=c,T=S,D=M,E=R,F=[],N=[],H=E?T:D,B=E?D:T,F[0]=H.c2p(b.s0,!0),N[0]=B.c2p(b.p0,!0),F[1]=H.c2p(b.s1,!0),N[1]=B.c2p(b.p1,!0),E?[F,N]:[N,F]),G=q[0][0],Z=q[0][1],Y=q[1][0],X=q[1][1],W=0==(R?Z-G:X-Y);if(W&&P&&h.getLineWidth(f,c)&&(W=!1),W||(W=!(a(G)&&a(Z)&&a(Y)&&a(X))),c.isBlank=W,W&&(R?Z=G:X=Y),z&&!W&&(R?(G-=w(G,Z)*z,Z+=w(G,Z)*z):(Y-=w(Y,X)*z,X+=w(Y,X)*z)),"waterfall"===f.type){if(!W){var Q=f[c.dir].marker;V=Q.line.width,j=Q.color}}else V=h.getLineWidth(f,c),j=c.mc||f.marker.color;function J(e){var t=r.round(V/2%1,2);return 0===g.gap&&0===g.groupgap?r.round(Math.round(e)-t,2):e}if(!e._context.staticPlot){var K=1>l.opacity(j)||V>.01?J:function(e,t,n){return n&&e===t?e:Math.abs(e-t)>=2?J(e):e>t?Math.ceil(e):Math.floor(e)};G=K(G,Z,R),Z=K(Z,G,R),Y=K(Y,X,!R),X=K(X,Y,!R)}var ee=k(i.ensureSingle(U,"path"),O,g,v);if(ee.style("vector-effect","non-scaling-stroke").attr("d",isNaN((Z-G)*(X-Y))||W&&e._context.staticPlot?"M0,0Z":"M"+G+","+Y+"V"+X+"H"+Z+"V"+Y+"Z").call(s.setClipUrl,t.layerClipId,e),!O.uniformtext.mode&&I){var et=s.makePointStyleFns(f);s.singlePointStyle(c,ee,f,et,e)}(function(e,t,n,r,a,l,c,f,p,g,v){var b,T=t.xaxis,S=t.yaxis,M=e._fullLayout;function O(t,n,r){return i.ensureSingle(t,"text").text(n).attr({class:"bartext bartext-"+b,"text-anchor":"middle","data-notex":1}).call(s.font,r).call(o.convertToTspans,e)}var D,P,z,R,I,E,F,N,H,B,V=r[0].trace,j="h"===V.orientation,U=(D=M,P=r,z=a,R=T,I=S,E=(F=P[0].trace).texttemplate?function(e,t,n,r,a){var o,l=t[0].trace,s=i.castOption(l,n,"texttemplate");if(!s)return"";var c,f,d,p,$="waterfall"===l.type,h="funnel"===l.type;function g(e){return u(p,+e,!0).text}"h"===l.orientation?(c="y",f=a,d="x",p=r):(c="x",f=r,d="y",p=a);var v=t[n],m={};m.label=v.p,m.labelLabel=m[c+"Label"]=u(f,o=v.p,!0).text;var y=i.castOption(l,v.i,"text");(0===y||y)&&(m.text=y),m.value=v.s,m.valueLabel=m[d+"Label"]=g(v.s);var x={};_(x,l,v.i),$&&(m.delta=+v.rawS||v.s,m.deltaLabel=g(m.delta),m.final=v.v,m.finalLabel=g(m.final),m.initial=m.final-m.delta,m.initialLabel=g(m.initial)),h&&(m.value=v.s,m.valueLabel=g(m.value),m.percentInitial=v.begR,m.percentInitialLabel=i.formatPercent(v.begR),m.percentPrevious=v.difR,m.percentPreviousLabel=i.formatPercent(v.difR),m.percentTotal=v.sumR,m.percenTotalLabel=i.formatPercent(v.sumR));var b=i.castOption(l,v.i,"customdata");return b&&(m.customdata=b),i.texttemplateString(s,m,e._d3locale,x,m,l._meta||{})}(D,P,z,R,I):F.textinfo?function(e,t,n,r){var a,o=e[0].trace,l="h"===o.orientation,s="waterfall"===o.type,c="funnel"===o.type;function f(e){return u(l?n:r,+e,!0).text}var d,p=o.textinfo,$=e[t],h=p.split("+"),g=[],v=function(e){return -1!==h.indexOf(e)};if(v("label")&&g.push(u(l?r:n,a=e[t].p,!0).text),v("text")&&(0===(d=i.castOption(o,$.i,"text"))||d)&&g.push(d),s){var m=+$.rawS||$.s,y=$.v;v("initial")&&g.push(f(y-m)),v("delta")&&g.push(f(m)),v("final")&&g.push(f(y))}if(c){v("value")&&g.push(f($.s));var _=0;v("percent initial")&&_++,v("percent previous")&&_++,v("percent total")&&_++;var x=_>1;v("percent initial")&&(d=i.formatPercent($.begR),x&&(d+=" of initial"),g.push(d)),v("percent previous")&&(d=i.formatPercent($.difR),x&&(d+=" of previous"),g.push(d)),v("percent total")&&(d=i.formatPercent($.sumR),x&&(d+=" of total"),g.push(d))}return g.join("<br>")}(P,z,R,I):h.getValue(F.text,z),h.coerceString(m,E));b=(N=V,H=a,B=h.getValue(N.textposition,H),h.coerceEnumerated(y,B));var q="stack"===g.mode||"relative"===g.mode,G=r[a],Z=!q||G._outmost;if(!U||"none"===b||(G.isBlank||l===c||f===p)&&("auto"===b||"inside"===b))return void n.select("text").remove();var Y=M.font,X=$.getBarColor(r[a],V),W=$.getInsideTextFont(V,a,Y,X),Q=$.getOutsideTextFont(V,a,Y),J=n.datum();j?"log"===T.type&&J.s0<=0&&(l=T.range[0]<T.range[1]?0:T._length):"log"===S.type&&J.s0<=0&&(f=S.range[0]<S.range[1]?S._length:0);var K,ee,et,en,er,ea=Math.abs(c-l)-2*x,ei=Math.abs(p-f)-2*x;if("outside"===b&&(Z||G.hasB||(b="inside")),"auto"===b){if(Z){b="inside",er=i.ensureUniformFontSize(e,W),K=O(n,U,er),et=(ee=s.bBox(K.node())).width,en=ee.height;var eo=et<=ea&&en<=ei,el=et<=ei&&en<=ea,es=j?ea>=et*(ei/en):ei>=en*(ea/et);et>0&&en>0&&(eo||el||es)?b="inside":(b="outside",K.remove(),K=null)}else b="inside"}if(!K){er=i.ensureUniformFontSize(e,"outside"===b?Q:W);var ec=(K=O(n,U,er)).attr("transform");if(K.attr("transform",""),et=(ee=s.bBox(K.node())).width,en=ee.height,K.attr("transform",ec),et<=0||en<=0)return void K.remove()}var eu,ef,ed,ep,e$,eh,eg,ev,em,ey,e_,ex,eb,e8,e0,ew,ek,eT,e1,e3,eA,e4,e2,eL,e6,eC,eS,e5=V.textangle;"outside"===b?(ef="both"===V.constraintext||"outside"===V.constraintext,eu=(ed=l,ep=c,e$=f,eh=p,eg=ee,ey=!!(ev={isHorizontal:j,constrained:ef,angle:e5}).isHorizontal,e_=!!ev.constrained,ex=ev.angle||0,eb=eg.width,e8=eg.height,e0=Math.abs(ep-ed),ew=Math.abs(eh-e$),em=ey?ew>2*x?x:0:e0>2*x?x:0,ek=1,e_&&(ek=ey?Math.min(1,ew/e8):Math.min(1,e0/eb)),eT=A(ex),e1=L(eg,eT),e3=(ey?e1.x:e1.y)/2,eA=(eg.left+eg.right)/2,e4=(eg.top+eg.bottom)/2,e2=(ed+ep)/2,eL=(e$+eh)/2,e6=0,eC=0,eS=ey?w(ep,ed):w(e$,eh),ey?(e2=ep-eS*em,e6=eS*e3):(eL=eh+eS*em,eC=-eS*e3),{textX:eA,textY:e4,targetX:e2,targetY:eL,anchorX:e6,anchorY:eC,scale:ek,rotate:eT})):eu=C(l,c,f,p,ee,{isHorizontal:j,constrained:ef="both"===V.constraintext||"inside"===V.constraintext,angle:e5,anchor:V.insidetextanchor}),eu.fontSize=er.size,d(V.type,eu,M),G.transform=eu,k(K,M,g,v).attr("transform",i.getTextTransform(eu))})(e,t,U,n,p,G,Z,Y,X,g,v),t.layerClipId&&s.hideOutsideRangePoint(c,U.select("text"),S,M,f.xcalendar,f.ycalendar)});var H=!1===f.cliponaxis;s.setClipUrl(c,H?null:t.layerClipId,e)});c.getComponentMethod("errorbars","plot")(e,D,t,g)},toMoveInsideBar:C}},{"../../components/color":75,"../../components/drawing":97,"../../components/fx/helpers":111,"../../lib":202,"../../lib/svg_text_utils":224,"../../plots/cartesian/axes":248,"../../registry":290,"./attributes":300,"./constants":302,"./helpers":306,"./style":314,"./uniform_text":316,d3:9,"fast-isnumeric":11}],312:[function(e,t,n){"use strict";function r(e,t,n,r,a){var i=t.c2p(r?e.s0:e.p0,!0),o=t.c2p(r?e.s1:e.p1,!0),l=n.c2p(r?e.p0:e.s0,!0),s=n.c2p(r?e.p1:e.s1,!0);return a?[(i+o)/2,(l+s)/2]:r?[o,(l+s)/2]:[(i+o)/2,s]}t.exports=function(e,t){var n,a=e.cd,i=e.xaxis,o=e.yaxis,l=a[0].trace,s="funnel"===l.type,c="h"===l.orientation,u=[];if(!1===t)for(n=0;n<a.length;n++)a[n].selected=0;else for(n=0;n<a.length;n++){var f=a[n],d="ct"in f?f.ct:r(f,i,o,c,s);t.contains(d,!1,n,e)?(u.push({pointNumber:n,x:i.c2d(f.x),y:o.c2d(f.y)}),f.selected=1):f.selected=0}return u}},{}],313:[function(e,t,n){"use strict";t.exports=i;var r=e("../../lib").distinctVals,a=e("../../constants/numerical").BADNUM;function i(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var n=1/0,i=[],o=0;o<e.length;o++){for(var l=e[o],s=0;s<l.length;s++){var c=l[s];c.p!==a&&i.push(c.p)}l[0]&&l[0].width1&&(n=Math.min(l[0].width1,n))}this.positions=i;var u=r(i,{unitMinDiff:t.unitMinDiff});this.distinctPositions=u.vals,1===u.vals.length&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(u.minDiff,n),this.binWidth=this.minDiff,this.bins={}}i.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},i.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},i.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":181,"../../lib":202}],314:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/color"),i=e("../../components/drawing"),o=e("../../lib"),l=e("../../registry"),s=e("./uniform_text").resizeText,c=e("./attributes"),u=c.textfont,f=c.insidetextfont,d=c.outsidetextfont,p=e("./helpers");function $(e,t,n){i.pointStyle(e.selectAll("path"),t,n),h(e,t,n)}function h(e,t,n){e.selectAll("text").each(function(e){var a=r.select(this),l=o.ensureUniformFontSize(n,g(a,e,t,n));i.font(a,l)})}function g(e,t,n,r){var a=r._fullLayout.font,i=n.textfont;if(e.classed("bartext-inside")){var o=x(t,n);i=m(n,t.i,a,o)}else e.classed("bartext-outside")&&(i=y(n,t.i,a));return i}function v(e,t,n){return _(u,e.textfont,t,n)}function m(e,t,n,r){var i=v(e,t,n);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(i={color:a.contrast(r),family:i.family,size:i.size}),_(f,e.insidetextfont,t,i)}function y(e,t,n){var r=v(e,t,n);return _(d,e.outsidetextfont,t,r)}function _(e,t,n,r){t=t||{};var a=p.getValue(t.family,n),i=p.getValue(t.size,n),o=p.getValue(t.color,n);return{family:p.coerceString(e.family,a,r.family),size:p.coerceNumber(e.size,i,r.size),color:p.coerceColor(e.color,o,r.color)}}function x(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mc||t.marker.color}t.exports={style:function(e){var t=r.select(e).selectAll("g.barlayer").selectAll("g.trace");s(e,t,"bar");var n=t.size(),a=e._fullLayout;t.style("opacity",function(e){return e[0].trace.opacity}).each(function(e){("stack"===a.barmode&&n>1||0===a.bargap&&0===a.bargroupgap&&!e[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(t){$(r.select(this),t[0].trace,e)}),l.getComponentMethod("errorbars","style")(t)},styleTextPoints:h,styleOnSelect:function(e,t,n){var a,s,c,u=t[0].trace;u.selectedpoints?(a=n,s=u,c=e,i.selectedPointStyle(a.selectAll("path"),s),function(e,t,n){e.each(function(e){var a,l=r.select(this);if(e.selected){a=o.ensureUniformFontSize(n,g(l,e,t,n));var s=t.selected.textfont&&t.selected.textfont.color;s&&(a.color=s),i.font(l,a)}else i.selectedTextStyle(l,t)})}(a.selectAll("text"),s,c)):($(n,u,e),l.getComponentMethod("errorbars","style")(n))},getInsideTextFont:m,getOutsideTextFont:y,getBarColor:x,resizeText:s}},{"../../components/color":75,"../../components/drawing":97,"../../lib":202,"../../registry":290,"./attributes":300,"./helpers":306,"./uniform_text":316,d3:9}],315:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/defaults");t.exports=function(e,t,n,o,l){n("marker.color",o),a(e,"marker")&&i(e,t,l,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),a(e,"marker.line")&&i(e,t,l,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),n("selected.marker.color"),n("unselected.marker.color")}},{"../../components/color":75,"../../components/colorscale/defaults":85,"../../components/colorscale/helpers":86}],316:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../lib");function i(e){return"_"+e+"Text_minsize"}t.exports={recordMinTextSize:function(e,t,n){if(n.uniformtext.mode){var r=i(e),a=n.uniformtext.minsize,o=t.scale*t.fontSize;t.hide=o<a,n[r]=n[r]||1/0,t.hide||(n[r]=Math.min(n[r],Math.max(o,a)))}},clearMinTextSize:function(e,t){t[i(e)]=void 0},resizeText:function(e,t,n){var i=e._fullLayout,o=i["_"+n+"Text_minsize"];if(o){var l,s="hide"===i.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":l="g.slice";break;case"treemap":l="g.slice, g.pathbar";break;default:l="g.points > g.point"}t.selectAll(l).each(function(e){var t=e.transform;t&&(t.scale=s&&t.hide?0:o/t.fontSize,r.select(this).select("text").attr("transform",a.getTextTransform(t)))})}}}},{"../../lib":202,d3:9}],317:[function(e,t,n){"use strict";var r=e("../../plots/attributes"),a=e("../../plots/domain").attributes,i=e("../../plots/font_attributes"),o=e("../../components/color/attributes"),l=e("../../plots/template_attributes").hovertemplateAttrs,s=e("../../plots/template_attributes").texttemplateAttrs,c=e("../../lib/extend").extendFlat,u=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});t.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:c({},r.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:l({},{keys:["label","color","value","percent","text"]}),texttemplate:s({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:c({},u,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:c({},u,{}),outsidetextfont:c({},u,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:c({},u,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:c({},u,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":74,"../../lib/extend":196,"../../plots/attributes":244,"../../plots/domain":275,"../../plots/font_attributes":276,"../../plots/template_attributes":289}],318:[function(e,t,n){"use strict";var r=e("../../plots/plots");n.name="pie",n.plot=function(e,t,a,i){r.plotBasePlot(n.name,e,t,a,i)},n.clean=function(e,t,a,i){r.cleanBasePlot(n.name,e,t,a,i)}},{"../../plots/plots":282}],319:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("tinycolor2"),i=e("../../components/color"),o={};function l(e){return function(t,n){return!!t&&!!(t=a(t)).isValid()&&(t=i.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t)}}function s(e,t){var n,r=JSON.stringify(e),i=t[r];if(!i){for(i=e.slice(),n=0;n<e.length;n++)i.push(a(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)i.push(a(e[n]).darken(20).toHexString());t[r]=i}return i}t.exports={calc:function(e,t){var n,a,i=[],o=e._fullLayout,s=o.hiddenlabels||[],c=t.labels,u=t.marker.colors||[],f=t.values,d=t._length,p=t._hasValues&&d;if(t.dlabel)for(c=Array(d),n=0;n<d;n++)c[n]=String(t.label0+n*t.dlabel);var $={},h=l(o["_"+t.type+"colormap"]),g=0,v=!1;for(n=0;n<d;n++){if(p){if(!r(m=f[n])||(m=+m)<0)continue}else m=1;void 0!==(y=c[n])&&""!==y||(y=n);var m,y,_,x=$[y=String(y)];void 0===x?($[y]=i.length,(_=-1!==s.indexOf(y))||(g+=m),i.push({v:m,label:y,color:h(u[n],y),i:n,pts:[n],hidden:_})):(v=!0,(a=i[x]).v+=m,a.pts.push(n),a.hidden||(g+=m),!1===a.color&&u[n]&&(a.color=h(u[n],y)))}return("funnelarea"===t.type?v:t.sort)&&i.sort(function(e,t){return t.v-e.v}),i[0]&&(i[0].vTotal=g),i},crossTraceCalc:function(e,t){var n=(t||{}).type;n||(n="pie");var r=e._fullLayout,a=e.calcdata,i=r[n+"colorway"],l=r["_"+n+"colormap"];r["extend"+n+"colors"]&&(i=s(i,o));for(var c=0,u=0;u<a.length;u++){var f=a[u];if(f[0].trace.type===n)for(var d=0;d<f.length;d++){var p=f[d];!1===p.color&&(l[p.label]?p.color=l[p.label]:(l[p.label]=p.color=i[c%i.length],c++))}}},makePullColorFn:l,generateExtendedColors:s}},{"../../components/color":75,"fast-isnumeric":11,tinycolor2:58}],320:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("./attributes"),o=e("../../plots/domain").defaults,l=e("../bar/defaults").handleText;function s(e,t){var n=Array.isArray(e),i=a.isArrayOrTypedArray(t),o=Math.min(n?e.length:1/0,i?t.length:1/0);if(isFinite(o)||(o=0),o&&i){for(var l,s=0;s<o;s++){var c=t[s];if(r(c)&&c>0){l=!0;break}}l||(o=0)}return{hasLabels:n,hasValues:i,len:o}}t.exports={handleLabelsAndValues:s,supplyDefaults:function(e,t,n,r){function c(n,r){return a.coerce(e,t,i,n,r)}var u=s(c("labels"),c("values")),f=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(c("label0"),c("dlabel")),f){t._length=f,c("marker.line.width")&&c("marker.line.color"),c("marker.colors"),c("scalegroup");var d,p=c("text"),$=c("texttemplate");if($||(d=c("textinfo",Array.isArray(p)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),$||d&&"none"!==d){var h=c("textposition");l(e,t,r,c,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(h)||"auto"===h||"outside"===h)&&c("automargin"),("inside"===h||"auto"===h||Array.isArray(h))&&c("insidetextorientation")}o(t,r,c);var g=c("hole");if(c("title.text")){var v=c("title.position",g?"middle center":"top center");g||"middle center"!==v||(t.title.position="top center"),a.coerceFont(c,"title.font",r.font)}c("sort"),c("direction"),c("rotation"),c("pull")}else t.visible=!1}}},{"../../lib":202,"../../plots/domain":275,"../bar/defaults":304,"./attributes":317,"fast-isnumeric":11}],321:[function(e,t,n){"use strict";var r=e("../../components/fx/helpers").appendArrayMultiPointValues;t.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,v:e.v};return 1===e.pts.length&&(n.pointNumber=n.i=e.pts[0]),r(n,t,e.pts),"funnelarea"===t.type&&(delete n.v,delete n.i),n}},{"../../components/fx/helpers":111}],322:[function(e,t,n){"use strict";var r=e("../../lib");function a(e){return -1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}n.formatPiePercent=function(e,t){var n=a((100*e).toPrecision(3));return r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=a(e.toPrecision(10));return r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0},n.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},{"../../lib":202}],323:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,supplyLayoutDefaults:e("./layout_defaults"),layoutAttributes:e("./layout_attributes"),calc:e("./calc").calc,crossTraceCalc:e("./calc").crossTraceCalc,plot:e("./plot").plot,style:e("./style"),styleOne:e("./style_one"),moduleType:"trace",name:"pie",basePlotModule:e("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":317,"./base_plot":318,"./calc":319,"./defaults":320,"./layout_attributes":324,"./layout_defaults":325,"./plot":326,"./style":327,"./style_one":328}],324:[function(e,t,n){"use strict";t.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],325:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}n("hiddenlabels"),n("piecolorway",t.colorway),n("extendpiecolors")}},{"../../lib":202,"./layout_attributes":324}],326:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../plots/plots"),i=e("../../components/fx"),o=e("../../components/color"),l=e("../../components/drawing"),s=e("../../lib"),c=s.strScale,u=s.strTranslate,f=e("../../lib/svg_text_utils"),d=e("../bar/uniform_text"),p=d.recordMinTextSize,$=d.clearMinTextSize,h=e("../bar/constants").TEXTPAD,g=e("./helpers"),v=e("./event_data"),m=e("../../lib").isValidTextValue;function y(e,t,n){var a=n[0],o=a.trace,l=a.cx,c=a.cy;"_hasHoverLabel"in o||(o._hasHoverLabel=!1),"_hasHoverEvent"in o||(o._hasHoverEvent=!1),e.on("mouseover",function(e){var n=t._fullLayout,u=t._fullData[o.index];if(!t._dragging&&!1!==n.hovermode){var f=u.hoverinfo;if(Array.isArray(f)&&(f=i.castHoverinfo({hoverinfo:[g.castOption(f,e.pts)],_module:o._module},n,0)),"all"===f&&(f="label+text+value+percent+name"),u.hovertemplate||"none"!==f&&"skip"!==f&&f){var d=e.rInscribed||0,p=l+e.pxmid[0]*(1-d),$=c+e.pxmid[1]*(1-d),h=n.separators,m=[];if(f&&-1!==f.indexOf("label")&&m.push(e.label),e.text=g.castOption(u.hovertext||u.text,e.pts),f&&-1!==f.indexOf("text")){var y=e.text;s.isValidTextValue(y)&&m.push(y)}e.value=e.v,e.valueLabel=g.formatPieValue(e.v,h),f&&-1!==f.indexOf("value")&&m.push(e.valueLabel),e.percent=e.v/a.vTotal,e.percentLabel=g.formatPiePercent(e.percent,h),f&&-1!==f.indexOf("percent")&&m.push(e.percentLabel);var _=u.hoverlabel,x=_.font;i.loneHover({trace:o,x0:p-d*a.r,x1:p+d*a.r,y:$,text:m.join("<br>"),name:u.hovertemplate||-1!==f.indexOf("name")?u.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:g.castOption(_.bgcolor,e.pts)||e.color,borderColor:g.castOption(_.bordercolor,e.pts),fontFamily:g.castOption(x.family,e.pts),fontSize:g.castOption(x.size,e.pts),fontColor:g.castOption(x.color,e.pts),nameLength:g.castOption(_.namelength,e.pts),textAlign:g.castOption(_.align,e.pts),hovertemplate:g.castOption(u.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[v(e,u)]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t}),o._hasHoverLabel=!0}o._hasHoverEvent=!0,t.emit("plotly_hover",{points:[v(e,u)],event:r.event})}}),e.on("mouseout",function(e){var n=t._fullLayout,a=t._fullData[o.index],l=r.select(this).datum();o._hasHoverEvent&&(e.originalEvent=r.event,t.emit("plotly_unhover",{points:[v(l,a)],event:r.event}),o._hasHoverEvent=!1),o._hasHoverLabel&&(i.loneUnhover(n._hoverlayer.node()),o._hasHoverLabel=!1)}),e.on("click",function(e){var n=t._fullLayout,a=t._fullData[o.index];t._dragging||!1===n.hovermode||(t._hoverdata=[v(e,a)],i.click(t,r.event))})}function _(e,t,n){var r=g.castOption(e.insidetextfont.color,t.pts);!r&&e._input.textfont&&(r=g.castOption(e._input.textfont.color,t.pts));var a=g.castOption(e.insidetextfont.family,t.pts)||g.castOption(e.textfont.family,t.pts)||n.family,i=g.castOption(e.insidetextfont.size,t.pts)||g.castOption(e.textfont.size,t.pts)||n.size;return{color:r||o.contrast(t.color),family:a,size:i}}function x(e,t){for(var n,r,a=0;a<e.length;a++)if((r=(n=e[a][0]).trace).title.text){var i=r.title.text;r._meta&&(i=s.templateString(i,r._meta));var o=l.tester.append("text").attr("data-notex",1).text(i).call(l.font,r.title.font).call(f.convertToTspans,t),c=l.bBox(o.node(),!0);n.titleBox={width:c.width,height:c.height},o.remove()}}function b(e,t,n){var r=n.r||t.rpx1,a=t.rInscribed;if(t.startangle===t.stopangle)return{rCenter:1-a,scale:0,rotate:0,textPosAngle:0};var i,o=t.ring,l=1===o&&Math.abs(t.startangle-t.stopangle)===2*Math.PI,s=t.halfangle,c=t.midangle,u=n.trace.insidetextorientation,f="horizontal"===u,d="tangential"===u,p="radial"===u,$="auto"===u,h=[];if(!$){var g,v=function(n,a){var l,s,c,u;if(l=t,s=n,c=l.startangle,u=l.stopangle,c>s&&s>u||c<s&&s<u){var f=Math.abs(n-t.startangle),d=Math.abs(n-t.stopangle),p=f<d?f:d;(i="tan"===a?k(e,r,o,p,0):w(e,r,o,p,Math.PI/2)).textPosAngle=n,h.push(i)}};if(f||d){for(g=4;g>=-4;g-=2)v(Math.PI*g,"tan");for(g=4;g>=-4;g-=2)v(Math.PI*(g+1),"tan")}if(f||p){for(g=4;g>=-4;g-=2)v(Math.PI*(g+1.5),"rad");for(g=4;g>=-4;g-=2)v(Math.PI*(g+.5),"rad")}}if(l||$||f){if((i={scale:a*r*2/Math.sqrt(e.width*e.width+e.height*e.height),rCenter:1-a,rotate:0}).textPosAngle=(t.startangle+t.stopangle)/2,i.scale>=1)return i;h.push(i)}($||p)&&((i=w(e,r,o,s,c)).textPosAngle=(t.startangle+t.stopangle)/2,h.push(i)),($||d)&&((i=k(e,r,o,s,c)).textPosAngle=(t.startangle+t.stopangle)/2,h.push(i));for(var m=0,y=0,_=0;_<h.length;_++){var x=h[_].scale;if(y<x&&(y=x,m=_),!$&&y>=1)break}return h[m]}function w(e,t,n,r,a){t=Math.max(0,t-2*h);var i=e.width/e.height,o=L(i,r,t,n);return{scale:2*o/e.height,rCenter:T(i,o/t),rotate:A(a)}}function k(e,t,n,r,a){t=Math.max(0,t-2*h);var i=e.height/e.width,o=L(i,r,t,n);return{scale:2*o/e.width,rCenter:T(i,o/t),rotate:A(a+Math.PI/2)}}function T(e,t){return Math.cos(t)-e*t}function A(e){return(180/Math.PI*e+720)%180-90}function L(e,t,n,r){var a=e+1/(2*Math.tan(t));return n*Math.min(1/(Math.sqrt(a*a+.5)+a),r/(Math.sqrt(e*e+r/2)+e))}function C(e,t){return e.v!==t.vTotal||t.trace.hole?Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2):1}function S(e,t){var n=t.pxmid[0],r=t.pxmid[1],a=e.width/2,i=e.height/2;return n<0&&(a*=-1),r<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:a+Math.abs(i)*(a>0?1:-1)/2,y:i/(1+n*n/(r*r)),outside:!0}}function M(e,t){var n,r,a,i=e.trace,o={x:e.cx,y:e.cy},l={tx:0,ty:0};l.ty+=i.title.font.size,a=D(i),-1!==i.title.position.indexOf("top")?(o.y-=(1+a)*e.r,l.ty-=e.titleBox.height):-1!==i.title.position.indexOf("bottom")&&(o.y+=(1+a)*e.r);var s,c,u=(s=e.r)/(void 0===(c=e.trace.aspectratio)?1:c),f=t.w*(i.domain.x[1]-i.domain.x[0])/2;return -1!==i.title.position.indexOf("left")?(f+=u,o.x-=(1+a)*u,l.tx+=e.titleBox.width/2):-1!==i.title.position.indexOf("center")?f*=2:-1!==i.title.position.indexOf("right")&&(f+=u,o.x+=(1+a)*u,l.tx-=e.titleBox.width/2),n=f/e.titleBox.width,r=O(e,t)/e.titleBox.height,{x:o.x,y:o.y,scale:Math.min(n,r),tx:l.tx,ty:l.ty}}function O(e,t){var n=e.trace,r=t.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(e.titleBox.height,r/2)}function D(e){var t,n=e.pull;if(!n)return 0;if(Array.isArray(n))for(n=0,t=0;t<e.pull.length;t++)e.pull[t]>n&&(n=e.pull[t]);return n}function P(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r][0],i=a.trace,o=i.domain,l=t.w*(o.x[1]-o.x[0]),s=t.h*(o.y[1]-o.y[0]);i.title.text&&"middle center"!==i.title.position&&(s-=O(a,t));var c=l/2,u=s/2;"funnelarea"!==i.type||i.scalegroup||(u/=i.aspectratio),a.r=Math.min(c,u)/(1+D(i)),a.cx=t.l+t.w*(i.domain.x[1]+i.domain.x[0])/2,a.cy=t.t+t.h*(1-i.domain.y[0])-s/2,i.title.text&&-1!==i.title.position.indexOf("bottom")&&(a.cy-=O(a,t)),i.scalegroup&&-1===n.indexOf(i.scalegroup)&&n.push(i.scalegroup)}!function(e,t){for(var n,r,a,i=0;i<t.length;i++){var o,l,s,c=1/0,u=t[i];for(r=0;r<e.length;r++)(a=(n=e[r][0]).trace).scalegroup===u&&("pie"===a.type?o=n.r*n.r:"funnelarea"===a.type&&(a.aspectratio>1?s=(l=n.r)/a.aspectratio:l=(s=n.r)*a.aspectratio,l*=(1+a.baseratio)/2,o=l*s),c=Math.min(c,o/n.vTotal));for(r=0;r<e.length;r++)if((a=(n=e[r][0]).trace).scalegroup===u){var f=c*n.vTotal;"funnelarea"===a.type&&(f/=(1+a.baseratio)/2,f/=a.aspectratio),n.r=Math.sqrt(f)}}}(e,n)}function z(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function R(e,t,n){var r=e._fullLayout,a=n.trace,i=a.texttemplate,o=a.textinfo;if(!i&&o&&"none"!==o){var l,c=o.split("+"),u=function(e){return -1!==c.indexOf(e)},f=u("label"),d=u("text"),p=u("value"),$=u("percent"),h=r.separators;if(l=f?[t.label]:[],d){var v=g.getFirstFilled(a.text,t.pts);m(v)&&l.push(v)}p&&l.push(g.formatPieValue(t.v,h)),$&&l.push(g.formatPiePercent(t.v/n.vTotal,h)),t.text=l.join("<br>")}if(i){var y=s.castOption(a,t.i,"texttemplate");if(y){var _,x={label:(_=t).label,value:_.v,valueLabel:g.formatPieValue(_.v,r.separators),percent:_.v/n.vTotal,percentLabel:g.formatPiePercent(_.v/n.vTotal,r.separators),color:_.color,text:_.text,customdata:s.castOption(a,_.i,"customdata")},b=g.getFirstFilled(a.text,t.pts);(m(b)||""===b)&&(x.text=b),t.text=s.texttemplateString(y,x,e._fullLayout._d3locale,x,a._meta||{})}else t.text=""}}function I(e,t){var n=e.rotate*Math.PI/180,r=Math.cos(n),a=Math.sin(n),i=(t.left+t.right)/2,o=(t.top+t.bottom)/2;e.textX=i*r-o*a,e.textY=i*a+o*r,e.noCenter=!0}t.exports={plot:function(e,t){var n=e._fullLayout,i=n._size;$("pie",n),x(t,e),P(t,i);var d=s.makeTraceGroups(n._pielayer,t,"trace").each(function(t){var d=r.select(this),$=t[0],h=$.trace;!function(e){var t,n,r,a=e[0],i=a.r,o=a.trace,l=g.getRotationAngle(o.rotation),s=2*Math.PI/a.vTotal,c="px0",u="px1";if("counterclockwise"===o.direction){for(t=0;t<e.length&&e[t].hidden;t++);if(t===e.length)return;l+=s*e[t].v,s*=-1,c="px1",u="px0"}for(r=z(i,l),t=0;t<e.length;t++)(n=e[t]).hidden||(n[c]=r,n.startangle=l,l+=s*n.v/2,n.pxmid=z(i,l),n.midangle=l,l+=s*n.v/2,r=z(i,l),n.stopangle=l,n[u]=r,n.largeArc=n.v>a.vTotal/2?1:0,n.halfangle=Math.PI*Math.min(n.v/a.vTotal,.5),n.ring=1-o.hole,n.rInscribed=C(n,a))}(t),d.attr("stroke-linejoin","round"),d.each(function(){var v=r.select(this).selectAll("g.slice").data(t);v.enter().append("g").classed("slice",!0),v.exit().remove();var m=[[[],[]],[[],[]]],x=!1;v.each(function(a,i){if(a.hidden)r.select(this).selectAll("path,g").remove();else{a.pointNumber=a.i,a.curveNumber=h.index,m[a.pxmid[1]<0?0:1][a.pxmid[0]<0?0:1].push(a);var o=$.cx,c=$.cy,u=r.select(this),d=u.selectAll("path.surface").data([a]);if(d.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),u.call(y,e,t),h.pull){var v=+g.castOption(h.pull,a.pts)||0;v>0&&(o+=v*a.pxmid[0],c+=v*a.pxmid[1])}a.cxFinal=o,a.cyFinal=c;var w=h.hole;if(a.v===$.vTotal){var k="M"+(o+a.px0[0])+","+(c+a.px0[1])+M(a.px0,a.pxmid,!0,1)+M(a.pxmid,a.px0,!0,1)+"Z";w?d.attr("d","M"+(o+w*a.px0[0])+","+(c+w*a.px0[1])+M(a.px0,a.pxmid,!1,w)+M(a.pxmid,a.px0,!1,w)+"Z"+k):d.attr("d",k)}else{var T=M(a.px0,a.px1,!0,1);if(w){var A=1-w;d.attr("d","M"+(o+w*a.px1[0])+","+(c+w*a.px1[1])+M(a.px1,a.px0,!1,w)+"l"+A*a.px0[0]+","+A*a.px0[1]+T+"Z")}else d.attr("d","M"+o+","+c+"l"+a.px0[0]+","+a.px0[1]+T+"Z")}R(e,a,$);var L=g.castOption(h.textposition,a.pts),C=u.selectAll("g.slicetext").data(a.text&&"none"!==L?[0]:[]);C.enter().append("g").classed("slicetext",!0),C.exit().remove(),C.each(function(){var u,d,v,m,y,w=s.ensureSingle(r.select(this),"text","",function(e){e.attr("data-notex",1)}),k=s.ensureUniformFontSize(e,"outside"===L?(u=h,d=a,v=n.font,m=g.castOption(u.outsidetextfont.color,d.pts)||g.castOption(u.textfont.color,d.pts)||v.color,{color:m,family:y=g.castOption(u.outsidetextfont.family,d.pts)||g.castOption(u.textfont.family,d.pts)||v.family,size:g.castOption(u.outsidetextfont.size,d.pts)||g.castOption(u.textfont.size,d.pts)||v.size}):_(h,a,n.font));w.text(a.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(l.font,k).call(f.convertToTspans,e);var T,A=l.bBox(w.node());if("outside"===L)T=S(A,a);else if(T=b(A,a,$),"auto"===L&&T.scale<1){var C=s.ensureUniformFontSize(e,h.outsidetextfont);w.call(l.font,C),T=S(A=l.bBox(w.node()),a)}var M=T.textPosAngle,O=void 0===M?a.pxmid:z($.r,M);if(T.targetX=o+O[0]*T.rCenter+(T.x||0),T.targetY=c+O[1]*T.rCenter+(T.y||0),I(T,A),T.outside){var D=T.targetY;a.yLabelMin=D-A.height/2,a.yLabelMid=D,a.yLabelMax=D+A.height/2,a.labelExtraX=0,a.labelExtraY=0,x=!0}T.fontSize=k.size,p(h.type,T,n),t[i].transform=T,w.attr("transform",s.getTextTransform(T))})}function M(e,t,n,r){var i=r*(t[0]-e[0]),o=r*(t[1]-e[1]);return"a"+r*$.r+","+r*$.r+" 0 "+a.largeArc+(n?" 1 ":" 0 ")+i+","+o}});var w=r.select(this).selectAll("g.titletext").data(h.title.text?[0]:[]);if(w.enter().append("g").classed("titletext",!0),w.exit().remove(),w.each(function(){var t,n,a,o=s.ensureSingle(r.select(this),"text","",function(e){e.attr("data-notex",1)}),d=h.title.text;h._meta&&(d=s.templateString(d,h._meta)),o.text(d).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(l.font,h.title.font).call(f.convertToTspans,e),t="middle center"===h.title.position?(a=Math.sqrt((n=$).titleBox.width*n.titleBox.width+n.titleBox.height*n.titleBox.height),{x:n.cx,y:n.cy,scale:n.trace.hole*n.r*2/a,tx:0,ty:-n.titleBox.height/2+n.trace.title.font.size}):M($,i),o.attr("transform",u(t.x,t.y)+c(Math.min(1,t.scale))+u(t.tx,t.ty))}),x&&function(e,t){var n,r,a,i,o,l,s,c,u,f,d,p,$;function h(e,t){return e.pxmid[1]-t.pxmid[1]}function v(e,t){return t.pxmid[1]-e.pxmid[1]}function m(e,n){n||(n={});var a,c,u,d,p=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),$=r?e.yLabelMin:e.yLabelMax,h=r?e.yLabelMax:e.yLabelMin,v=e.cyFinal+o(e.px0[1],e.px1[1]),m=p-$;if(m*s>0&&(e.labelExtraY=m),Array.isArray(t.pull))for(c=0;c<f.length;c++)(u=f[c])===e||(g.castOption(t.pull,e.pts)||0)>=(g.castOption(t.pull,u.pts)||0)||((e.pxmid[1]-u.pxmid[1])*s>0?(m=u.cyFinal+o(u.px0[1],u.px1[1])-$-e.labelExtraY)*s>0&&(e.labelExtraY+=m):(h+e.labelExtraY-v)*s>0&&(a=3*l*Math.abs(c-f.indexOf(e)),(d=u.cxFinal+i(u.px0[0],u.px1[0])+a-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*l>0&&(e.labelExtraX+=d)))}for(r=0;r<2;r++)for(a=r?h:v,o=r?Math.max:Math.min,s=r?1:-1,n=0;n<2;n++){for(i=n?Math.max:Math.min,l=n?1:-1,(c=e[r][n]).sort(a),f=(u=e[1-r][n]).concat(c),p=[],d=0;d<c.length;d++)void 0!==c[d].yLabelMid&&p.push(c[d]);for($=!1,d=0;r&&d<u.length;d++)if(void 0!==u[d].yLabelMid){$=u[d];break}for(d=0;d<p.length;d++){var y=d&&p[d-1];$&&!d&&(y=$),m(p[d],y)}}}(m,h),function(e,t){e.each(function(e){var n=r.select(this);if(e.labelExtraX||e.labelExtraY){var a=n.select("g.slicetext text");e.transform.targetX+=e.labelExtraX,e.transform.targetY+=e.labelExtraY,a.attr("transform",s.getTextTransform(e.transform));var i=e.cxFinal+e.pxmid[0],l="M"+i+","+(e.cyFinal+e.pxmid[1]),c=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var u=e.labelExtraX*e.pxmid[1]/e.pxmid[0],f=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(u)>Math.abs(f)?l+="l"+f*e.pxmid[0]/e.pxmid[1]+","+f+"H"+(i+e.labelExtraX+c):l+="l"+e.labelExtraX+","+u+"v"+(f-u)+"h"+c}else l+="V"+(e.yLabelMid+e.labelExtraY)+"h"+c;s.ensureSingle(n,"path","textline").call(o.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:l,fill:"none"})}else n.select("path.textline").remove()})}(v,h),x&&h.automargin){var k=l.bBox(d.node()),T=h.domain,A=i.w*(T.x[1]-T.x[0]),L=i.h*(T.y[1]-T.y[0]),C=(.5*A-$.r)/i.w,O=(.5*L-$.r)/i.h;a.autoMargin(e,"pie."+h.uid+".automargin",{xl:T.x[0]-C,xr:T.x[1]+C,yb:T.y[0]-O,yt:T.y[1]+O,l:Math.max($.cx-$.r-k.left,0),r:Math.max(k.right-($.cx+$.r),0),b:Math.max(k.bottom-($.cy+$.r),0),t:Math.max($.cy-$.r-k.top,0),pad:5})}})});setTimeout(function(){d.selectAll("tspan").each(function(){var e=r.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))})},0)},formatSliceLabel:R,transformInsideText:b,determineInsideTextFont:_,positionTitleOutside:M,prerenderTitles:x,layoutAreas:P,attachFxHandlers:y,computeTransform:I}},{"../../components/color":75,"../../components/drawing":97,"../../components/fx":115,"../../lib":202,"../../lib/svg_text_utils":224,"../../plots/plots":282,"../bar/constants":302,"../bar/uniform_text":316,"./event_data":321,"./helpers":322,d3:9}],327:[function(e,t,n){"use strict";var r=e("d3"),a=e("./style_one"),i=e("../bar/uniform_text").resizeText;t.exports=function(e){var t=e._fullLayout._pielayer.selectAll(".trace");i(e,t,"pie"),t.each(function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll("path.surface").each(function(e){r.select(this).call(a,e,t)})})}},{"../bar/uniform_text":316,"./style_one":328,d3:9}],328:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("./helpers").castOption;t.exports=function(e,t,n){var i=n.marker.line,o=a(i.color,t.pts)||r.defaultLine,l=a(i.width,t.pts)||0;e.style("stroke-width",l).call(r.fill,t.color).call(r.stroke,o)}},{"../../components/color":75,"./helpers":322}],329:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var a=t.marker;if(a){r.mergeArrayCastPositive(a.size,e,"ms"),r.mergeArrayCastPositive(a.opacity,e,"mo"),r.mergeArray(a.symbol,e,"mx"),r.mergeArray(a.color,e,"mc");var i=a.line;a.line&&(r.mergeArray(i.color,e,"mlc"),r.mergeArrayCastPositive(i.width,e,"mlw"));var o=a.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,e,"mgt"),r.mergeArray(o.color,e,"mgc"))}}},{"../../lib":202}],330:[function(e,t,n){"use strict";var r=e("../../plots/template_attributes").texttemplateAttrs,a=e("../../plots/template_attributes").hovertemplateAttrs,i=e("../../components/colorscale/attributes"),o=e("../../plots/font_attributes"),l=e("../../components/drawing/attributes").dash,s=e("../../components/drawing"),c=e("./constants"),u=e("../../lib/extend").extendFlat;t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:r({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:c.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},l,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:u({symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorscale/attributes":82,"../../components/drawing":97,"../../components/drawing/attributes":96,"../../lib/extend":196,"../../plots/font_attributes":276,"../../plots/template_attributes":289,"./constants":334}],331:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),a=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/align_period"),l=e("../../constants/numerical").BADNUM,s=e("./subtypes"),c=e("./colorscale_calc"),u=e("./arrays_to_calcdata"),f=e("./calc_selection");function d(e,t,n,r,a,o,l){var c=t._length,u=e._fullLayout,f=n._id,d=r._id,p=u._firstScatter[h(t)]===t.uid,$=(g(t,u,n,r)||{}).orientation,v=t.fill;n._minDtick=0,r._minDtick=0;var m={padded:!0},y={padded:!0};l&&(m.ppad=y.ppad=l);var _=c<2||a[0]!==a[c-1]||o[0]!==o[c-1];_&&("tozerox"===v||"tonextx"===v&&(p||"h"===$))?m.tozero=!0:(t.error_y||{}).visible||"tonexty"!==v&&"tozeroy"!==v&&(s.hasMarkers(t)||s.hasText(t))||(m.padded=!1,m.ppad=0),_&&("tozeroy"===v||"tonexty"===v&&(p||"v"===$))?y.tozero=!0:"tonextx"!==v&&"tozerox"!==v||(y.padded=!1),f&&(t._extremes[f]=i.findExtremes(n,a,m)),d&&(t._extremes[d]=i.findExtremes(r,o,y))}function p(e,t){if(s.hasMarkers(e)){var n,r=e.marker,o=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},a.isArrayOrTypedArray(r.size)){var l={type:"linear"};i.setConvert(l);for(var c=l.makeCalcdata(e.marker,"size"),u=Array(t),f=0;f<t;f++)u[f]=n(c[f]);return u}return n(r.size)}}function $(e,t){var n=h(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function h(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function g(e,t,n,r){var a=e.stackgroup;if(a){var i=t._scatterStackOpts[n._id+r._id][a],o="v"===i.orientation?r:n;return"linear"===o.type||"log"===o.type?i:void 0}}t.exports={calc:function(e,t){var n,s,h,v,m,y,_=e._fullLayout,x=i.getFromId(e,t.xaxis||"x"),b=i.getFromId(e,t.yaxis||"y"),w=x.makeCalcdata(t,"x"),k=b.makeCalcdata(t,"y"),T=o(t,x,"x",w),A=o(t,b,"y",k),L=t._length,C=Array(L),S=t.ids,M=g(t,_,x,b),O=!1;$(_,t);var D,P="x",z="y";M?(a.pushUnique(M.traceIndices,t._expandedIndex),(n="v"===M.orientation)?(z="s",D="x"):(P="s",D="y"),m="interpolate"===M.stackgaps):d(e,t,x,b,T,A,p(t,L));var R=!!t.xperiodalignment,I=!!t.yperiodalignment;for(s=0;s<L;s++){var E=C[s]={},F=r(T[s]),N=r(A[s]);F&&N?(E[P]=T[s],E[z]=A[s],R&&(E.orig_x=w[s]),I&&(E.orig_y=k[s])):M&&(n?F:N)?(E[D]=n?T[s]:A[s],E.gap=!0,m?(E.s=l,O=!0):E.s=0):E[P]=E[z]=l,S&&(E.id=String(S[s]))}if(u(C,t),c(e,t),f(C,t),M){for(s=0;s<C.length;)C[s][D]===l?C.splice(s,1):s++;if(a.sort(C,function(e,t){return e[D]-t[D]||e.i-t.i}),O){for(s=0;s<C.length-1&&C[s].gap;)s++;for((y=C[s].s)||(y=C[s].s=0),h=0;h<s;h++)C[h].s=y;for(v=C.length-1;v>s&&C[v].gap;)v--;for(y=C[v].s,h=C.length-1;h>v;h--)C[h].s=y;for(;s<v;)if(C[++s].gap){for(h=s+1;C[h].gap;)h++;for(var H=C[s-1][D],B=C[s-1].s,V=(C[h].s-B)/(C[h][D]-H);s<h;)C[s].s=B+(C[s][D]-H)*V,s++}}}return C},calcMarkerSize:p,calcAxisExpansion:d,setFirstScatter:$,getStackOpts:g}},{"../../constants/numerical":181,"../../lib":202,"../../plots/cartesian/align_period":245,"../../plots/cartesian/axes":248,"./arrays_to_calcdata":329,"./calc_selection":332,"./colorscale_calc":333,"./subtypes":355,"fast-isnumeric":11}],332:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":202}],333:[function(e,t,n){"use strict";var r=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/calc"),i=e("./subtypes");t.exports=function(e,t){i.hasLines(t)&&r(t,"line")&&a(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(t)&&(r(t,"marker")&&a(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&a(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":83,"../../components/colorscale/helpers":86,"./subtypes":355}],334:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],335:[function(e,t,n){"use strict";var r=e("./calc");function a(e,t,n,r,a,i,o){a[r]=!0;var l,s,c,u,f,d,p={i:null,gap:!0,s:0};if(p[o]=n,e.splice(t,0,p),t&&n===e[t-1][o]){var $=e[t-1];p.s=$.s,p.i=$.i,p.gap=$.gap}else i&&(p.s=(l=e,s=t,c=n,u=o,f=l[s-1],(d=l[s+1])?f?f.s+(d.s-f.s)*(c-f[u])/(d[u]-f[u]):d.s:f.s));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}t.exports=function(e,t){var n=t.xaxis,i=t.yaxis,o=n._id+i._id,l=e._fullLayout._scatterStackOpts[o];if(l){var s,c,u,f,d,p,$,h,g,v,m,y,_,x,b,w=e.calcdata;for(var k in l){var T=(v=l[k]).traceIndices;if(T.length){for(m="interpolate"===v.stackgaps,y=v.groupnorm,"v"===v.orientation?(_="x",x="y"):(_="y",x="x"),b=Array(T.length),s=0;s<b.length;s++)b[s]=!1;var A=Array((p=w[T[0]]).length);for(s=0;s<p.length;s++)A[s]=p[s][_];for(s=1;s<T.length;s++){for(d=w[T[s]],c=u=0;c<d.length;c++){for($=d[c][_];$>A[u]&&u<A.length;u++)a(d,c,A[u],s,b,m,_),c++;if($!==A[u]){for(f=0;f<s;f++)a(w[T[f]],u,$,f,b,m,_);A.splice(u,0,$)}u++}for(;u<A.length;u++)a(d,c,A[u],s,b,m,_),c++}var L=A.length;for(c=0;c<p.length;c++){for(h=p[c][x]=p[c].s,s=1;s<T.length;s++)(d=w[T[s]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=L,h+=d[c].s,d[c][x]=h;if(y)for(g=("fraction"===y?h:h/100)||1,s=0;s<T.length;s++){var C=w[T[s]][c];C[x]/=g,C.sNorm=C.s/g}}for(s=0;s<T.length;s++){var S=(d=w[T[s]])[0].trace,M=r.calcMarkerSize(S,S._rawLength),O=Array.isArray(M);if(M&&b[s]||O){var D=M;for(M=Array(L),c=0;c<L;c++)M[c]=d[c].gap?0:O?D[d[c].i]:D}var P=Array(L),z=Array(L);for(c=0;c<L;c++)P[c]=d[c].x,z[c]=d[c].y;r.calcAxisExpansion(e,S,n,i,P,z,M),d[0].t.orientation=v.orientation}}}}}},{"./calc":331}],336:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var a=t-1;a>=0;a--){var i=e[a];if("scatter"===i.type&&i.xaxis===n.xaxis&&i.yaxis===n.yaxis){i.opacity=void 0;break}}}}}},{}],337:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry"),i=e("./attributes"),o=e("./constants"),l=e("./subtypes"),s=e("./xy_defaults"),c=e("./period_defaults"),u=e("./stack_defaults"),f=e("./marker_defaults"),d=e("./line_defaults"),p=e("./line_shape_defaults"),$=e("./text_defaults"),h=e("./fillcolor_defaults");t.exports=function(e,t,n,g){function v(n,a){return r.coerce(e,t,i,n,a)}var m=s(e,t,g,v);if(m||(t.visible=!1),t.visible){c(e,t,g,v);var y=u(e,t,g,v),_=!y&&m<o.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",_),l.hasLines(t)&&(d(e,t,n,g,v),p(e,t,v),v("connectgaps"),v("line.simplify")),l.hasMarkers(t)&&f(e,t,n,g,v,{gradient:!0}),l.hasText(t)&&(v("texttemplate"),$(e,t,g,v));var x=[];(l.hasMarkers(t)||l.hasText(t))&&(v("cliponaxis"),v("marker.maxdisplayed"),x.push("points")),v("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(h(e,t,n,v),l.hasLines(t)||p(e,t,v));var b=(t.line||{}).color,w=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||x.push("fills"),v("hoveron",x.join("+")||"points"),"fills"!==t.hoveron&&v("hovertemplate");var k=a.getComponentMethod("errorbars","supplyDefaults");k(e,t,b||w||n,{axis:"y"}),k(e,t,b||w||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,v)}}},{"../../lib":202,"../../registry":290,"./attributes":330,"./constants":334,"./fillcolor_defaults":338,"./line_defaults":343,"./line_shape_defaults":345,"./marker_defaults":349,"./period_defaults":350,"./stack_defaults":353,"./subtypes":355,"./text_defaults":356,"./xy_defaults":357}],338:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,i){var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!a(l)?o=l:s&&!a(s)&&(o=s)}i("fillcolor",r.addOpacity((t.line||{}).color||o||n,.5))}},{"../../components/color":75,"../../lib":202}],339:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes");t.exports=function(e,t,n){var a={},i={_fullLayout:n},o=r.getFromTrace(i,t,"x"),l=r.getFromTrace(i,t,"y");return a.xLabel=r.tickText(o,e.x,!0).text,a.yLabel=r.tickText(l,e.y,!0).text,a}},{"../../plots/cartesian/axes":248}],340:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("./subtypes");t.exports=function(e,t){if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var n,i,o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(i=o&&r.opacity(o)?o:l&&r.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?.3>r.opacity(i)?r.addOpacity(i,.3):i:(n=(e.line||{}).color)&&r.opacity(n)&&a.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":75,"./subtypes":355}],341:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../components/fx"),i=e("../../registry"),o=e("./get_trace_color"),l=e("../../components/color"),s=r.fillText;t.exports=function(e,t,n,c){var u=e.cd,f=u[0].trace,d=e.xa,p=e.ya,$=d.c2p(t),h=p.c2p(n),g=[$,h],v=f.hoveron||"",m=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==v.indexOf("points")){var y=function(e){var t=Math.max(m,e.mrc||0),n=d.c2p(e.x)-$,r=p.c2p(e.y)-h;return Math.max(Math.sqrt(n*n+r*r)-t,1-m/t)},_=a.getDistanceFunction(c,function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.x)-$);return r<t?n*r/t:r-t+n},function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(p.c2p(e.y)-h);return r<t?n*r/t:r-t+n},y);if(a.getClosest(u,_,e),!1!==e.index){var x=u[e.index],b=d.c2p(x.x,!0),w=p.c2p(x.y,!0),k=x.mrc||1;e.index=x.i;var T=u[0].t.orientation,A=T&&(x.sNorm||x.s),L="h"===T?A:void 0!==x.orig_x?x.orig_x:x.x,C="v"===T?A:void 0!==x.orig_y?x.orig_y:x.y;return r.extendFlat(e,{color:o(f,x),x0:b-k,x1:b+k,xLabelVal:L,y0:w-k,y1:w+k,yLabelVal:C,spikeDistance:y(x),hovertemplate:f.hovertemplate}),s(x,f,e),i.getComponentMethod("errorbars","hoverInfo")(x,f,e),[e]}}if(-1!==v.indexOf("fills")&&f._polygons){var S,M,O,D,P,z,R,I,E,F=f._polygons,N=[],H=!1,B=1/0,V=-1/0,j=1/0,U=-1/0;for(S=0;S<F.length;S++)(O=F[S]).contains(g)&&(H=!H,N.push(O),j=Math.min(j,O.ymin),U=Math.max(U,O.ymax));if(H){var q=((j=Math.max(j,0))+(U=Math.min(U,p._length)))/2;for(S=0;S<N.length;S++)for(D=N[S].pts,M=1;M<D.length;M++)(I=D[M-1][1])>q!=(E=D[M][1])>=q&&(z=D[M-1][0],R=D[M][0],E-I&&(B=Math.min(B,P=z+(R-z)*(q-I)/(E-I)),V=Math.max(V,P)));B=Math.max(B,0),V=Math.min(V,d._length);var G=l.defaultLine;return l.opacity(f.fillcolor)?G=f.fillcolor:l.opacity((f.line||{}).color)&&(G=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:B,x1:V,y0:q,y1:q,color:G,hovertemplate:!1}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":75,"../../components/fx":115,"../../lib":202,"../../registry":290,"./get_trace_color":340}],342:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc").calc,crossTraceCalc:e("./cross_trace_calc"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot"),colorbar:e("./marker_colorbar"),formatLabels:e("./format_labels"),style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":261,"./arrays_to_calcdata":329,"./attributes":330,"./calc":331,"./cross_trace_calc":335,"./cross_trace_defaults":336,"./defaults":337,"./format_labels":339,"./hover":341,"./marker_colorbar":348,"./plot":351,"./select":352,"./style":354,"./subtypes":355}],343:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,a=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/defaults");t.exports=function(e,t,n,o,l,s){var c=(e.marker||{}).color;(l("line.color",n),a(e,"line"))?i(e,t,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!r(c)&&c||n),l("line.width"),(s||{}).noDash||l("line.dash")}},{"../../components/colorscale/defaults":85,"../../components/colorscale/helpers":86,"../../lib":202}],344:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),a=r.BADNUM,i=r.LOG_CLIP,o=i+.5,l=i-.5,s=e("../../lib"),c=s.segmentsIntersect,u=s.constrain,f=e("./constants");t.exports=function(e,t){var n,r,i,d,p,$,h,g,v,m,y,_,x,b,w,k,T,A,L=t.xaxis,C=t.yaxis,S="log"===L.type,M="log"===C.type,O=L._length,D=C._length,P=t.connectGaps,z=t.baseTolerance,R=t.shape,I="linear"===R,E=t.fill&&"none"!==t.fill,F=[],N=f.minTolerance,H=e.length,B=Array(H),V=0;function j(n){var r=e[n];if(!r)return!1;var i=t.linearized?L.l2p(r.x):L.c2p(r.x),s=t.linearized?C.l2p(r.y):C.c2p(r.y);if(i===a){if(S&&(i=L.c2p(r.x,!0)),i===a)return!1;M&&s===a&&(i*=Math.abs(L._m*D*(L._m>0?o:l)/(C._m*O*(C._m>0?o:l)))),i*=1e3}if(s===a){if(M&&(s=C.c2p(r.y,!0)),s===a)return!1;s*=1e3}return[i,s]}function U(e,t,n,r){var a=n-e,i=r-t,o=.5-e,l=.5-t,s=a*a+i*i,c=a*o+i*l;if(c>0&&c<s){var u=o*i-l*a;if(u*u<s)return!0}}function q(e,t){var n=e[0]/O,r=e[1]/D,a=Math.max(0,-n,n-1,-r,r-1);return a&&void 0!==T&&U(n,r,T,A)&&(a=0),a&&t&&U(n,r,t[0]/O,t[1]/D)&&(a=0),(1+f.toleranceGrowth*a)*z}function G(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var Z,Y,X,W,Q,J,K,ee=f.maxScreensAway,et=-O*ee,en=O*(1+ee),er=-D*ee,ea=D*(1+ee),ei=[[et,er,en,er],[en,er,en,ea],[en,ea,et,ea],[et,ea,et,er]];function eo(e){if(e[0]<et||e[0]>en||e[1]<er||e[1]>ea)return[u(e[0],et,en),u(e[1],er,ea)]}function el(e,t){return e[0]===t[0]&&(e[0]===et||e[0]===en)||e[1]===t[1]&&(e[1]===er||e[1]===ea)||void 0}function es(e,t,n){return function(r,a){var i=eo(r),o=eo(a),l=[];if(i&&o&&el(i,o))return l;i&&l.push(i),o&&l.push(o);var c=2*s.constrain((r[e]+a[e])/2,t,n)-((i||r)[e]+(o||a)[e]);return c&&((i&&o?c>0==i[e]>o[e]?i:o:i||o)[e]+=c),l}}function ec(e){var t=e[0],n=e[1],r=t===B[V-1][0],a=n===B[V-1][1];if(!r||!a){if(V>1){var i=t===B[V-2][0],o=n===B[V-2][1];r&&(t===et||t===en)&&i?o?V--:B[V-1]=e:a&&(n===er||n===ea)&&o?i?V--:B[V-1]=e:B[V++]=e}else B[V++]=e}}function eu(e){B[V-1][0]!==e[0]&&B[V-1][1]!==e[1]&&ec([X,W]),ec(e),Q=null,X=W=0}function ef(e){if(T=e[0]/O,A=e[1]/D,Z=e[0]<et?et:e[0]>en?en:0,Y=e[1]<er?er:e[1]>ea?ea:0,Z||Y){if(V){if(Q){var t,n,r,a,i=K(Q,e);i.length>1&&(eu(i[0]),B[V++]=i[1])}else J=K(B[V-1],e)[0],B[V++]=J}else B[V++]=[Z||e[0],Y||e[1]];var o=B[V-1];Z&&Y&&(o[0]!==Z||o[1]!==Y)?(Q&&(X!==Z&&W!==Y?ec(X&&W?(t=Q,r=(n=e)[0]-t[0],a=(n[1]-t[1])/r,(t[1]*n[0]-n[1]*t[0])/r>0?[a>0?et:en,ea]:[a>0?en:et,er]):[X||Z,W||Y]):X&&W&&ec([X,W])),ec([Z,Y])):X-Z&&W-Y&&ec([Z||X,Y||W]),Q=e,X=Z,W=Y}else Q&&eu(K(Q,e)[0]),B[V++]=e}for("linear"===R||"spline"===R?K=function(e,t){for(var n=[],r=0,a=0;a<4;a++){var i=ei[a],o=c(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);o&&(!r||Math.abs(o.x-n[0][0])>1||Math.abs(o.y-n[0][1])>1)&&(o=[o.x,o.y],r&&G(o,e)<G(n[0],e)?n.unshift(o):n.push(o),r++)}return n}:"hv"===R||"vh"===R?K=function(e,t){var n=[],r=eo(e),a=eo(t);return r&&a&&el(r,a)||(r&&n.push(r),a&&n.push(a)),n}:"hvh"===R?K=es(0,et,en):"vhv"===R&&(K=es(1,er,ea)),n=0;n<H;n++)if(r=j(n)){for(V=0,Q=null,ef(r),n++;n<H;n++){if(!(d=j(n))){if(P)continue;break}if(I&&t.simplify){var ed=j(n+1);if(m=G(d,r),E&&(0===V||V===H-1)||!(m<q(d,ed)*N)){for(g=[(d[0]-r[0])/m,(d[1]-r[1])/m],p=r,y=m,_=b=w=0,h=!1,i=d,n++;n<e.length;n++){if($=ed,ed=j(n+1),!$){if(P)continue;break}if(b=Math.min(b,k=(v=[$[0]-r[0],$[1]-r[1]])[0]*g[1]-v[1]*g[0]),(w=Math.max(w,k))-b>q($,ed))break;i=$,(x=v[0]*g[0]+v[1]*g[1])>y?(y=x,d=$,h=!1):x<_&&(_=x,p=$,h=!0)}if(h?(ef(d),i!==p&&ef(p)):(p!==r&&ef(p),i!==d&&ef(d)),ef(i),n>=e.length||!$)break;ef($),r=$}}else ef(d)}Q&&ec([X||Q[0],W||Q[1]]),F.push(B.slice(0,V))}return F}},{"../../constants/numerical":181,"../../lib":202,"./constants":334}],345:[function(e,t,n){"use strict";t.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],346:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var a,i,o,l,s,c={},u=!1,f=-1,d=0,p=-1;for(i=0;i<n.length;i++)(o=(a=n[i][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=d,d++):a.fill in r&&p>=0?s=p:(s=p=d,d++),s<f&&(u=!0),a._groupIndex=f=s;var $=n.slice();u&&$.sort(function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index});var h={};for(i=0;i<$.length;i++)o=(a=$[i][0].trace).stackgroup||"",!0===a.visible?(a._nexttrace=null,a.fill in r&&(l=h[o],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&("tozero"===a.fill.substr(0,6)||"toself"===a.fill||"to"===a.fill.substr(0,2)&&!a._prevtrace),h[o]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return $}},{}],347:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,a=t.sizemin||0,i="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=i(e/2);return r(t)&&t>0?Math.max(t,a):0}}},{"fast-isnumeric":11}],348:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],349:[function(e,t,n){"use strict";var r=e("../../components/color"),a=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/defaults"),o=e("./subtypes");t.exports=function(e,t,n,l,s,c){var u=o.isBubble(e),f=(e.line||{}).color;c=c||{},f&&(n=f),s("marker.symbol"),s("marker.opacity",u?.7:1),s("marker.size"),s("marker.color",n),a(e,"marker")&&i(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",f&&!Array.isArray(f)&&t.marker.color!==f?f:u?r.background:r.defaultLine),a(e,"marker.line")&&i(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",u?1:0)),u&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},{"../../components/color":75,"../../components/colorscale/defaults":85,"../../components/colorscale/helpers":86,"./subtypes":355}],350:[function(e,t,n){"use strict";var r=e("../../lib").dateTick0,a=e("../../constants/numerical").ONEWEEK;function i(e,t){return r(t,e%a==0?1:0)}t.exports=function(e,t,n,r,a){if(a||(a={x:!0,y:!0}),a.x){var o=r("xperiod");o&&(r("xperiod0",i(o,t.xcalendar)),r("xperiodalignment"))}if(a.y){var l=r("yperiod");l&&(r("yperiod0",i(l,t.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":181,"../../lib":202}],351:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../registry"),i=e("../../lib"),o=i.ensureSingle,l=i.identity,s=e("../../components/drawing"),c=e("./subtypes"),u=e("./line_points"),f=e("./link_traces"),d=e("../../lib/polygon").tester;function p(e,t,n,f,p,$,h){!function(e,t,n,a,o){var l=n.xaxis,s=n.yaxis,u=r.extent(i.simpleMap(l.range,l.r2c)),f=r.extent(i.simpleMap(s.range,s.r2c)),d=a[0].trace;if(c.hasMarkers(d)){var p=d.marker.maxdisplayed;if(0!==p){var $=a.filter(function(e){return e.x>=u[0]&&e.x<=u[1]&&e.y>=f[0]&&e.y<=f[1]}),h=Math.ceil($.length/p),g=0;o.forEach(function(e,n){var r=e[0].trace;c.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&g++});var v=Math.round(g*h/3+Math.floor(g/3)*h/7.1);a.forEach(function(e){delete e.vis}),$.forEach(function(e,t){0===Math.round((t+v)%h)&&(e.vis=!0)})}}}(0,t,n,f,p);var g=!!h&&h.duration>0;function v(e){return g?e.transition():e}var m=n.xaxis,y=n.yaxis,_=f[0].trace,x=_.line,b=r.select($),w=o(b,"g","errorbars"),k=o(b,"g","lines"),T=o(b,"g","points"),A=o(b,"g","text");if(a.getComponentMethod("errorbars","plot")(e,w,n,h),!0===_.visible){v(b).style("opacity",_.opacity);var L=_.fill.charAt(_.fill.length-1);"x"!==L&&"y"!==L&&(L=""),f[0][n.isRangePlot?"nodeRangePlot3":"node3"]=b;var C,S,M,O,D,P="",z=[],R=_._prevtrace;R&&(P=R._prevRevpath||"",M=R._nextFill,z=R._polygons);var I,E,F,N,H,B,V,j="",U="",q=[],G=i.noop;if(S=_._ownFill,c.hasLines(_)||"none"!==_.fill){for(M&&M.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(x.shape)?(I=s.steps(x.shape),E=s.steps(x.shape.split("").reverse().join(""))):I=E="spline"===x.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),x.smoothing):s.smoothopen(e,x.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return E(e.reverse())},q=u(f,{xaxis:m,yaxis:y,connectGaps:_.connectgaps,baseTolerance:Math.max(x.width||1,3)/4,shape:x.shape,simplify:x.simplify,fill:_.fill}),V=_._polygons=Array(q.length),C=0;C<q.length;C++)_._polygons[C]=d(q[C]);q.length&&(N=q[0][0],B=(H=q[q.length-1])[H.length-1]),G=function(e){return function(t){if(O=I(t),D=F(t),j?L?(j+="L"+O.substr(1),U=D+"L"+U.substr(1)):(j+="Z"+O,U=D+"Z"+U):(j=O,U=D),c.hasLines(_)&&t.length>1){var n=r.select(this);if(n.datum(f),e)v(n.style("opacity",0).attr("d",O).call(s.lineGroupStyle)).style("opacity",1);else{var a=v(n);a.attr("d",O),s.singleLineStyle(f,a)}}}}}var Z=k.selectAll(".js-line").data(q);v(Z.exit()).style("opacity",0).remove(),Z.each(G(!1)),Z.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(G(!0)),s.setClipUrl(Z,n.layerClipId,e),q.length?(S?(S.datum(f),N&&B&&(L?("y"===L?N[1]=B[1]=y.c2p(0,!0):"x"===L&&(N[0]=B[0]=m.c2p(0,!0)),v(S).attr("d","M"+B+"L"+N+"L"+j.substr(1)).call(s.singleFillStyle)):v(S).attr("d",j+"Z").call(s.singleFillStyle))):M&&("tonext"===_.fill.substr(0,6)&&j&&P?("tonext"===_.fill?v(M).attr("d",j+"Z"+P+"Z").call(s.singleFillStyle):v(M).attr("d",j+"L"+P.substr(1)+"Z").call(s.singleFillStyle),_._polygons=_._polygons.concat(z)):(X(M),_._polygons=null)),_._prevRevpath=U,_._prevPolygons=V):(S?X(S):M&&X(M),_._polygons=_._prevRevpath=_._prevPolygons=null),T.datum(f),A.datum(f),function(t,a,i){var o,u=i[0].trace,f=c.hasMarkers(u),d=c.hasText(u),p=function e(t){if(t.ids)return K}(u),$=ee,h=ee;if(f||d){var _=l,x=u.stackgroup,b=x&&"infer zero"===e._fullLayout._scatterStackOpts[m._id+y._id][x].stackgaps;u.marker.maxdisplayed||u._needsCull?_=b?Q:W:x&&!b&&(_=J),f&&($=_),d&&(h=_)}var w,k=(o=t.selectAll("path.point").data($,p)).enter().append("path").classed("point",!0);g&&k.call(s.pointStyle,u,e).call(s.translatePoints,m,y).style("opacity",0).transition().style("opacity",1),o.order(),f&&(w=s.makePointStyleFns(u)),o.each(function(t){var a=r.select(this),i=v(a);s.translatePoint(t,i,m,y)?(s.singlePointStyle(t,i,u,w,e),n.layerClipId&&s.hideOutsideRangePoint(t,i,m,y,u.xcalendar,u.ycalendar),u.customdata&&a.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()}),g?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=a.selectAll("g").data(h,p)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each(function(e){var t=r.select(this),a=v(t.select("text"));s.translatePoint(e,a,m,y)?n.layerClipId&&s.hideOutsideRangePoint(e,t,m,y,u.xcalendar,u.ycalendar):t.remove()}),o.selectAll("text").call(s.textPointStyle,u,e).each(function(e){var t=m.c2p(e.x),n=y.c2p(e.y);r.select(this).selectAll("tspan.line").each(function(){v(r.select(this)).attr({x:t,y:n})})}),o.exit().remove()}(T,A,f);var Y=!1===_.cliponaxis?null:n.layerClipId;s.setClipUrl(T,Y,e),s.setClipUrl(A,Y,e)}function X(e){v(e).attr("d","M0,0Z")}function W(e){return e.filter(function(e){return!e.gap&&e.vis})}function Q(e){return e.filter(function(e){return e.vis})}function J(e){return e.filter(function(e){return!e.gap})}function K(e){return e.id}function ee(){return!1}}t.exports=function(e,t,n,a,i,c){var u,d,$=!!i&&i.duration>0,h=f(e,t,n);((u=a.selectAll("g.trace").data(h,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),u.order(),function(e,t,n){t.each(function(t){var a=o(r.select(this),"g","fills");s.setClipUrl(a,n.layerClipId,e);var i=t[0].trace,c=[];i._ownfill&&c.push("_ownFill"),i._nexttrace&&c.push("_nextFill");var u=a.selectAll("g").data(c,l);u.enter().append("g"),u.exit().each(function(e){i[e]=null}).remove(),u.order().each(function(e){i[e]=o(r.select(this),"path","js-fill")})})}(e,u,t),$)?(c&&(d=c()),r.transition().duration(i.duration).ease(i.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()}).each(function(){a.selectAll("g.trace").each(function(n,r){p(e,r,t,n,h,this,i)})})):u.each(function(n,r){p(e,r,t,n,h,this,i)}),i||u.exit().remove(),a.selectAll("path:not([d])").remove()}},{"../../components/drawing":97,"../../lib":202,"../../lib/polygon":214,"../../registry":290,"./line_points":344,"./link_traces":346,"./subtypes":355,d3:9}],352:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,a,i,o,l=e.cd,s=e.xaxis,c=e.yaxis,u=[],f=l[0].trace;if(!r.hasMarkers(f)&&!r.hasText(f))return[];if(!1===t)for(n=0;n<l.length;n++)l[n].selected=0;else for(n=0;n<l.length;n++)a=l[n],i=s.c2p(a.x),o=c.c2p(a.y),null!==a.i&&t.contains([i,o],!1,n,e)?(u.push({pointNumber:a.i,x:s.c2d(a.x),y:c.c2d(a.y)}),a.selected=1):a.selected=0;return u}},{"./subtypes":355}],353:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,a){var i=n._scatterStackOpts,o=a("stackgroup");if(o){var l=t.xaxis+t.yaxis,s=i[l];s||(s=i[l]={});var c=s[o],u=!1;c?c.traces.push(t):(c=s[o]={traceIndices:[],traces:[t]},u=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},d=0;d<r.length;d++){var p=r[d],$=p+"Found";if(!c[$]){var h=void 0!==e[p],g="orientation"===p;if((h||u)&&(c[p]=a(p,f[p]),g&&(c.fillDflt="h"===c[p]?"tonextx":"tonexty"),h&&(c[$]=!0,!u&&(delete c.traces[0][p],g))))for(var v=0;v<c.traces.length-1;v++){var m=c.traces[v];m._input.fill!==m.fill&&(m.fill=c.fillDflt)}}}return c}}},{}],354:[function(e,t,n){"use strict";var r=e("d3"),a=e("../../components/drawing"),i=e("../../registry");function o(e,t,n){a.pointStyle(e.selectAll("path.point"),t,n)}function l(e,t,n){a.textPointStyle(e.selectAll("text"),t,n)}t.exports={style:function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(t){o(r.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.text").each(function(t){l(r.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.trace path.js-line").call(a.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),i.getComponentMethod("errorbars","style")(t)},stylePoints:o,styleText:l,styleOnSelect:function(e,t,n){var r=t[0].trace;r.selectedpoints?(a.selectedPointStyle(n.selectAll("path.point"),r),a.selectedTextStyle(n.selectAll("text"),r)):(o(n,r,e),l(n,r,e))}}},{"../../components/drawing":97,"../../registry":290,d3:9}],355:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":202}],356:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,a,i){i=i||{},a("textposition"),r.coerceFont(a,"textfont",n.font),i.noSelect||(a("selected.textfont.color"),a("unselected.textfont.color"))}},{"../../lib":202}],357:[function(e,t,n){"use strict";var r=e("../../lib"),a=e("../../registry");t.exports=function(e,t,n,i){var o,l=i("x"),s=i("y");if(a.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),l){var c=r.minRowLength(l);s?o=Math.min(c,r.minRowLength(s)):(o=c,i("y0"),i("dy"))}else{if(!s)return 0;o=r.minRowLength(s),i("x0"),i("dx")}return t._length=o,o}},{"../../lib":202,"../../registry":290}],358:[function(e,t,n){"use strict";n.version="1.58.5"},{}]},{},[4])(4)});
	</script>
	

<script>
(function() {
  var callWithJQuery;

  callWithJQuery = function(pivotModule) {
    if (typeof exports === "object" && typeof module === "object") {
      return pivotModule(require("jquery"), require("plotly.js"));
    } else if (typeof define === "function" && define.amd) {
      return define(["jquery", "plotly.js"], pivotModule);
    } else {
      return pivotModule(jQuery, Plotly);
    }
  };

  callWithJQuery(function($, Plotly) {
    var makePlotlyChart, makePlotlyScatterChart;
    makePlotlyChart = function(traceOptions, layoutOptions, transpose) {
      if (traceOptions == null) {
        traceOptions = {};
      }
      if (layoutOptions == null) {
        layoutOptions = {};
      }
      if (transpose == null) {
        transpose = false;
      }
      return function(pivotData, opts) {
        var colKeys, columns, d, data, datumKeys, defaults, fullAggName, groupByTitle, hAxisTitle, i, layout, result, rowKeys, rows, titleText, traceKeys;
        defaults = {
          localeStrings: {
            vs: "vs",
            by: "by"
          },
          plotly: {},
          plotlyConfig: {}
        };
        opts = $.extend(true, {}, defaults, opts);
        rowKeys = pivotData.getRowKeys();
        colKeys = pivotData.getColKeys();
        traceKeys = transpose ? colKeys : rowKeys;
        if (traceKeys.length === 0) {
          traceKeys.push([]);
        }
        datumKeys = transpose ? rowKeys : colKeys;
        if (datumKeys.length === 0) {
          datumKeys.push([]);
        }
        fullAggName = pivotData.aggregatorName;
        if (pivotData.valAttrs.length) {
          fullAggName += "(" + (pivotData.valAttrs.join(", ")) + ")";
        }
        data = traceKeys.map(function(traceKey) {
          var datumKey, j, labels, len, trace, val, values;
          values = [];
          labels = [];
          for (j = 0, len = datumKeys.length; j < len; j++) {
            datumKey = datumKeys[j];
            val = parseFloat(pivotData.getAggregator(transpose ? datumKey : traceKey, transpose ? traceKey : datumKey).value());
            values.push(isFinite(val) ? val : null);
            labels.push(datumKey.join('-') || ' ');
          }
          trace = {
            name: traceKey.join('-') || fullAggName
          };
          if (traceOptions.type === "pie") {
            trace.values = values;
            trace.labels = labels.length > 1 ? labels : [fullAggName];
          } else {
            trace.x = transpose ? values : labels;
            trace.y = transpose ? labels : values;
          }
          return $.extend(trace, traceOptions);
        });
        if (transpose) {
          hAxisTitle = pivotData.rowAttrs.join("-");
          groupByTitle = pivotData.colAttrs.join("-");
        } else {
          hAxisTitle = pivotData.colAttrs.join("-");
          groupByTitle = pivotData.rowAttrs.join("-");
        }
        titleText = fullAggName;
        if (hAxisTitle !== "") {
          titleText += " " + opts.localeStrings.vs + " " + hAxisTitle;
        }
        if (groupByTitle !== "") {
          titleText += " " + opts.localeStrings.by + " " + groupByTitle;
        }
        layout = {
          title: titleText,
          hovermode: 'closest',
          width: window.innerWidth / 1.4,
          height: window.innerHeight / 1.4 - 50
        };
        if (traceOptions.type === 'pie') {
          columns = Math.ceil(Math.sqrt(data.length));
          rows = Math.ceil(data.length / columns);
          layout.grid = {
            columns: columns,
            rows: rows
          };
          for (i in data) {
            d = data[i];
            d.domain = {
              row: Math.floor(i / columns),
              column: i - columns * Math.floor(i / columns)
            };
            if (data.length > 1) {
              d.title = d.name;
            }
          }
          if (data[0].labels.length === 1) {
            layout.showlegend = false;
          }
        } else {
          layout.xaxis = {
            title: transpose ? fullAggName : null,
            automargin: true
          };
          layout.yaxis = {
            title: transpose ? null : fullAggName,
            automargin: true
          };
        }
        result = $("<div>").appendTo($("body"));
        Plotly.newPlot(result[0], data, $.extend(layout, layoutOptions, opts.plotly), opts.plotlyConfig);
        return result.detach();
      };
    };
    makePlotlyScatterChart = function() {
      return function(pivotData, opts) {
        var colKey, colKeys, data, defaults, j, k, layout, len, len1, renderArea, result, rowKey, rowKeys, v;
        defaults = {
          localeStrings: {
            vs: "vs",
            by: "by"
          },
          plotly: {},
          plotlyConfig: {}
        };
        opts = $.extend(true, {}, defaults, opts);
        rowKeys = pivotData.getRowKeys();
        if (rowKeys.length === 0) {
          rowKeys.push([]);
        }
        colKeys = pivotData.getColKeys();
        if (colKeys.length === 0) {
          colKeys.push([]);
        }
        data = {
          x: [],
          y: [],
          text: [],
          type: 'scatter',
          mode: 'markers'
        };
        for (j = 0, len = rowKeys.length; j < len; j++) {
          rowKey = rowKeys[j];
          for (k = 0, len1 = colKeys.length; k < len1; k++) {
            colKey = colKeys[k];
            v = pivotData.getAggregator(rowKey, colKey).value();
            if (v != null) {
              data.x.push(colKey.join('-'));
              data.y.push(rowKey.join('-'));
              data.text.push(v);
            }
          }
        }
        layout = {
          title: pivotData.rowAttrs.join("-") + ' vs ' + pivotData.colAttrs.join("-"),
          hovermode: 'closest',
          xaxis: {
            title: pivotData.colAttrs.join('-'),
            automargin: true
          },
          yaxis: {
            title: pivotData.rowAttrs.join('-'),
            automargin: true
          },
          width: window.innerWidth / 1.5,
          height: window.innerHeight / 1.4 - 50
        };
        renderArea = $("<div>", {
          style: "display:none;"
        }).appendTo($("body"));
        result = $("<div>").appendTo(renderArea);
        Plotly.newPlot(result[0], [data], $.extend(layout, opts.plotly), opts.plotlyConfig);
        result.detach();
        renderArea.remove();
        return result;
      };
    };
    return $.pivotUtilities.plotly_renderers = {
      "Horizontal Bar Chart": makePlotlyChart({
        type: 'bar',
        orientation: 'h'
      }, {
        barmode: 'group'
      }, true),
      "Horizontal Stacked Bar Chart": makePlotlyChart({
        type: 'bar',
        orientation: 'h'
      }, {
        barmode: 'relative'
      }, true),
      "Bar Chart": makePlotlyChart({
        type: 'bar'
      }, {
        barmode: 'group'
      }),
      "Stacked Bar Chart": makePlotlyChart({
        type: 'bar'
      }, {
        barmode: 'relative'
      }),
      "Line Chart": makePlotlyChart(),
      "Area Chart": makePlotlyChart({
        stackgroup: 1
      }),
      "Scatter Chart": makePlotlyScatterChart(),
      'Multiple Pie Chart': makePlotlyChart({
        type: 'pie',
        scalegroup: 1,
        hoverinfo: 'label+value',
        textinfo: 'none'
      }, {}, true)
    };
  });

}).call(this);
//# sourceMappingURL=plotly_renderers.js.map
</script>

<!-- Pivot.css -->
<style>
:root {
  --lblue: #3E97D2;
  --mblue: #2878AE;
  --hblue: #1D5981;
  --mgray: #767171;
  --hgray: #333338;
  --lgray: #D9D9D9;
  --llblue: #e2eff8;
  --llgray: #e6e6e6;
  --lllblue: #f1f8fc;
  --lllgray: #F8F8F8;
  --llllgray: #fafafa;
  --dbgbdr: 0px;
  --dbgbdr2: 0px;
}

html {margin: 0;height: 100%;}
#Logo{margin:20px 80px 0px 50px;padding:0px 0px 0px 0px;float:left;width:200px;height:100px;border: var(--dbgbdr) solid red;}

.pvtUi {color: #333;}
table.pvtTable {font-size: 8pt;text-align: left;border-collapse: collapse;}
table.pvtTable thead tr th, table.pvtTable tbody tr th {background-color: #e6EEEE;border: 1px solid #CDCDCD;font-size: 8pt;padding: 5px;}
table.pvtTable .pvtColLabel {text-align: center;}
table.pvtTable .pvtTotalLabel {text-align: right;}
table.pvtTable tbody tr td {color: #3D3D3D;padding: 5px;background-color: #FFF;border: 1px solid #CDCDCD;vertical-align: top;text-align: right;}
.pvtTotal, .pvtGrandTotal { font-weight: bold; }
.pvtVals { text-align: center; white-space: nowrap;}
.pvtRowOrder, .pvtColOrder {cursor:pointer;width: 15px;margin-left: 5px;display: inline-block; }
.pvtAggregator { margin-bottom: 5px ;}
.pvtAxisContainer, .pvtVals {border: 1px solid gray;background: #EEE;padding: 5px;min-width: 20px;min-height: 20px;user-select: none;-webkit-user-select: none;-moz-user-select: none;-khtml-user-select: none;    -ms-user-select: none;}
.pvtAxisContainer li {padding: 8px 6px;list-style-type: none;cursor:move;}
.pvtAxisContainer li.pvtPlaceholder {-webkit-border-radius: 5px;padding: 3px 15px;-moz-border-radius: 5px;border-radius: 5px;border: 1px dashed #aaa;}
.pvtAxisContainer li span.pvtAttr {-webkit-text-size-adjust: 100%;background: #F3F3F3;border: 1px solid #DEDEDE;padding: 2px 5px;white-space:nowrap;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;}
.pvtTriangle {cursor:pointer;color: grey;}
.pvtHorizList li { display: inline; }
.pvtVertList { vertical-align: top; }
.pvtFilteredAttribute { font-style: italic; }
.pvtFilterBox{z-index: 100;width: 300px;border: 1px solid gray;background-color: #fff;position: absolute;text-align: center;}
.pvtFilterBox h4{ margin: 15px; }
.pvtFilterBox p { margin: 10px auto; }
.pvtFilterBox label { font-weight: normal; }
.pvtFilterBox input[type='checkbox'] { margin-right: 10px; margin-left: 10px; }
.pvtFilterBox input[type='text'] { width: 230px; }
.pvtFilterBox .count { color: gray; font-weight: normal; margin-left: 3px;}
.pvtCheckContainer{text-align: left;font-size: 14px;white-space: nowrap;overflow-y: scroll;width: 100%;max-height: 250px;border-top: 1px solid lightgrey;border-bottom: 1px solid lightgrey;}
.pvtCheckContainer p{ margin: 5px; }
.pvtRendererArea { padding: 5px;}
</style>

</head>
	
<body>
	<input id="hfDados" type="hidden" value='{{ Dados }}'>
	<input id="hfDadosB" type="hidden" value='{{ DadosB }}'>
	<img id="Logo" src=""/>
	<div id="output" style="margin: 30px;"></div>
</body>


<script>
const LogoData = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAADACAYAAAA5kXV7AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAFsISURBVHgB7Z0HgNTE/se/k+xegaNX0Yfi/9mwPhuKgEexISKgYEU5UOwoVp6+p/vsXR9WUIpge6AcoIjUO0ARFOxiVwTsIPW4spvM/zfbbkuym+wmW+7yUW6TyWRmkpnMd/owRDLj8wL8idZImd2whT/f+gMej4rGyEMLmoK3aoZcY3cji5NxK1qhyFcYZVYFm9D5jtyFHPf0/QOMcThkFs+UosLf23VSGNtfkthRjKu9GXAwODpIAIu0GjqJjSVGlpmmecw555rm8BvzTRLY13R1hcSVd3cx5YvdW5U/MHOYghyk/hk8FS7s3WECOB9E/yRN28mSNefmrvO4A+3gcb4Ylx8+FI2Nh9e0hYu/Sa/nAN13q/fqjJprussTxzXnCmVyc3HLcSPRGPCs2JceeiE9d5so86RxEjpgie1rOaBtVaX/Xsd9fUbDwXaaXTWrTTXkgyXm6k25fn9wdgSJQ0GkHRaMKElHNOwQGRbhL7m2jfz+gKy/Rbn22602rv/xu/ljapEj1Id/ykctwQs/oiDv4z83m6GFr1skMuFvMxREtScuO+IdNCYe/eBWiqF7wuemRcagfV17Ce9fj3HHd0Fj4I5lT9HfKzWvWSUyXMcg3roP3NUJ9/X6Ew7WM+rt1q5C5VgmywPB1bMoI28fyoHCMakhGoJsiUxE2qojN1dTDau8tk4p31bl3Zjtmo1L94rI2LU+BvEsiTRE7z6962H3YhwOnQq7fpGRr6M/jUdgPBUl9A7OjDIzGydG7evaSzENNCREE2UVhupXspO9o3BCDhwbfqdBg/h3Td+s71L6vRcO1jB2ZTF8Ww6VmHyWxNUyBtZOVBZD7z4Yc/UxyaLFQciFyOxVFi0yofu07IfilmnYD59TWhEiE2uOcBJiQZEJpy2qXfGeKuc93W75P+1aSAvY5W8+z7fsfvfPmcN2IQtICa8ypmMOpHSf3nUWdxB96n+bvDeeXbcfGgutmoomwWPjzM3GiVH7uvZSTAMNhd1FA+j7bZfQTtJ3FFMGNvxOmbY5Q384pA/VVjBm/rlM2TZfgryKMvubKYbaReo5D8ZVTF3BLxqR8OAVNc5c3z7XNI85j/E/DAsVW6LTFg+nLd6MLp3NFeVttCisaDd6zsV7jJ7bBBkmWmC00n3uiExrQPkXGgOezwsopV6ctmiYtW9WZBo89PlzaZghq5kVmSPwz8rj4ZAaV87rKF3z1j2sRP1UAn+FXu2JojIQyuxDdYIQdouMmqbIqLoiE7Z3NInnVKrZrG03cva4rkNnFCBDSIZs5YrIMLUfnviwExo6zatPo2fu4T92RCZ73LVUdO73M/zsmROZpmCK09FvFhIWjFlwB3Ozzyizv5WiYc/4zDz4i8yJTCL7ev6HCd6XTGSCz3Mgk9h9m1sUftDx0vIR8aGxnniBsSpDS3af3vVEIsPRCW7pBjRkPFyCxEbQkRw2c0QmO/hcl9Df5v7jnBMZdqK/n84hOdeVt8S182+CS1pLWbGHc9Y28nJDERluQGSCVg7jXJrSYdQbb3ccVR7fDG8h2jWYXBYZSGfiqc8b7ofV4v1ulBJOhV4tLhZHZOzhmrcK6evoG2WWWyLzN9TxIXDQxzOlCGPmDQMvWkpnD9J76xSfGYfOo4kUmWjz3BWZxH0yEaYs9MtP5kya2/6SOR67ms30m8hyVmR4F8jK5WioMPlyipWi4EnMNb17HJGxnLYl/aj/5ag489wRGRf9uRAO2ly9oAu2dXyesrhX6ewfUddMiowaZ96ARAboQIf/3tKycHn7Ua+fAItJMopMzzyrIiORyFzgnxja0Hh07d/pUQf6j3UFVudeR2SshUvnUjrTqeHnisjwI3HTkv+DQz3DFzTFdW9fAhdfTi/oAmpu1n6pjU1koOFevchIdNCNMfdrHUaWXwcL0fiAbMrQkt2nd10zo2Vd0bHtuWhouCAit2X4PNdFpqHiqegomg/8x2bfnVF71ohMGxSwxrGaghHGvrEnWqtUa8Fz9G+vsHmSd9ooRIaxZCIjTDpCku5rf+mcF9oNnWFJN4TOMOWcF5kCSOplaEg88257iunBceaOyGQeSRpBH1v78Hlui0x/eDzGRoM2VMTzX7fgNDD3QqqxaBc8HZExKDIoYhzDWYvCee0uey3teYcJRpHluMhwHIlnPzoJDYXawmvoobSHYDsikzkmrHEHBlnEkLsicwDqevVGY0U0iW0/QYwsLadX19VvlmI6d0Sm/k467SX53PM6jZqTVr9MklFkOS0yTahDfCwaAoFlYQYltOOITGbYtONIMEl7EmNuikwx1bguQWNk7IxitOOPUxYsRohFr3TtiEw4IDzK3LDIiPP9FMZntLvktZRXjjAwiiyXRYYfj4mfH4F8p1WzMvp7SFJ7jsjYT4Gb4oIX6L8jPfOsikx3XFfREo2Jaxd3AGs+i17TJfHZuvZpvXljFBmWmsiAdZKYa0qHS18fiBRIvFRM7otMS3Ce38vHjP+WSl7ScOMZVNyB5mm9uSMyhvFUtKXP6+Tweb6IDOedqT5/ARoL1y3aF7KyhI5OrX9njsho+R/rRkoiwxn1D8svpSIyyWfy57rIcJRiwuedkbdsPxGMB+Zb5JvINDSYPJg+pi7RZnp29cyzJDLAOWgMXPNWV0hKJcRmX6GHd0Qmof+RgUijJlMiRKb9yPKTYQJjM/lzWWQYbwNVyc+hmmJZGLAxiIwHR2SygxiJxKSzAydG36meeRZEhrGj8M/FXdGQuYHExS29TQ/7t3pDR2Qi7ev5HxmIdESGSeyVtiPnHA2DGJ/Jn8siI7GL8PSKVsg32n4kloWJHwnniEwWOLErFVYiRszkm8jwJmDuwWioXDv/APrQ36bn/1v8O3dEJtK+nv+RgUhDZFrLEn+t44jyfWAAczP5c1dkuoA1y8M2aD6aYkB7DaBcF5mGNvNClk+DWKU4irwTmWENcoWLsUv2hEuaGVVzcUQmoX09/yMDkYbI7E01yVepJtMMSUieTeSLyLikkZjxecb2OUibJ9YcCpWf5T9OO4OKO9A8TepuuuHIV/yrErOL/cd6GZfOaXLzDIoM44fCh35oSIhMTFJeoKND4645IpPQvp7/kYFIVWQ4RzdZYk/HhyqamFFkBjOeXBQZjn/gL1/+NBEw+VwKf30JwBGZ7MHkbvS3vv8if0VGGJyNhoLoF2vd5BF6qr4mJp7GmDsiE3V/pGGaIkNnF3a8pPxGJCC+Oi1ehKF93CN8jbwQa8+su0bv07ouMbEJ0/+Q6zz54d4U5pFpv7s4e7A3ToyGI98ILA0T/YnGvQOj7xRpxmGyOAkd8MBxnH12Bm5d3AH39vsd+c7OE26lhxsZzo0Np9egQdg8+K4s+i5EhhyTJUfJDqWkWrp/CzmxkczX0fVvJPBN1EG+WfIq2yKdVCGVMMY7qIztRW7+nXN2KJfYfhLnLUg0qLsDcf6IlMqizAPhiTePLJuQDc7Dj8w0nglhueJR9qPcC76aev2W725z0Rsvb5l2xs/QQLu9Nm9FhpXi2c9OwuWHLkIuw9kgiIXl/Dgik1U8K/aF2OPekFjkg8jw9pCZqMk/i3zmxoXiGW5G5MZ7gtwUGS+d/8A4X64yaR58NR/CJ21RJw7cjRToMHxa063FLf/G3FJvqgmdTs1MYvBJy8in0BKZ0PNmUmRUCX/WwVsDHfQ7BPNTZCRIXNRicldgnlzdhv5enVrGlUMigwYiMm7eh77W1qYzLt3rycwzIDJcHop8FpgbF3ShR3qcHqRZeunVTpHhKmU3X1Inwwx4a1+G7N7In+hfCwv4ffpFVfTzVfDfM+2unFGySy06hUnSJRSaUogFKZFNkeHbyXwF4+rL1buqF+185fwt0KH+vikftYRc9BEd7RNlQ+9j4HrnPLE9s+4ava/+ei01SPagWswa5CJPrC2jyJnsP457lDTfna5ztsTJetxwbBfkM57PC+DatgqRG1IZfgdG36meudE4TBae0AGLtE9NNOiBe3rn5jeQiKEzZOzd8i16nPoJfWmnVx5jzrQtGvKHU62EzwCXJkFusRaPda9GBim84s19qUo3ih7hXHqKfYUZiwk3CwpEvHkEEaIRbR7tRtiGyjeS1iwiN+fV8MLKHZNO/QsGSD6kMf9qMoWQ1avpaARyjUdXFkOSrw+En6dROs6Rmky+I20+ij6B6NFJDaMmUwimimXr809g9m55LT1EX2vTqxU1GZWEhU2nTpOHML7/D2SWlS+i9pkBP9DPbS1HlD/kLZbHUf/hcApIJ3tqMviWHnMJPfO8Womt2jlx4GaYJLoG46YajBpTgwmHLo9qMhxbofq64fJ/fItc4ukPB1KjZTkFMDh6L7ZkFSLNd6frnKVxkv81mHvfeZbSu/a+Qvlek6GOZdR5j8UDJ21HvnDDggOpAFaBcP+k1XlICjUZ7s9uX4PivR1PnPF1toRFj6LLy/eR4X6AmuqGUMiiKgwp1mS+JeFZoDLMpbhYs/2ZAVuRBhqjyJBeaSEXajIMreByib6Ym5BLcNxQLy6C2JJVjLnOab25U5NJmXuW70HPcoZlpWPd62FzMbLoQzo43pA/psMTU5MB9kehXEq/c5APiCHJu6R76sVFYHV6NV2T+YVy5xvx887XMXNYHZ5EzlHz7OD19HNO8VVzh8mc3U2BD28SZrQmQ+/uM9LRRSpj8yS1Zu3WicMsK5TojCJD/osMxzl4esW9uLJnWgpsGU+tPYh65Y7zx3TUiFhHZLKCwnpDRmCDt4yIDF9OJcK7oKrLYdQf0+GJFRl5OPJFYHZ3G0Sl8DPi31uWRAbUec+81+Mx7eG3uUb1UwNnFF/+xrsSU59nkMIb5vGI52L1hsL4M8b5fCjqPFdB3Ud/Pj1sF2zA+FpkYXNmzD7TuZCuu0bvA/4GV4scmnQm3UnPElhpIK6WzaJ+4sx1TuvNk72k2PttjpNcRywyKrPLo8zSfgdJ3iln03B7jxV09APM+GM6PBHNPirvg3GL9kWuc81bzcFcVHuBW9uC1ek19nuLal6shYLrKOO9KF/EJUT1s2f83FzBWRzq4/REdSFzoSYq4yqVaz8gEX6Ac+X4YpUfv3XCwHFbnx+0wi5xEcTUYCwuLWS7JsPY1Xjq81dw1SG2vUBDPPNJe0qwwb0rQiWoBlCTyVfcKw+jBzgmcGJD6TjulP0B+BYHTSeR+T3pxaHBmgzjreB2i51SH0UuU+S+mIJ7oP9Y91vPQE2Gsa30cz7Gn/o28pRfxdwbj+eGkt+P+Y6e6BYJ/FeqsCzkKnuteZM232wKjnrbgcygUYOxuLSQ3ZrMYZB8pcg2jN9O4S+JMAiZx1qM+okz1zmtNzdaCo470Dw17W6+wDCU/hWFTmKu6dyTRk2Gq7Pg6f1bwECaSn986cehwZoMw1nwzMjdNfquXtiJnuXmKDPdV2BnTYb9DtXXB4/lr7iE8XjUXc+c/pRcJx/RwSX12vXMGf+umnDGJ5syPKRaoNNE1oBExi3fFNg1MktMWNOESlTn6CduR2Qyyv1rWtDfc/3HtqXLqJqpSnrySvjU04M6jlGpfV8Sf0yHx1+aPxbedsciVynGhRTIveLMMykyDJvoOzwFj5/+MRoQYq7KdxZN/kyVBDtaNhCRERPOSnYfgWzhk8dSU1hb/7EjMtnHWyOW3ajvl7BbZBinTEt6P+oSj5hlb7/IuOj4XOQiN1PtRZKvMf+tWxhXnP8JLxuER0/9BA6Wk2RHywYhMhIU+Z/+YZCZRuzNIUmjg4GK+qnHEZmM4pIujzOzU2S4NJ2ax6LXauKt36C/m/XvS+KP2fAw1h93UEd6ziEPCddesiIyfCcJzDCMP2UtHGwhItNtGX3FfpGpTWjPrLsJ7+OnYc+zDkCm2aPVKPK7c72BrSLjo5JxVbS5IzJRjF8lMtkTNcPPgv+sTe/bUafEDxP2HFJHGdv/EtyX3B9z4ekCb1FP5BJiDx6mjokyE8+QMG60LuifRrkbj0LmF+Hx0yrhYBsxpXq9CLNBZBibRd7vSGjPrLv69xXQk96GTMI5g4qxgXBEXrBLZMQ8C3yNOGt2iUwebmlZxcSs/UBJPmGasii9c74Yd/Var2nHh6d07zPqj5nwuKgpivPcKRnUqKfR9/93zWumvveU4+ohPHLKbDjYSsyGY+E/MWaJzGMwmjg4/4NK3K9b7q7efZydgUkfdkKmeObTMyBmU4fDEXnRBpHhrBwRY9+jrdkkMnmHMiLq1HaRUSfpLi1y94lfQsxL0LzPhD+G7fET8J9FeyBX4LgMYsV73fdno8gwrECzgv/AwXZMjiKzWgzUCfa4q3Ef583BC65FpmBc1JiiQ2abyPBvIAVHKqWdQcUdaJ7mHfe8dyQ9xIFx5naJDGNfYbd3JRLBMV3bPRj3x7i9EqgFFyAXGPt2a8p5uoXPMyoy2En9cCPi+sUcbCGFUWQWikFZVzG6pjL+AmwSGfVCPLqyNexm4kfHUHiO1Lxmh8gweQmu7rYl1lq8341YZFzsRgq/zqAWG0RGVecmXWiSK1PIvRp9vw34A1P2hmP8W9kbsh+iyHUJiWtJlFnmROYR3H+S9moKDpaT4igyi8RANB8wvGiLeGlelzqhefPzYTeq6y74h4caCWfaIrMLau2Tif2ING+EIjN6jZtqsH39xyllZKabYLzw8heRDE/vXRSueQlK24n9SUacPXYw/io+FFmHaQ+btltkOD4Cr30KDhnDwFpkNolMiD+9r0Is/Z4pkRGluKc+L4FdPPPlPqQw9SN2bBcZ6ki+ptuXmg44IhPg/5SL6G/78LndIsPZMvze9CsYgj2T2L0E/hhyPiqHlej/K5BNbn2b+oH4wea/azOJTiOuxAKPXPHgEfN7mjikTuKhQJkQmZsOr6IMeYal7iZOi8eiAKfCLlitmGfRJNrMNpERCyi9GN2R7IhMHFwdHWdmq8jwaZh4tBeGwra0AqKAldA9PfMURIZT2vdUtES24AXnUYCCi77q2DETN7qvIOaCxCrBd+buVuoNlORjTTMhMiicSH9qLHU3kXcM1Mn3YxGs5rGP6MOVLtG8ZofIMKxGgTofiR21T2TyAc97+1C4tVdysENkOP8NvuolMBw+j0p/Z+u6l9TcrMjwTlDZScgeQ6LOMiEyovai4gE8Nizja3E1djSGKWtgt8iM2O97qHyu5e7qf3v9sfeu42A1xfJI8rNNem3JJkSGSwtx2dG7kdzRxisyxVxs8qa/2KPVIsOoecxz8i8wg6q8oOueIXOzIsOuysrKFqUVLoqLQ+LM7RYZCe9C3bocDhknwSgyPXObREbGVFvcZTqmijTKv5SLVUxYI/ayuDa8VLjdIsP5r/TOJkZdlhI62vhExp+JsoFJg2udyIiy8sswyx2ln4BJyzXc0/Fby9yMyPBuwAl7IdP08PWgvy00r9kpMpw959ResoP2TP5MiExsZvhj10Vkf23a7mqaaxnyc9CplYXLx8jnU8YfWBYmEyIjYRGuOOLnxG5oGDQmkSk+ZQD9DcRJJkRGwodQ/loMs4g+NM5NTDrWdQcG/SuCWlCGTKNKgxJet0Vk2CZUuRbCISvo7wdjt8jE4mE+qOrLcfbtExk3ZNcYS5bP8LshjYvyx16R8VIN7PH4myU9+wlPk4YpiXO5C49Z6yqJdbNxFeuoypfAM3A3UqGq5gX494HKkMgAF8MztwkyCuuWNHzpP1e0G5y/gadDe/E4ZBqdPpgsiUxT0eTDNmdMZDg7F89/uifSZcKnZ9HfA+P8sUtkOF+Kv7Z+lvDmxi4y965uQ4E8Mc7cSpGJTpe7qMlyAlLFPymTz4hxWPM0ubmByJGwD9DqSGSWg/x/rRSZZN+Q6p0Gh6yRfCZ/JkVmmNjaWNVe8sQWkeHNqWlrDNKF4WrdcNkhMoy9Ck9vHxIEKN4NDYN0RSaXcVMJnTHtPjY7RIazStQuWY90YFJ5vMPap8nNkzykf6N2//ygzPDPxWJdvvr+l0yIjMS/QzOsg0PWMDaTP5Mio0rPIbR7diZEhuEC6qBvi1R5/qMTyJ8T4x2GTSLD/qLc8zUkpZGLDFdG+n/NDf6IuG5SZCTMCg45Tp1/93iLUv66aIehe5rcPOlDDoCnIvW0bwaG+F017RYZlS3Hf/pnavt5Bw2Mz+TPlMiUHfQZJZa1uvatF5lOkArLkCpcvjLaPZtFhmMKrhI1PS1U7Zsbm8g8uLonJe2Dw+f2i8z32L57FqyA8ZjCg40iw7AHvaeByASyfLimuZ0iw9Q34JBVEg/TFfHFIw7C50nsGTbXQVUfp8Tyoq59s+76l+/g+uFmbATGr5qAMceZK+08u24/KimfG/Y0WbhEGERYdMOTJJxikySvbzwS4R/CzOJvjns3ab67XIZhWNyzJH+3Om4ZiCuOJUkXtjRKHfUZFBbcSm66dAOZ9DtMENZYVDYEo9dMN7zyQKpw3jXlNGbmvnozHyT1Y+Q7w6c1RYu2R9Cn7zZ5JwzPwfCZu8+VwAGfT/6p5vmBPxp1yz6RSTTNa33XV9Dly//SUZt4d4z6Fxu+hBlMVzQpGUxHL8AMspf6XiTJVLjSERmVL8C1R23EddBBvFS1cYvMoxuLofyi3bdgtcgE7lXo3/Owirv7fo+7lr9Jfg5KLa5gNv2fhE4796aj72ArbO/E+UeKIgMdt4Cv4ZP+RL7Tuq3o370/nFWHy7LRL4PF3ObPAhCfzTIe3fvgP3Mhev52hPtS3OIhwetR5m6/fWFW6MIu+coZ+1U9Pcw/ci9mFFmy7WH0mlx07CUz18PDRC45Qd99o/7F2k/QVMJQhkdXFsMo/u13pdGa7trVXMb5o9DbwCrWk/S2XzYeplzD++twiF0r02qKNHifP1Nk76D2509gJRzztMNkR3MZL6BazEjYDReLjSbLP5JEAjNxD2ff4+FTqpDPXDlDLMp7ZZRZ8HF5zMuI/dpD5Us1zpxF2Wcx9uvdCxioceZ69gNm9Fsi86J9QuYao8iSfYAZEhlWJ2owXn33jfoXa1/X/15oXnIMjFLY5Dz6W6TrruUiI30Htdk7MEQjFhkJ54WPMyIyWADPsDpYidp6Gjn8R9D9OA8TnSY317ggUWf/jQuawi6GzpDpb7tgAKJ+4rBKZBj/EfmOu8XplGv/Lc48J0WGhUUmkhQ2YIo4sFNkLjr8D2p9mp/YfaP+xdpn2q4yg8vHzPi8gMJ2d1J3rRQZrjyFMfvVIhFM46QxiczDq6idn5dGmdkqMmwztfO/AKvxHFIHVZlZ702sBYtFhuNQNCnuAbvYv03MsjSZEBn+NfIedQyJv/bLyGGRiSTBKDK7RcbAWns+9T7DGYE1InM+9mzbFcnYqp5Nr7atIXetERnqQN6VQkbWyESGS2X+37i0kfDdapgjMeH7lArc0sPcwpZGkd3TEofJYpEBP8+SVS202VM3/HaJDJPyW2CuXng0PWNgFfAk6TTXRCaSJPvB2C0ySSjrugqisy5zIuOCJJcl/NBEDUeW7kAirBYZsBm4sudWGEH3Q7ZaZJBbeKhWCX5h+DwjIiNNhl38q7vYTnxVtJ+xliwUGcYG4z/v7gE7YFJr7XDYJDKM8lKfL7+byNw4mR6kfimfHBEZrb6XyN9Y6gWmJZKXCqLMYw7MioxRVDxqLBxJ/DOciNXLMPGLv0GPTm3EXhr7J0/8lolMHVWTH4UhkoiG1SKTSzSrOpfC2THKzF6R+QW1m+1dAp7z/8WZ2SYyvDm4Ogx2oKpt9cORpshowdk2eOXU1oTLBa6raElxET/wIgdEhkNHZJi2yMSvpmxkAlOE9agDO0SGF4kOz53GwpHEP2OJuBhuPhx6SPI4nfuSuZuayDC+Br/O+gaGaawiw87UNo49t0hkGF5JeWFLo6iKmAvm0/A7sUGqIsMxCJ4Z+nvnpIokN4v2L9ZCGiKjWSjGDjA5cX9lLsPretB32kXzWp6JjPFO/myJTFmXGioBTTIejiT+GUnEnF2PZz5pH2dn0qfH08Veuvclc9dIuGJFRmEPmF+CpJGJzH1i10oMNJ420haZOii+ibAbT+/N1Ly0FIbCZIHIMN4DUttDYTm8SfJwWCoyuyiGEqzVl+NIOAdizojZd5EjIhM59NdcJ3+2RMYtP0H3qMbDkcS/5BHXGgVsaNx1Ll+d5L5k7hoLV73IbILsNb6/CNM4aQwi45JGIDQTLTMi8wk++vV7ZALOJxgXvrRFRobqOheWk2x+XYxBuiLDuA/t81Rgrp0v9qgaED7PR5GJwHwnv2UiY4ILDviBXsVyc+HQCZeevVh3mXwjJnxfv/rrpE9ExOt/fLaIDHtef0tkIzQCkfFwUdI7P8rMbpHh/FnMHKYgEyjeueTx9oyJDDAMd7zVHFYichmz4U9XZPIVmYkWkpZRZnkmMpHE7wdj5CO0QmTM7giu8mdgOhyx5yZEhvN94Np9Sr2Z6xLKkFMbdad3PVG4GKqg8DdhFsMfbJoik/kd3bVptuZUeq/7xZnbJjLUgVxbbM3ClkYQ2zJwdWrQb2071opMZ7CS/rADR2QSI0ao8tCqCibyKk3zwE/GRAbaJFmuP3Rug8iYxa2ILZV/h+lwxJ6biTh2HSasaYJJX3WiN3h1QvtR95m4rhcuzubjysPWIhUyJTK5gISzUv34ktvTMufz4PnHNmQShdf392RCZDgbQv1+FhYhRPaVbL6XjkEqIiP6L7YX5mBiTcKOqmPpPR0Rn61rn9ab54DIMEOjyOIDV3+eZZG54LCt9AYe1/bPNpE5HnIxdez7xIrJRUntJwuP3vX4cInmlylIh8YgMo+ubE01zUCzZWZERqyR9yQyjafXOvL3M50w1WOVyEi8P7w9rZsTo/Bgv2/GRKY5eG0h8g3uOoWeNZjP5JvIQFNkkjT5xJ5nWWS4TyyfoT380C6Rkdg4unhbUneNhkfvelS42JdQpPTnWDR4kXH1oz8Rk9F0rFkmMvxHFP/1EbICjx61ZqfIcDSFu/A0WAUXm+SF32HQP4tERtuNEurFMLxafU4g5r4wFpgeEX7WfBIZM2uRRd+XnEyJTJMv19MjvJR+RqJzQfN23o/MW8OIu0bDo3c9dMqU8fqbipmkYYvMP+NM7BWZCRjTPzvzK7yuaZQWazXCFI8VIgP1UnjmNoEVSNgV7YGFIqPlBid58ar2Ld5pB7xGdO53iX/W/BOZSIy1s0Y6Yqq9GtaKzLBhCvkzPaE7tvbJGHDX6H2619kWeL1vIxUMZRwRBmmLTBZ59P2D6d0doXnNHpHZDZ80DdniP2IzPBa/VbZtIsOOBtp2hhW4sDn+e7NVZFxQ5PbIJ1zyoPqT/BaZSKIFRmLGItwKkUk1s9pd9T61u6+NdtdsOHTCpWfPrLtG79O6zvjzuOrYjUiVtD/YvBGZYHOCyThJVWSYtAy3Hfc7sgnnUzXNrReZOvJrBr7Y9C2s4bdo/zIgMtx3APKFGxd0oQCfHW2YZyIDbVJcrh/pi0yqiHkhEnsi3l2z4Yg9zwmRqaGDuUiXhi4ynjVN6BnrN2LKhMio3P6Z+8n4d8/FlPY3aV5LW2TYbjp+m3KK4eBKB/yn13kWzvXZpOFf8NcmkWH8QOQLKjuR/jZL/qw5LDJMW2T0O8ICc0GQED07uuaoX08ASdxORLXvbRS5tiC0pbKec0nDkSRc6bpr9L7wdakSP7+2ClZgOIxBA11zDt3tl7NFC6U3lY1i1rcyGSeG04bf3u+o/ukt5AKchI7hzvTSZdhArPG3hA5fQjFbgFt67oQdeHrvwu2Voh+mJNr70AEPHKedZlHvBpe6IF+QxFYJweOkzxp8VxblVUJkIntOQq6Hz1kgCxAiI0WZM//2y1H2NbxKYSa/ATsJzY15nZBLD/2dnuwpbXfNhiP23JrSgS76NRmKGmWS+XXHUvDLqppM1pCu0zS2qyYD6UXLd61MFZm/ALFsUurPVEUprRxcHQi1SUfc3mswPL1ewy097BGXen7TDk+aNRlNu0xkLwdhrIkt0LPFTfM60qP3jjLLw5pMVHRGVFsMjCKzU2TSQAJ1eEqKIXfzQ2Q24K+dC5AWzKhf+SsyD63uQl73tSxOktuvg6Tat++LWcb13EDFxMDW2cafaTvlAi9TDfkUqK1a446eQ3BH6RvwHJ25Je0Zpe94s5iDFERG/x0cAOZti1xHdYktvt1x5jkqMvHmGiITgbGx4lrVLO2mBGP3WkGB8jVq2Bvk/iBLm7XC59ZUQXWJvU/l/027FCmKC6oBv3TDGFsdjzWPbS7LAi52FkJp2ao4SWiffYEbu61DLsHYFIRW9dZ/ps1Q1Tfp9yU0ld/F9d2rkU249AUlzj5x5nHfm9nmMui9gyYoqPs/+k19wEwmkKRegSa9VL7PzDeXhcsAUeYazWVBXHEeAcYDl02RGXZIHV74clJAYCwWg8yLjBCW+UgXFebjIJ9ERqzVJMljqXkHscGKwzKRUZ9HrsHZIooHkWYC/VD1z/QrHZRTrvU//L59NZ7onzt7okj4NDDVO1GcpCIyeulVXJKFCFcil2H8KnrGCvqn35qUsNHcYL7KcR/EKgF2iQy0o0C7BmPmI8ymyBQXrECtV2zGtX9ei4yqzsRlh32FtOHBmM6AyCALItOyaXcKfyfb4iTe/g4o8hLkGr7jf4XrnecovNdD7KzJMAvc+xI2NFuLiUd7kZMoH/ur2IYHAFkgMowNxOi5D2PiwNzd3fLBk3+hv+NhN9ctuAOh5a7sEBlyk3MelysYX4sswiFNuyzGjqY9izOlYf9Hbcv8kfi2XO3TpOFgeucWuxuNl+57FVYQik2ReBLFgZE4jGvzjTE3WnKyEkm+yvY4ibLPZ+GWY75GruFhYs/526h4uCc+/qUzbu1xDf7Ve1Xuiovgz08R2p3T8FSGUC5mJA6DCTgqHfMj0Lo4f+bDZBIL+mR4rLkQmRh3za1FFuGQIfuZEBmuiFnvu/JXZPg6/HxIBawi/G0m+ziNfrRIIDIZ5IFVe9EznRXtvZ0iI0ZqieamHMXTu4b67H7J2L406SJG4TF8GT63RWQiDAI/MmS5Jxy0sUNkIEoR9Q1jkq7rOqdGA5fQXmAYoTX8ePAmyghmRvudRyLD8CyVSK3dfa8hikyhWyy+KMd7b5fI8B/gU6wT/nxGrEnmWdSZ+sBKkA4cy6LOMyEynF1h+QZq+UiK30WqIhPC2F6mdoiMVYjmAhVijSge7XdeiMwmSGw27CBdkdFyLMOaEmb0GjdVKC6MM7dV+KWJGZgbkrsIMfn3im64a9m1kFstg1T0IyTXc0gHrlTGmdktMuAHoK7gcDhkRWQkw6HJZZER65OBVcb7nesiQ+JSdshvsAydcKUiMolKhZnmIBxKHh+vec2euK6G4kt/u4R8Y9yKVvAsPxZ3rbgNknsV3FhFucfjlH6OpkREeQU1UXoqOiJVJLYMWmOi7BQZ0V8ty1dau4FaHpNhkZFMhSZXRUasT6byGdF+xR1ontabZ1xkqqhU/gIspwGKjMzKoDUZLYTlcc2Xo2rBB2gMeCrawvNuL9z5zj1oitX0rldTLnE3vYODAxai3pUbLvdIpIqn92b6+7nmNTtFRuWDUXfiYXAIYLPIRI40kfQc0zXIVZEpkl8nx3+O9ivuQPO03jyDIsP5+xh5SGpbIuuRLFz5KDJPrm5D4T49qT0r45qz6ZYu2ZNr/HN5O9z1bh/c8+54uFwfQlaXUZ/TrXRlP//1RHmAql6GoTNkpAx/XfeSXSLDWCGZXUbpKFOpNvexUWQikTRdyUeRGbbfn5SAXtEPa06JjApJfZrMrB/rm0mRyQSq60QKUxdDdi0RfvwGpa7hde4/8E4n3PVOf9z97gQ0lb4gQVlCaeEaegl/07SvH+edcWj77kgVlb2R8LpdIsNxMW5feCQaNdbkgclEJhL9UWR2iwxsaBJl8hR6XG/Oiwxn32Fb1TzYRUMRmUC7+aUB7wz6l25ci5WFxfDffEeU1u9a1gX3vjOQROVF+PAFfXKU5vhoutouyq7pjnN5DFLlrhM/Ind+SmjHDpFhKIZacBs8MwrQqMmAyEQ0ZiceRWa7yFhM1fZvyY/Zmp7llMioU21fGypdkUnoZoZoOVg02dTPY7BfZHzUBLQQ+YpouvKs2B/3rDwf9777GnXUf0SFmTlUW7mArrb020n7m/W3IfbHLYtaIFUYn57cjg0iA5yJuvYnotESkoEMiEyQ5KPI8klkLjvaC66+kjyDyabIsM0URmtm7se7rXOagshkq5AQiYufT3+j91a3U2QYdUDvs6ES+YQYwu1ZeSDue+cC/GPPt1AgraUM/CV6niH0GxQBq79Z1gRN3RcgZdgrxqxZLjISxLyzxjgvJvwOMisyMYtdxi5kyIBEa1LpnEYFLpX1udKhQF0En7yajrolXkvM4mcw6i5X5+PSw3+EHbDgH27ieSOXlYlbZy4L8RfiqYoSqMrZmtf0whVnD+biWmXPYliO7PuSCLHPSXulK7h8OljdqWRCfQtSoeZD2ZXe4bqG7D2TUj+ip9c6eJatIveOS2o3aXjCCTlwnNQ+3xe+4v+SnZGwow80l6l/B8ETa9JE7NplkcQvdpkpkbGLYYfswstfzqAPrlvyjyvjIiMyL/u33mUZEhk74SViJdyD0k5XhuOa/0VNSmnux2MjQnB3FXaFKg+EpA4Ad3WlMEcP3TacGceax9o3kt75AdTHczQdpDacm0lPkxvHGYtDq0UGw3FbpYhrm1oScpgMi4xL03YmRMbOaU/V7FUU4hYKT/scE5n30Wzde8gEmRAZO+HSpQjJWGZEZjHG/mM9cgkhKjsLqHYiD8Eu3oe+yYPBVAmJHjlzIkM5inwFUhUY1VcBSf6TnGmXBZGR6fpT+GfFx7ivtwWrmOcLsfm4/SKTYBQZ1zHXsa9zGhW4TDHygOC+GCG/4w4MmseQfp/MFGqCydzihMzk86bSJ2MHT364N3kYvUhhuukq8bP7oOTIvi/3U+f5vav648H3xqOq6GMq6VdSxFxL3+2hQMyeIWZGAfrN4w40Tw27wzE45fXJ/lP6M6W3pxP6YzY8EQFLbp+3ptyv3D8nqFERm49zxBhontabJ46D2D6ZJKPI8lRkRNuqjOfpaesny2VdZNgOKo2+hkyTqsgYccsuVHkY/W1jebrSfXb2KTpvWIZsce/qNnhg1dl4cPVzkJp9BpnPo7RLfRwQOzImfrjsikxLqoWcjZTwf6P/o4OahP6YCw/MiQwOBFNeT2tEXF5ir8hEYmAUWZ6KTE3h5/R00dX3rIqMOhlj9tuBbJCKyJjNuKxi/FuF9NGfE+Fh9HU7RIYrL2W0c1/MUXl8VQc8tOpC+jeNGqq/pODMpAuX0NX4iY/JHi2bIsPYZUgVRf2WnnlCUn/MhCfqwIDIMPSEyz2jwYuMXn5ts8hIiS7mtciUdamhd/Z0nHk2RIYzFXXqBGSTfBEZV4d/UBgO1w6U9mm9eSoiw3+Hl70MuxFzVB5duScefn80/ZsBr/Q5+T+d0uhwCkPyiY+5KjLAMdTZfxBSwdPbRwUv0TRZY8AfY+FJRWTAT/aLjFjssyGTKZGJQGMUGbQ78q3u+M8ItW+AF/xKL2KPKONwmPTCavAZDHf88xXWbImcDFFeSLCEVqod/3rbL9uBwi4n/10ppyuzHf9cehs3H23hitYRiDkq+9d2AnOfSWe9KGpOJQ+D83p44vBqDrYAUuvgT5ZO03q3Mv1fRr83IzXEd/EY/ftnEn+MhkfjuYx0/JPIyL65uLniPDzYexMaCmI1jB3dz6cHDPSV6ebvsLbjP4h2E1mmajJ2c8FhW6G3HXFmazIPIlMky/iN1mRCJKrJWI1oNgLrm8Each01j02ClYgmvkdW70+1lHE4QJlNZbiv6B3+N7AbZ1BcmMHw5k9N5iK/mKaCqMX4vCIOthjwx2h4UqzJoAcK8Bb+ubQbGgJXzijBru53U749FZGVCd38PXRuXU1Gvw+moYiMV3qK/NZuX8+IyPCNaKouRiaxQmQirWRKZFxNTyR/94oKgK0iw9fivZ9WIl0eXVmMR9ccSsJyB7xt55Hn6yhc99FvfwpHkeY9RkXGyL0w6JZtIsM7YM/d/ZEqd/f9nmretyb3x2h4QuaxBwZERozWk9gc3Fo5FtdQYSFfuWHBgWjSUqx3KGqG8atfZ0hkXEhE4IXHG+RTc1mTv6+H7+ul9AJO1a7iwd7mMok9hmEHZ352eLJmBiPNZZHPmqi5zApEHwXznZ+4+h5jrnNab54svOzFlPe0FzUVX8vDwQoGgasnUgZ5LPnnSq8pVcOe0XsN+5nMvRTfrczEwIw5SJVa3+soLBCDHI5J6I8e1s6T6UB53MNoXtwbnooxVMtaj3zh5neaAbuvpOZYIdiBJXEMp6HY7y34rtL43pJPd8z3mswwpoApDyf0276aTA1qFfs7kPXIp5rMifsfSB6ckrkBJXwT1DrzM7nHr9oLj65+EEo7qvm4VpO4iBKiWL7elVI4jNRkjN5r+D4bajIcA3D3yj2RKvf1oyYyhfpxmPEdL43aS6UmE8gbz4AXFfhXxbUkNIkL49nGM6UINy0cCr57JYnL/QiJSwjDacjamozBiVs6BvkiMh3/WAbRbJHIbztERuxPc+mhvyObpCwyOmZ2iQxXh5DDgeakTIgMl+bh+u5/wQwik/HJr4NJN0Gs/2U242/YItMMiu98pIOndyUihy1r+5MYa0VGsA9ZfZwa2b/FrUvPz7mtl0fPbULC0h+791pJ4RTzig5JO/2lKzIRSOkHIsXMIJP0po5EsTCfbtgQY26RyHjVx5ELpCQyCZ7VapG5f00Lakq8IMoje0VmN/17GmZp2bQ7uX9sAnfNhkPffj6KjMQuSjsDLqj7Nzn4SUJ/kmG9yIjjfejfS/D2+hb/WnIpFTa0+9YyxY0L2uOWxdeiRfFaCpyYmCuG99eHOEdERrImEHkgMgyvUr/RtoyJDOcf4OfXP0euYFZkAob6p1b2xZTIpfT3gDiP7BIZjlXY9ob5uGHSVQndTRIs0/bzT2QOodJcD6TDrdRUxpSx5E9tAn+SY4fIBE72pXxkIrx8PW6reAw3Lzk2vS2kTXBdeUuMW9QPNy+iWjT7CioXBdgDY8Kne1pvnjmR0W9XNN0xlGLHf6Y4/4DNeOWbGeT1aP2wBQmbx1hIah6BJN2fc/u6J+swjbxu5lnTQcxqf+bTYf75O5kYUBJ4xkmm40ZMkgQfkMRdDXOL7FtxbyY6/l3yRXS0HOlwR2kFPMv+Re49lNrgjST24p4rSce/9s0dyO51cLEx2K/tBmo+K6c+pAWoVj7AY6eaa3rV48YFTSlMnSgv6UN+DSSTo+kzaY/wsyUMn+ZpvbnZ/B0pdfwnGUXWwETGx5+GSxpFzyTbLDLUYVmX+aXfJdR/L3rkmsg8ufYAyK7Ttd21QWQ4vsZW35swiyRfSPc20XXXb26DyKQsCjrYLjIYRs1HN1J/yjakBTUvc1lsuXF21kUmcaYrvrp96N9YQB6LJvJuEpsNZL4aXPkECvuS0u9P4HVb4a2rQUE7BU2+9fqd2X4AA/+9EK4mBSj0FUMt7ETp/ADy/1ByW2yFsB+5IwRFu4akG9dZFBmVDBQWHpmZfGSErSKTYS7c/1O8+u1KiPWHeKKwBUlVZDiexMWHVyFbpJrJaF1P9KxWILF+9LdFUtGwSmQY5uM/x5lbE27CGjeqUWbtR2vCfj6JDKfOfsklFitNb98jMQHTU3EFmLw3xNDl3BaZegKFkAPJ/EB/ic8VslvkhauI8oRaBbWdAwJTVM2gNi+ExAugyNSnw6QId0w+Q5ILmRIZiQpwBTu/qT+NdQM6gdA01zEw3HaeYfw72AX3Aw+HJUnYWNxBEnNSbxVTkW2SvWtmIjL0njVdREep5Lo4zqO005VeXInSVQoZXzUvhb+PSNfdGHOj34sJ+yn3oZj1M5l7Bt6BzC6CFXh6b6ZmhzI62mT63Rm1F/dcXN++brqEET/FSgct4V8lHB2D/zrQvS2p4NQkSlwsi2ur02vs8/IYi+x3cOkSPDBse8iGxigyWBSIHBUZ2TWDArEBUWGxUGQYFqLsoPXIBdIRGWbgWdOlfYselEaP1PTIFpFhK3HdkebXhGPSNaYyWL+5RSJjyE2zGU+67iV5Bxzd4Vl+JKzg9j5fUAlbjDDc3gBExoB7Se7LVZFh7A86HoHHT3430rbBtchSDUQOisyw/xMJtX7yo9Uiw33PIpfIaZFhgyiNSMY/2nRFRn0YZvdhf+y9fShST4p2LoMiwwzYScWvtN1L+A4YXK7hsArPicupP+NCiI3hUs3Ik9lzRCYNkcEuKgRcjMdOfTvWpom1yFINhE5mkM3pSqryCoWjOnxulcgw9i2+P/gt5Bq5KDJiRjxjZ8W7G2Ngncj8hZoti2AWyS0yyqJ45/JKZBIvVWSLyKjnYuzKYliFp/ebEJuwiZn+qWbkyezpiUxCuzEGjU1khLiAD9USF4GUkUDoZQbZ4vwDP6W/86LMrBAZFU/Dw3zIJlaXZLWuWRF9BcWnINAOncBdC0WG88dw0ynmBl6M/7aQbhwGDediDjRP680zLTL+5VZW0TPfT+HvRulyXBZqMh3RVhkKK/H0otYBfjkd7cioyKResjfmp657Se7LvshsgMJP0xMXgSveAQbtRRA1ApHW6LKscy9UvgtM7zWrIdHQJn6Ux1bU+aYhFzAcNwbv07qWflRqdwTrph+kPrpMbPimeF+EWdRtA6j/pavmSwu7HxOwtL+XBPZj7UaP9lPomlgZuoKKja+jyv0dPEfv9l97YNUvZPEOstMio6PLODuP/lr7TdzR6zncvmIXZP4k+dM6Y6PLUh5tZdBPXfeShdXst25Zev2cDi7E+NO0V10Ioj1MmTUCkTlvv4/obxkaKpkQmVR5aq3YAfG49D9aoyKjzsfY49fDLBK7kMKXuBk5uyJDtWW2gp6/At6611Hk+hHXd6+Oc+eW4zbh/pWryb2TU47/1ESmH+5Zvgdu6/UrrOTOnq/g9koSGWkC+bOHIzKZFhlWCXhH4JHTf0ISjM/kb4gi09DJVZGR3eeSIwUwFcY0REaSH4FZHvrgEKq99kretAR7RSYWjhoSvmXgaiWFj0Tlrw0Y07826X0ye5Lsn+T3KXMi46J6VRlEa4HV3Fn6BjzLf4cYsMPwf/aKTAhHZMjei6j1XYUnTjc0lyxGYHjQJ13HLRQZOGSCdDM0M24aYcbnBdiqjtRt6onyB+mLDFd/xeat78EsBTiXwtXaWAYF+0Qm0B5eRc25VFOh5q9a9/+w/3e/Ytgwc3sMqUolqYxY2bujrl+GwmhSZFxyGTwVD/onTlqNp9f78KzoT11Oz1K4SslbZji8Ru35HyfymRqtyHgpEd2Jh069x8xITI3qP493PDZM0AmEprmOQW4tet0wSDtuDNwTQkoxAv+qFesq7WXYP730o2sek34lPESZWw3MMGFNE3q+sxKGS8f7uIClHCdMjM55iz7H6+BWD0TV7jNwY7cH8a8jfzItLoJbeuyk964zsMVsGJOGvd6M87+jQLZvC2JPz2+ws+YMiG2pJWgP4ki34z9wMeKYW5BejfiZwn32dPx/S+ZnYcPO+2BymL8r3vVge2MmajIO1pN23Bi4Jy0KRgdqGumUwIzWZLiPOvdnwizVGESZ1f5Jw6UbzpRrMmIG9GKyuxQ13jn4ZNNvKe+4qc1k8nR4uHkyUdj0w5jEHPHvgLOr6e+7sIuH/aMDx1KT2VqIrao59jIcXiP2NOO1kdRkGHsdat0NRvpbtHDpB85ukXGwjVwVmWc+3hNQTvVn/ml/HEZEhs/CGOrgNossxXfu2ycyW6CqC+n6EvjYPNx0zO9mS4mGaVXwAXZ4N1BfzN+jwwCbRYYNguft1vBYtMqwHp5eL+LOlZ+Aex8gP0V/k8tQeGNxREacbqH770TVtsl4etgupEiS/WDsbi5zsI1MNpcZRRITK1lx8rCk2/wQNJDwGMzy5JojKd2fADPh0vFet/mB4zc6eYn6Vag2wQ7FDd3Ox/XdJuHmY3+zTVwElx3tBZemIGGYdUivuawIrqZnIxPc3v0zoGIAFTCug1jDLC5cRuNQw55mvHIL0msCPxO6l+S+VJvLOJsDVepFNcPx6YiLIMEQTEdk8g8b4yZdkfH4awRX1meyPElY0haZH9C28EOYRYVY96p5yplATLAiwvcLCayYEzIUUtERGHv0hbjh2Bfp19ohvMmQ616jZ9itec1OkWHsCvAMDR8Ve/3cceJTdHQKCU05eR79vI7IaLvDIGq3V9BHcAEe6bcOFmBwPxinuSx/iKvq5kZzWbuPj6PyzP5RfvDgh2lHcxnD8xh2iLnO8MDWzQMj3EitOaM+WBugYAFkzENd3Xu46YQ/kG1uoE7xB1d/TGHrbukQ9uTNZUfg3hWH0sGnyBSeXiKTHILbV5CoY5w/DAg2fTrNZZHuVINJ46H6HsUjp1iaRk3sB2OxyDhYj2bCh/Uikwpu6XKqerOww5EikzAsKXy0KupQ5Z0CszSVziMn/i+Ndyc6fn6gasILYN5K+JQvcH13e/sdUkH1PQFJ7p5yATDVuOLSNfT3UmSaO3vOhKeCajLyuXR2K/07KBCuNEVGwCNbeiJqMrr2Ywz0pmxkRmR85MZjUNnzeKTPt3Y0z0oJzqID58fi5jIH69GswiOFqjWs47GPWlLmcmacw1GtDNyCan7QQMIMf3+GGUTzDefnBxwx8+6YSvd9SQe3g6ulqGZH4doj78KYbityUlwEqrIEYvFPQarxn0pcMXYOHlrQFNnAv4FZrxeBbWKnSGoGwheBcBlM6Mb6mlBfgDKRZlPNN1NvLqujNPss/TsGJa5b8Wi/b2BT31/8MGW/MiZSQKcmk/PkWk2miXQ2ldSa+49jwxXVysCtqclwTIBZnvjkCPLjSF2HY/1h/Av/xnKq8i4Kmn6Gqw5JqzM0o9za60888N4if4YvyFxNphnqmoiCxsvIFp6Boj/mWYx/awr+Kh5MBZ8rKLw9kGhJoBCGR80F80gz7zXVfNPcfduo8PVfeNVXsWH7txYPgdfE2FpkceaOyOQ8mRAZ44G5OqF71orMR6j8xvzMfVk5n5o7mmo2u9WffgiVT4MivQvUfqG57le+wNWnwVxDk/ZJWC0y8DeTZU9gQgSW13kVHs8MKKXdqO9tBD3rmfSsHRLeZ4vIRDTvWi8ynK59RmfjUed7C4+fmtFBJcbXIoszd0Qm54grZSP7IvP0Z4dRqeng+LSRIExpiQwJgNmS2aMrW1PGd3b8R+5v/nqfaisv0O9q4M91uNbAul/5QAH7gFrgxTDezmGzTIgMw7G4+9298a8TfkIuIEacAe/5/3kq7qB0eRoF+hxIUnd65maa9+SDyHARt+qLkNTZ2FL7GSYO3I0sUC8whT4Vqhw/nM8ukVHZTjhYzY7MiQw3lmAltZ1YbVLbXctFZjeq3eaXh3eXtAdX/hZoXuM+EpSVVLB/CS7fSvzOfggve9+QELWvB1e/Skc3R5nbLzISVLUt/eaGwETi6S367aZg9JoX0W57J8hSKYV/CP07np69XZTdnBMZLoTye0q7/yOLC8nep3jgpO3IMvUC03+/HZiz/kJ6qX2pGSC6ZqO5JwqP+JWizfX2UAkhU1ugUvw6HKxFksZQ3J1OmWWBvqWIyEmUYSSKQybVwsdWwgjMu5xy8AuoQLG3tj9M3zN/LSfB9TjkH3D9IeY71q8+9Gs8/eEw8qoJfRIfoKZqQ143fxll9+670LRwFb3nFlHmoTKjYvS9J8EfheFK5Z/Y1CRzQ5VTYeLRXgQE8AWq4UxHbZ82KFQOprTah56lJ2X0h9K308YykdG6OanICEFh6+nFUnMtWwJVWgPFuz64bE7OwODg4ODgYAxPhQt1Shu45S4kAAeTyTGU6R9Ax1SA4ntSllpfuOOxB8HsVktkuI5B4Gcn1Uw20fFXVBhYA/9mXyodF/6J+3tuRQ7jCIyDg4NDOgydIWPfViUodrWCF22pht8JTKFmQNaJKt8dKJclM7GbaHiZpCJSDvrnX9yU+/8D/qDrVSQk9AuxZNAfkOuEGf3yLfjDvQNP986fkYoODg4ODllA1II8FUVwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcNCDwcHBIUzpgNFtUVznQnWBr/LNiZvh4JCDdB88vH0BlzsFT7dVzp66gX5V2IHHI538yfdt61yyVAu57r2Zk/4yeqsjMDlAvzNHXqRKuJcOv9rudQ1c++bE3Vr2TjvtmsK6oqqJHOjFwZZx146rK2fO3IXUkPoOLptC7vSjdOlZWj71uVgLfQaPGErWnmBgXytblVMqK6fWIE36Dho1iEt8IjivdJX4yhZOn14Veb209MoSqVXtnZQweyMNOPiOWq93+LtvTt+QyF7pUPLPWzccklpGn2dX+iKaRlyuo/MNnONDuv5CW6lqwcyZMxVNd0iYJJfvIcbYEbAAzviG6ipW9t6C+I+5z+BRE8nG6RSuSRWzJ9+u50bpoBH7yEyaTodtVI5/k93XYQF9BpfdyBm7knGsV7eq/fXSRWlpqUtqte9ESj//QFrwXRJXr1k0e+rHsVf6nlnWlUvseUovbTnnjy2dPeVZcQNSQLwvicmL6fY6rmBwxdzJX8f5N3jkk5RtngALUKFuU3y+kcvfmP5jMrsUtpYSZ2dDYufT6TH0ryTGio/e8+cq+HKusCcq5076DmnQ85QL93A1cV8qgZ3NGfajN1oUcbma3sEPDHwtpYNJS2dNWgGdd+6CQ9ZRJXYRxc+edNipudsrEs8yLXvVhTUHScBF4pgidx+mNNtBh9cihQ/qhKHD9+I+5ncLXB5Ef+MEhkEaSw53oMy6A2sp3UpGtyMNBg4c2WwXE+KCduT6kLrdsnDvq0g7cquaM8nPsSnlEDEUFhSMo58rdS6z3oPLBjJfzQR60A7+Nxhf3Cog87+T8d8pkoZtUZp9RxmMZ9uGT2asXbvWG2lRLvSeylU2gsOKkEPE6BFFxeoldPSgxsVR9EdiDBcgQZyQuFxJoenhP2HsudLBo76uLJ/0OdKg96CL+5JjD7HAY3aRWspUCMF0Tf9bdxlEIlhmxTvxMakMgbQehcrYWRQ/x/t9YOzxvoNG/Lpk9tTZSAEZMqU9/n+BE34O/b0z8nrfISOOoee5ChbFMQkCZFfBNXR4vZ6d7oMvb1/Ia0cwid1O3jZN4JyLwn4EvYsjmIwr+w4Z9Wadot62Ys6UdTBB16FDCzoqzS+iAuDDdNrC/6Txj1tMhgeT8cFkb3ifQSO/pBi6censaW/H2nYEJgdgIjkHD6kUpl+rlLxF4FL9OaeENHDk6iVzJ78Ek7i9shTKUKm0LGnZoaC8RSE63h8whuGeAClXw6tkPoRcahc8/RJbsD7eTxKf8Btgu+ijSamGRi+yjt6PbkbTe/CIsfSBi8xbDhr9RXGwjh50AxM1F/ASejGdKQvbj1xrFXAUfyc701p0PnzQyW26jli4sL725fJKq7yy+iHVCDvphgmsxO+ukWfjqFYlXqFzVYr51XaCwx16l1QgaSVxPHbUUUf1jxVHo5xMzTI+SC/H+CLr2SfBLbEiLsmNXfBJy7QvIdL/As6kiaUDR26qnDt5DUxC4asPLTkUe11R8S1jnGpRrCN0gyoyX7QIulhN6WG7rl3GdoMpi/WunzRw5NEKr5tMFg+NyLZryZONdPc3dPxH0KwNRTalU743mYvM30VxP8gtsdLSQSPvbufe+bhezTsSUeNk3hIPhzqOwuZ/FxT+X+kb+JoKm5vIXx+ZiGfbhy7sG3xOoZNd6QuYQzXbB9u4dt0R6ZcjMPmNTJ/3k72HjFpfMWvSu7AYtZZNlYq4B4GPeJ/KjzcOpN+USoeiHZd/+tPo8IfC8VryJje+iHN1JFJgY22z6u/mP1Grda3PoIuOBZPuoTDI/myYS/PpEcdUzJ74fazdEwYM71zoLhhGH9EIsnowApn62b6Sgifod3nI3gJqkjjttNO6Vxd2KNYLE+NUY5Mw1v9kUF+iwsQ4Pbt/fFO1e926mXWwEMo++zT/2z/KsHbtRJiEChbSso833kAZbHukAMXjPHrRlyMVtqKmsnKy0ebZdpKMSScMPPe0d+e++gsshPo5tlEJv1t7b9MmenZcYKcpjIVE+FV6bt3aSVtXq9qZMx+r1rpGNeXjKZd+iw5bBkzYLnBlMWPyhNbyjkVxgkHxU7p207HMpYwgcTyP0mtzca/E8OAWX4ko1OmmtTBU46R7b0agLk8FND6JuQvuWTrz2Z9j/er94Yb9mMypdsrOYUJwIAoz7OYtSnPREvJT/ftwyHdaUml9St/Ty05dMm/KD7CQyvnPb+ozqOx/lHBEuy/lyZyaB1ITmH6fbTyc+gECtSFgN7WbT012D9Wg6sRHDQsZOnSovMUr31HfpsymtnHvuFSvhBfsw3m47+Crpqis+k6mcvp4pT9R540To/nz5wtBq9Xzm/oL6niwSE9/ayosfjYDUK2V3186YMTyyjenfmXmxqWfbuzhYnwsUoSaeKorZk2x+3lF7VoUAA4rkIrvpRL5JZWVlT5YyLqZM+vW+Wu42lAfY3V9KxGrrZxt/plLzxpxIFchRCogLoz/rKp8HH0LL+reRC0LlcAqOlpVOnjkixTRL1A4RC2D3ge7qe+Qsh+WzJqiW7AYMGB0kyr4bkGwRkiFgXEV5ZMfp2+fa/lFVWvRPzWOalnjfRIXfY+n003r1K3K75FWE1axHXIZ9j4lg8+CJ/txt/T48UOHFsNiFKY8GfaRo0+vMy7pghTgCh/jb2gjVM7foI7Bn5AFfq8r6UTB6Bk83VbH+N1Gmg+WlD+1pWLW5KupoHaMtFM+dumb035GfuEXPtFUxtzSw0Jojd4omsaoJPo4RCnVD0t1YImtUKY4OxQ2yvCGu1rtez7yjFOGjmotc0n0f+wTNFrvU/hpJFQvGnWjsnzyOz5VLaXDT4JGEhXWHhKDGPTuqZZqqJ+RH+U/oWbiopq6SZriEsOiuZN/qThi7+GypB7TxOvqF9sq4QhMnkIx/yuV1y6nLDswyojxAYV1TcfAYpaVT3uPfFsbPJVcsmq6FOsf+sswLHiqyow9iSwhcdaBfpoFzvjGd2aZqvXxpdSMtnjxxO3INzifTInG32dEKn/qn2rzCw3eyby84Aa6PzASjLNvqNF9DnIQprBFYiRZ8FRSGZ4SHfPII0hMBlOj7en+E8630GOMWj5n6mdm3Vk+Z8pGKtWdRW9lU9CoOdVqntL1l0l7h/pdyN+v5s9/aQeMQjWaRa9P/fZNjdGvjsDkMUvnTFlJQnOXvx9BtEJIkqff4JE9YDGqqjwUPmHslK5dhxbABJLsHUEBDLVbf7y4fLLl/UWGw8J4RNhZ4xmmr7JPqRASEnYqcPJHqKnswGS39T6z7Fh6Z9cFT3dQU80FKlcsbXaykqLapvfQz1z/CUcJuPxi6cAL/448oOdpZe1IIMMFOM6kp5aWP78UKbJ09gvfM+YvEAYG5jDWv/fgkYdr2ZUiBhfRt1oIi3AEJs9R/+osxuX/L3haRCnplV6DLzkIFvJHQXU5pfbgpEO+b/sDSy4yei81xRRAksId9WqghGnRWF7zqAqPnFfSudeZIw5FI6FWYfdQM9I7wdM2rED6l+i817NfOuC8ttR3Mp6L4dp+2MRURmdlkvnzn6hlijSaDj8U5/S8+0uugodOGDiyGXIcdxPpOHrHYiCJ+EA2Sgp7Gmmy5LC9ZyFi2gM1kV6tZY/Lcvi7oJrO/j1OP78VLMARmDynstLjq3Yx0fn+XtBoLxfUJ0TmAIsQHZvUwR9qenAxlZ1j9N6/apudQMnXL3iiWW9TbclMZJFixfsLE0OkAzR3y9KjR1n4rnKZd+dO3qlAFiP5/M0f1MJ+zrJPfjpDxzpj7mJR+j02eL6usKbmLuQBS+Y+/7vK1VFUsQ8M4/UP2eViDk1O11gZ56eGj6kgIJ4D6ULNVxxqff8NYwOg8R4Kmet7BIdUkyjv4S4seugo6vhHmjgC0wAQSzdIdZL4oEKz1vtKruJxiUqnZqnxYSrVYvxNI9SwdFyfIWVHGrmPyyyixMSe1Rs6nClE27IK9eHQOTUu9mvpLl7ZZ3BZmVh+Aw2c5eXPC3GtLywwjD9FownJ3zQG3CiOqWCwjVpQxphql88ylWLWv8TupjTnT7MSY//uPejiPshRRLMzpcXS0Dm1RCyARbgU6e3wCUfHPkNGdY61s2DWxN84Vx8InVPhY1QLt29lnzNHnVFaOqIlUsQZptxAWDzv+S/7nll2A5VNXvS3oTJct+zzTSvp0ixYAJV+f+kzaNQrdDgcYpkKlYkZyGWJ7qGEvDfl4IESMuNVHNJkmEFCi0QjX/T4q5ny56cxS9BEsrtJs9ea7K46jopxl4pzel9iMuXkIrh/6TN45DIqSb5F/z7xMWyszPxQYttR3UUPS96aUkojJ4rJpF5X4e1UGBkRmkQrRjLV+fjD4aYxxp+pKJ+8BOnRMpW43Lmx4Oe1ayemNDG0jbzz6S2+kp70AGK1gQIG+aXS04f3q5w3Pa3VDOyg/f5NxQTdwCRdBi/zsVWwCDHSi/pefqX0voc456pPFChiR3Fy7nM/x9ze7hSAAUGzw6lzZo7USvqRvoslJIALfJx/KRfs2mB0iSqnBtOAWDJnyuuUCMIduUzhz/c5s6w7LEJSwyVf8RH0Kz0vSdMSV69AcGgrExMrZz2/CSYQTQYSk340+69tlTvhkM7VLz2xg0prN0NVx1HJfGfEJfGBn8cZm65K0keSJK3tO2RUeemQskv6DjyvAxoIlTOf3lXn5dQvxgPiyfl573y84ezgZVan8KtYcIkZ+v1wS1PfPUgXaqZKIS6/b7638gpSRAw/r6qpu4TiONDvxNBBLih4rnTo0BLkHi0pfIG5WRzbJEiWFmyYGHUahKvh1TSiEIu7uuAbxTl/kNXP9RHNaWI+zaVU233NLbFPJF+z9+i7eLXv4JEXJKvdOALTsOBNfK7bSWSCy0/wVtSe9WyP08v2hQUsnjvpI0r8ob6ePaWa4kv07J588vCmDKx/8FRljD+LTMGRdGiqqJksnTP1AS4rx5L9/9B39GVwNF4IWSyHQR/bIImz5yAXf9Bn8KhHe54yeg80AN4JTMoNNRW66MHv7zV0eBdqRjqSqbglaP6X4lOvSlQbtBmJChn/GJBGX8BqataTuHoZfQf+xR+pf+E42VciCmG52x/DUFeruC1dxYG+RUPNmwvLp/9RccTe/1S42o1ellitIramI1q9DqHv4hxKMy9S7WZ178Gj/nPaaRc013LPaSJrYIix6H1PL7uMF0hzxYJ0lLIOLShgDwwdOvRcIxMKk8JUqsVIYkY+9UOys6kT8UForE/mLXafRfn1IWJoPQd7f/GsqathFsa/pSzf/DBNJr1h1Grl6/4Z7Z5+Q0c/RpnpERLn3UgNT6APkvqYuKjR+Ath9DH9jf6OLWjqG9Rn0MjLl86evBB5jrp1139Zq2a9KKc9mTN0cfkKHqYmkZaBRRUpCwG7v/KNqZY01VDGLt7zMpM3qRQPs9/UWV3cKFSzX0fNczdRjUis2deEnmt47yFlKysSzGzPOEz2RawA0MLFqy0bKiyg9x8WANnFEg8zD6wKIFauHjNgwHl37nYVHMkhd6NComhuFMOcI/sq96cv/PaaoqK+Pc+66MoVr0/7NNIpR2AaIGLJGMoErycJEMOXRRX2rM3eErHG0H1IE6a4lnOZU1MX34sEoGvpJxtPrgTejrLk8VBFesNZoXkmElMfQQpDk7kqfVgxe1Jq61eZZPFM/+TJZcF//n4Iby07hEtKP+ZfKof5V9mlXLcLvdfppWeNPL3y9dwespuMysqZu3qdOeJGlySJ/hVqNuFD6vM49n6NvNOyCbH0DlctnTU5I3GpBdVYZ/cdXEb9SkysPi2RcD3Sa+BFHyyfO+0j5AIuZTN8kqgpFlEiK2FNXWJ19d9gERSte4SqbAq44abqN998RUxPWBj8h55DLtzDpbj+wSS5H4nWuaF+HRKZE9yq/L8TBgw/JXKLDKeJrIEiSthcUsOTMInb+w0envYkzODQyVDGU0ziEbccfunH6w+jhNcvePrLT9UlhmsUucKCmZP+Wjp30vKK2VNvV4vcx1F5XjQbhRYmbM9ULiaf5v1ETTFLnCoK90cZcmzmqnLVezNnVqMBobTg90GsEC7gKHHL7lePOi83hqi3Q9WfjLONoXOmqJb1nfYbMLwzZQPBFaA5l32uH5EiK2a9+GvFnKlvLS2fdL3s9R5HTZj3UTEy2ILBDiwscEWtJuIITANmRxv/ir+vBU+LVLhf6TPgoj2RJqqkiKVCAmsOcdatdNDl+0ReZ5AvrZ+5z8Zne2hyulS+MnFzxewpD6kc14TMqATcrbvGcM98ZId3s+gfmx84EwUS/t+K2S+sRQOjcurUGvjco0PLp4hJmC1qiqccddRoN7KMaL6m8KwIG3B+hlXTDBS5YEB4GRjqa7Rkfg2xmGoqrd27/q2qasQgEDZYbI4WOnMEpgGzduJEL4MiRnK9HzTaCwWu6aWlI4qQBjvbFHxPX+erwdP2MqsL12KOP2VUa2qrDXTuM15F/Rmm96rJUXiJzyVGNK0PnhcXBoZ75j1r33xzN7hyDZVDn6O+mIe2t3c/gAbK0jef/ZlqbBdSCSG0KOOAFp19dyIHYIG+w1B/Zo9lH/2U9jpqYn6NFFgF3Q+VHibBQoQw1rIi0aIRHJGIvVVFCa8C4AhMA2dJ+bQtClOvpogPDMfl6C21kh5DGgjhUpk3nFAp0Q4IiVbTJurFCK4Ey1Tpf2aHJucyorOZai7hdnEJLOeXHzGKWLdq6ZzJo6nj+xYRv2jAVJRPWaaCXRdhdD31WZ6MLLPbtf0d+pqCg2FYMZOkm4866qi0alcdDyi5gL7PriEvJKXa8gJfwdaOYpmZ0AKwMpdc4VXdHYFpBCybNfUDleGKiGG4l1JGeR7SwdXsY+owDa1r9X9Sa+m0o0aPdqucnRk0UxSmZHVZGC1OGjiyU9+BI3v//bRrUhmlw6j02yJ85sIWOOQl7eQdz9NPqBYuJpROo9xwb2QR0efFFbFVceg75YObdz7iaqSIf509zh4PnVN/yX+XzH1Fs3ms7+nn79tn8CVipQPz/Yr7rBeDxQJN4lQzJAfCc8scgWkkVJZPfpnaeEOL58kkMHcgDcRkPc68/w2eFlBCvrDZH+oJlMACnZOcv/+HqyrllWDtQpH5bC5jSefiqqV9zyzraubefmeOOARc2i94WisrytdwyEtE005dXY1o2g1svMbQgariVyDL7OhYIJrJQv2mYpD/3X0GjxSj70xl/KWDRx3iZvKc4M6W4nv8THHvulfLbt++F7VRC4qWUOvcQqrJzRWFMJiAbXWfCP8oRL80fuctaLk5dM0RmMYDd1cpYiSUf5VZSnhpj7Mv4Hw54yw4JJH3lZkq9rgPVun5RLFIJnIMFhhuLCbndOeyNL/v4LIxRrYfEMMzFUl6moqBgaH9HPPFpDQ45C3vzHt5q+RSh1GuuDVoZOnck1QQzZO1ir/5LtRvKmoG/+09eNQz3QysJiGaqnsPHnmRxNRKzrh/c0DqV/uTu9lQveVdvM0L2ge3PZbpyxigyqikwtc5RgYZ9Bs8/CBISqigKQRl7nsR20A782AaEQsXTq/qO/CS/qqsfsaCJY603KMMts+gsocovxaj1VpQvd7fKUkJ+jsJatpDk6lzsn2/IZcchxRQ67i69M1JHyBm/g1X2OX0GU0WffaUsXSmZr7/djyg2U0dDiib7OK8nO+q+vGXX1C9bt3MOvGxSiVqGxRIQ6jmIsQ5NAJvu495b4WDYahtsWOqccl8qu+vn12fpLomWSIWz5z6We8zR1zIGBN7yBje5dNOxLp//YYOH6r43PPoOz0E/nXU+GVN5eJz+g4eOY0pvqlur/J9dfXPu9u1a8f/BIrVOrmVJJUMpO/uas75AaE5aEJc6As4qWLmZN3atlgAtffgsmup8CX6ZiX/2nwSe3X5pxs8fQeNelaVpcVFu3dv/OOPptUiDo4/fmyxu+3mjrLbfaHKcT0Lbu1Mfn2lFlZH9e86AtPIEEMUKTENpQS4COHaRuowpizkcImZ1vXLeSiYsmTOtLT7J6i63Zv6PN5DKtCT0cf40pLyyVE7Ny6dO2lmj8EXfVLAXU9QaS3UsbsXfVy3+4B/o1mzXR0PwM6OB4yso+tuxqVWFI7IpUrEasznLi+f/iUcDEOZ1qmcq6ciFSjbb97Z9xLWwugunKYQ8zqoGUrMaxqHHGHxzOkb+g0d2kP1lUyh00FBwWhJ73EMl11jaiXXDqlo311bfKgjRSiWJEaZvOqvgbH6ffTerwUbtrI8+fbkFeVTxvcedPG7TJKfosjq5jfkOJBqQY8zVVFri4p2ttjbt6tP55Fe8O3UiV/Qhj7Qev1gfANTpYsrXnllc6S7ThNZbhAagcElql7oWWKM7wx1AFKJJuVJcGIUDZV0bgu7W7+wnWmWlE/7hvp2pkcYbaOmpHKkiMrYVzFrgqUO45qT6N6hMKvbfjidPBtIlpYjODSUBSYLiJFhog16H/rA9ozYiZMKa1jCJF/PyvKpbyMFuMTCCxhSzSmN9b1CS30kc4OHm0QoK/gFFkFvKZxeVDDdRRk5lI2wCg7NuORSRNp1pf5Ol5ZP/iel4/plcZhagxTg8IWXtaG0lNYSN4tnzty+tHzKEJVhGKU9sQJ0fd4Q6FsJpFPRfwQebN7zfzs/UWq9VN2qnrhyVnJxCSHmPqnN1VKK0xHkyCcR3yHpBG8hvoewf6GmYpEWVT7Tp6DH0tmT3o918/8BwX42UXfVNV8AAAAASUVORK5CYII="
$('#Logo').attr('src',LogoData)
var mps = JSON.parse(document.getElementById('hfDados').value)
var mpsb = JSON.parse(document.getElementById('hfDadosB').value)
</script>

<script type="text/javascript">
$(function(){
var tpl = $.pivotUtilities.aggregatorTemplates;
	$("#output").pivotUI(mps, {
		rows: ["Macro","Estrat"], 
		cols: ["AliasFundo","Ano","Mes"],
		vals: ["Bps"],
		inclusions: {
			"Ano":["2024"],
			"AliasFundo":["Amarok"]
		},
		aggregators: {
			"Bps": function() { return tpl.sum()(["bps"])},
			"Resultado":  function() { return tpl.sum()(["Resultado"]) },
			"BpsOB": function() { return tpl.sum()(["bps_carrego"])},
			"BpsOB Especial": function() { return tpl.sum()(["bps_carrego_esp"])}
		},
		renderers: $.extend(
                        $.pivotUtilities.renderers,
                        $.pivotUtilities.plotly_renderers,
                        ),
		rendererName: "Heatmap",
		rendererOptions: {
			heatmap: {
				colorScaleGenerator: function(values) {
					// Plotly happens to come with d3 on board
					return Plotly.d3.scale.linear()
						.domain([-50, 0, 50])
						.range(["#F77","#FFF","#77F"])
				}
			}
		}


	},false, "pt");
});
</script>

</html>
